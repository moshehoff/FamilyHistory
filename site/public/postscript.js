(function(){var Ne='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',be='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>';document.addEventListener("nav",()=>{let He=document.getElementsByTagName("pre");for(let Ge=0;Ge<He.length;Ge++){let De=He[Ge].getElementsByTagName("code")[0];if(De){let Oe=function(){navigator.clipboard.writeText(Ze).then(()=>{Re.blur(),Re.innerHTML=be,setTimeout(()=>{Re.innerHTML=Ne,Re.style.borderColor=""},2e3)},ct=>console.error(ct))};var Fe=Oe;let Ze=(De.dataset.clipboard?JSON.parse(De.dataset.clipboard):De.innerText).replace(/\n\n/g,`
`),Re=document.createElement("button");Re.className="clipboard-button",Re.type="button",Re.innerHTML=Ne,Re.ariaLabel="Copy source",Re.addEventListener("click",Oe),window.addCleanup(()=>Re.removeEventListener("click",Oe)),He[Ge].prepend(Re)}}})})(),(function(){const Ne=document.querySelector(".navbar-toggle"),be=document.querySelector(".navbar-menu");Ne&&be&&(Ne.addEventListener("click",function(){this.classList.toggle("active"),be.classList.toggle("active")}),document.addEventListener("click",function(Fe){!(Ne.contains(Fe.target)||be.contains(Fe.target))&&be.classList.contains("active")&&(Ne.classList.remove("active"),be.classList.remove("active"))}),be.querySelectorAll("a").forEach(function(Fe){Fe.addEventListener("click",function(){Ne.classList.remove("active"),be.classList.remove("active")})}))})(),(function(){let Ne=[],be=null,He={},Fe=!0;function Ge(){console.log("[ProfileTabs] initProfileTabs() called"),Fe=!0,He={},be=null,Ne.forEach(function(T){T()}),Ne=[];const De=document.querySelector(".profile-tabs");if(console.log("[ProfileTabs] profileTabs element:",De),!De){console.log("[ProfileTabs] No profileTabs found, skipping");return}const Oe=De.getAttribute("data-profile-id");let Ze=De.getAttribute("data-base-path")||"";Ze&&!Ze.endsWith("/")&&(Ze=Ze+"/");const Re=document.querySelectorAll(".tab-button"),ct=document.querySelectorAll(".tab-pane"),Xe=document.getElementById("media-tab-button");window.innerWidth<=768&&Re.forEach(function(T){const J=T.textContent.trim();T.textContent=J.replace(/ðŸ“–|ðŸ–¼ï¸/g,"").trim()});let $=!1;if(console.log("[ProfileTabs] Initializing, profileId:",Oe,"basePath:",Ze),!Oe)return;function qe(){fetch(Ze+"static/chapters-index.json").then(function(T){return T.ok?T.json():(console.log("[ProfileTabs] No chapters index found"),null)}).then(function(T){T&&(be=T[Oe]||null,be&&(console.log("[ProfileTabs] Found chapters for profile",Oe,be),setTimeout(function(){Qe(be)},200)))}).catch(function(T){console.log("[ProfileTabs] Error loading chapters index:",T)})}function $e(){fetch(Ze+"static/media-index.json").then(function(T){return T.ok?T.json():(console.log("[ProfileTabs] No media index found"),null)}).then(function(T){if(!T)return;const J=T.images[Oe]||[],ge=T.documents[Oe]||[];console.log("[ProfileTabs] Found",J.length,"images and",ge.length,"documents for profile",Oe),J.length>0||ge.length>0?Xe&&(Xe.style.display="block"):Xe&&(Xe.style.display="none")}).catch(function(T){console.log("[ProfileTabs] Error checking media content:",T),Xe&&(Xe.style.display="none")})}$e();function Pe(){const T=document.querySelector(".profile-tabs"),J=document.querySelector("article");T&&J&&T.parentElement!==J&&(J.appendChild(T),console.log("[ProfileTabs] Moved ProfileTabs to article"))}function ze(){const T=document.querySelector(".profile-tabs"),J=document.querySelector('[data-tab-content="biography"]'),ge=document.querySelector("article");if(!T||!J||!ge){console.log("[ProfileTabs] Cannot find required elements");return}T.parentElement!==ge&&(ge.appendChild(T),console.log("[ProfileTabs] Moved ProfileTabs to article"));const we=Array.from(ge.children);let H=-1;for(let E=0;E<we.length;E++)if(we[E]===T){H=E;break}if(H>0){const E=[];for(let A=0;A<H;A++)E.push(we[A]);const p=[];let O=!1;console.log("[ProfileTabs] elementsToMove count:",E.length),E.forEach(function(A,I){if(console.log("[ProfileTabs] Processing element",I,":",A.tagName,A.textContent?A.textContent.substring(0,50):""),O){O=!1;return}if(A.tagName&&A.tagName.toLowerCase()==="h2"&&A.textContent&&A.textContent.trim()==="Biography"){const me=A.nextElementSibling;if(me&&me.textContent&&me.textContent.includes("chapters will be loaded")){console.log("[ProfileTabs] Removing placeholder Biography heading and text"),O=!0,me.remove(),A.remove();return}else{console.log("[ProfileTabs] Removing Biography heading (keeping content after)"),A.remove();return}}if(A.tagName&&A.tagName.toLowerCase()==="p"&&A.textContent&&A.textContent.includes("chapters will be loaded")){console.log("[ProfileTabs] Removing placeholder paragraph"),A.remove();return}console.log("[ProfileTabs] Keeping element:",A.tagName),p.push(A)});const le=p.filter(function(A){return A.parentElement!==null}),F=[],te=[],X=[],ne=[];le.forEach(function(A){const I=A.tagName?A.tagName.toLowerCase():"",me=A.className?A.className.toString():"";I==="dl"||I==="div"&&A.querySelector("dl")?F.push(A):I==="h2"&&A.getAttribute("id")&&!A.getAttribute("id").includes("biography")||me.includes("mermaid")||A.querySelector(".mermaid")||A.querySelector("mermaid")||I==="code"&&A.textContent&&A.textContent.includes("graph")?te.push(A):I==="p"||I==="ul"||I==="ol"||I==="blockquote"||I==="div"||I==="pre"?X.push(A):ne.push(A)});const fe=F.concat(te).concat(X).concat(ne),ee=J.querySelector("h2");if(ee&&ee.textContent&&(ee.textContent.trim()==="Biography"||ee.textContent.trim().includes("Biography"))){const A=ee.nextElementSibling;A&&A.textContent&&A.textContent.includes("chapters will be loaded")&&A.remove(),ee.remove()}J.querySelectorAll("p").forEach(function(A){A.textContent&&A.textContent.includes("chapters will be loaded")&&A.remove()});const Y=J.querySelector(".chapter-tabs-container");Array.from(J.children).forEach(function(A){A!==Y&&A.remove()}),fe.forEach(function(A){Y?J.insertBefore(A,Y):J.appendChild(A)}),console.log("[ProfileTabs] Moved",fe.length,"elements to Biography tab (sorted)"),setTimeout(function(){window.mermaid&&(J.querySelectorAll(".mermaid, mermaid, code.language-mermaid").forEach(function(I){try{if(!I.hasAttribute("data-processed"))if(I.tagName&&I.tagName.toLowerCase()==="code"){const me=I.textContent;if(me){const D=document.createElement("div");D.className="mermaid",D.textContent=me,I.parentElement.replaceChild(D,I),window.mermaid.init(void 0,D),D.setAttribute("data-processed","true")}}else window.mermaid.init(void 0,I),I.setAttribute("data-processed","true")}catch(me){console.log("[ProfileTabs] Error initializing Mermaid:",me)}}),window.mermaid&&typeof window.mermaid.run=="function"&&window.mermaid.run())},500)}}setTimeout(function(){Pe(),ze()},100),qe();function Qe(T){const J=document.querySelector('[data-tab-content="biography"]');if(!J)return;const ge=J.querySelector(".chapter-tabs-container");ge&&ge.remove();const we=document.createElement("div");we.className="chapter-tabs-container";const H=document.createElement("h2");H.className="biography-heading",H.textContent="Biography",we.appendChild(H);const E=document.createElement("div");E.className="chapter-tabs-header";const p=document.createElement("div");if(p.className="chapter-tabs-content",T.main){const F=document.createElement("button");F.className="chapter-tab-button active",F.setAttribute("data-chapter-tab","introduction"),F.setAttribute("data-chapter-slug",T.main.slug),F.textContent=window.innerWidth<=768?"Introduction":"\u{1F4D6} Introduction",E.appendChild(F);const te=document.createElement("div");te.className="chapter-tab-pane active",te.setAttribute("data-chapter-tab-content","introduction"),te.setAttribute("data-chapter-slug",T.main.slug),te.innerHTML='<div class="loading-message">Loading chapter...</div>',p.appendChild(te)}T.chapters.forEach(function(F,te){const X=document.createElement("button");X.className="chapter-tab-button",X.setAttribute("data-chapter-tab","chapter-"+(te+1)),X.setAttribute("data-chapter-slug",F.slug),X.textContent=window.innerWidth<=768?F.title:"\u{1F4C4} "+F.title,E.appendChild(X);const ne=document.createElement("div");ne.className="chapter-tab-pane",ne.setAttribute("data-chapter-tab-content","chapter-"+(te+1)),ne.setAttribute("data-chapter-slug",F.slug),ne.innerHTML='<div class="loading-message">Loading chapter...</div>',p.appendChild(ne)}),we.appendChild(E),we.appendChild(p);const O=Array.from(J.children).filter(function(F){return!F.classList.contains("chapter-tabs-container")});if(O.length>0){const F=O[O.length-1];J.insertBefore(we,F.nextSibling)}else J.appendChild(we);setTimeout(function(){document.querySelectorAll(".chapter-tab-button").forEach(function(F){const te=function(){const X=F.getAttribute("data-chapter-slug");X&&We(X)};F.addEventListener("click",te),Ne.push(function(){F.removeEventListener("click",te)})})},50);const le=window.location.hash;if(le&&le.startsWith("#chapter=")){const F=le.substring(9);setTimeout(function(){We(F)},100)}else T.main&&setTimeout(function(){We(T.main.slug)},100)}function We(T,J){console.log("[ProfileTabs] Switching to chapter:",T,"fromPopstate:",J),document.querySelectorAll(".chapter-tab-button").forEach(function(p){p.classList.remove("active")}),document.querySelectorAll(".chapter-tab-pane").forEach(function(p){p.classList.remove("active")});const ge=document.querySelector('.chapter-tab-button[data-chapter-slug="'+T+'"]');ge&&ge.classList.add("active");const we=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+T+'"]');we&&we.classList.add("active");const H=document.querySelector('[data-tab="biography"]'),E=document.querySelector('[data-tab-content="biography"]');if(H&&E&&(document.querySelectorAll(".tab-button").forEach(function(p){p.classList.remove("active")}),document.querySelectorAll(".tab-pane").forEach(function(p){p.classList.remove("active")}),H.classList.add("active"),E.classList.add("active")),Ke(T),!J){const p=window.location.pathname+"#chapter="+T;Fe?(history.replaceState({chapter:T,tab:"biography"},"",p),Fe=!1):history.pushState({chapter:T,tab:"biography"},"",p)}setTimeout(function(){const p=document.querySelector(".biography-heading");if(p)p.scrollIntoView({behavior:"smooth",block:"start"});else{const O=document.querySelector(".chapter-tabs-container");O&&O.scrollIntoView({behavior:"smooth",block:"start"})}},100)}function Ke(T){if(He[T]){lt(T,He[T]);return}var J=null;if(be){if(be.main&&be.main.slug===T)J=be.main.filename;else for(var ge=0;ge<be.chapters.length;ge++)if(be.chapters[ge].slug===T){J=be.chapters[ge].filename;break}}var we=J||T+".md";const H=Ze+"static/chapters/"+Oe+"/"+we;console.log("[ProfileTabs] Loading chapter:",H,"(slug:",T+")"),fetch(H+"?t="+Date.now()).then(function(E){if(!E.ok)throw console.log("[ProfileTabs] Chapter not found:",H,"status:",E.status),new Error("Chapter not found: "+H);return E.text()}).then(function(E){const p=ft(E,be,Oe,Ze);He[T]=p,lt(T,p)}).catch(function(E){console.log("[ProfileTabs] Error loading chapter:",E);const p=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+T+'"]');p&&(p.innerHTML='<div class="empty-message">Error loading chapter: '+E.message+"</div>")})}function lt(T,J){const ge=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+T+'"]');if(ge){ge.innerHTML=J;const we=ge.querySelectorAll(".chapter-link");console.log("[ProfileTabs] Found",we.length,"chapter links in",T),we.forEach(function(H){H.addEventListener("click",function(E){E.preventDefault(),E.stopPropagation();const p=H.getAttribute("data-chapter-slug");console.log("[ProfileTabs] Chapter link clicked, target:",p),p&&We(p,!1)})}),setTimeout(function(){window.mermaid&&ge.querySelectorAll(".mermaid, mermaid, code.language-mermaid").forEach(function(E){try{if(!E.hasAttribute("data-processed"))if(E.tagName&&E.tagName.toLowerCase()==="code"){const p=E.textContent;if(p){const O=document.createElement("div");O.className="mermaid",O.textContent=p,E.parentElement.replaceChild(O,E),window.mermaid.init(void 0,O),O.setAttribute("data-processed","true")}}else window.mermaid.init(void 0,E),E.setAttribute("data-processed","true")}catch(p){console.log("[ProfileTabs] Error initializing Mermaid:",p)}})},100)}}function ft(T,J,ge,we){var H=T,E="`",p=E+E+E+"(\\w+)?\\s*([\\s\\S]*?)"+E+E+E,O=new RegExp(p,"g");H=H.replace(O,function(q,V,R){R=R.replace(/^\n+|\n+$/g,""),R=R.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var z=V?' class="language-'+V+'"':"";return"<pre><code"+z+">"+R+"</code></pre>"}),H=H.replace(/!\[\[([^\]]+)\]\]/g,function(q,V){var R=V.split("/").pop(),z=R.replace(/[ _]/g,"-"),Ee=we||"",ve=Ee+z,je=Ee+encodeURIComponent(R),Ve=R.replace(/"/g,"&quot;");return'<img src="'+ve+'" alt="'+Ve+'" onerror="this.src=&quot;'+je+'&quot;">'});var le="";if(typeof window<"u"){var F=window.location.pathname;if(F.indexOf("/profiles/")>0){var te=F.substring(0,F.indexOf("/profiles/"));te&&te!==""&&te!=="/"&&(le=te)}}var X=new RegExp("\\[([^\\]]+)\\]\\((\\/profiles\\/[^)]+)\\)","g");H=H.replace(X,function(q,V,R){return'<a href="'+le+R+'">'+V+"</a>"}),H=H.replace(/\[\[([^\]]+)\]\]/g,function(q,V){var R=V.split("|"),z=R[0].trim(),Ee=R.length>1?R[1].trim():z,ve=null;if(J){var je=z.toLowerCase().replace(/_/g,"-");if(J.main&&(J.main.slug===je||J.main.name.toLowerCase()===je||J.main.filename.toLowerCase().replace(".md","")===je))ve=J.main.slug;else for(var Ve=0;Ve<J.chapters.length;Ve++){var de=J.chapters[Ve],Se=de.name.toLowerCase().replace(/_/g,"-"),ie=de.filename.toLowerCase().replace(".md","").replace(/_/g,"-");if(de.slug===je||Se===je||ie===je||de.title.toLowerCase()===je){ve=de.slug;break}var ce=je.replace(/^\d+-/,""),Be=Se.replace(/^\d+-/,""),G=ie.replace(/^\d+-/,"");if(ce===Be||ce===G){ve=de.slug;break}}ve||(ve=je)}else ve=z.replace(/_/g,"-").toLowerCase();return'<a href="javascript:void(0)" class="chapter-link" data-chapter-slug="'+ve+'">'+Ee+"</a>"});var D=[],ne=0;H=H.replace(/<img[^>]*>/g,function(q){var V="___HTML_BLOCK_"+ne+"___";return D[ne]=q,ne++,V}),H=H.replace(/<(a|pre|code)([^>]*)>([\s\S]*?)<\/\1>/g,function(q){var V="___HTML_BLOCK_"+ne+"___";return D[ne]=q,ne++,V}),H=H.replace(/^### (.*$)/gim,"<h3>$1</h3>"),H=H.replace(/^## (.*$)/gim,"<h2>$1</h2>"),H=H.replace(/^# (.*$)/gim,"<h1>$1</h1>");for(var fe=H.split(/(___HTML_BLOCK_\d+___)/),ee=0;ee<fe.length;ee++)fe[ee].match(/^___HTML_BLOCK_\d+___$/)||(fe[ee]=fe[ee].replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),fe[ee]=fe[ee].replace(/\*(.*?)\*/g,"<em>$1</em>"),fe[ee]=fe[ee].replace(/\b_(.*?)_\b/g,"<em>$1</em>"));H=fe.join(""),H=H.replace(/___HTML_BLOCK_(\d+)___/g,function(q,V){return D[parseInt(V)]});for(var Te=H.split(`
`),Y=!1,re="",A=[],ee=0;ee<Te.length;ee++){var I=Te[ee],me=I.match(/^(\d+)\.\s+(.*)$/);me?(Y||(Y=!0,re="<ol>"),re+="<li>"+me[2]+"</li>"):(Y&&(re+="</ol>",A.push(re),re="",Y=!1),A.push(I))}Y&&(re+="</ol>",A.push(re)),H=A.join(`
`),H=H.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),H=H.replace(/  \n/g,`<br>
`);var D=[],ke=0,Ue="___HTML_BLOCK_PLACEHOLDER___",w=new RegExp("<((div|blockquote|pre|ul|ol|table)[^>]*)>([sS]*?)</(div|blockquote|pre|ul|ol|table)>","gi");H=H.replace(w,function(q,V,R,z,Ee){var ve=Ue+ke+"___";return D[ke]=q,ke++,ve});var j=H.split(/\n\n/);H=j.map(function(q){if(q=q.trim(),!q)return"";var V=q.match(new RegExp(Ue+"(d+)___"));if(V){var R=parseInt(V[1]);return D[R]}return q.match(/^<(div|blockquote|pre|ul|ol|table|h[1-6]|hr)/i)||q.match(/^<\//)||q.match(/^<[^>]+>.*<\/[^>]+>$/)?q:q&&!q.match(/^<[h|d|u|o|l]/)?"<p>"+q+"</p>":q}).join(`
`);var P=/`([^`]+)`/g;return H=H.replace(P,"<code>$1</code>"),H}function nt(T){console.log("[ProfileTabs] Loading media for profile:",T);const J=document.querySelector('[data-tab-content="media"]'),ge=J?J.querySelector("#media-content"):document.getElementById("media-content");if(!ge){console.log("[ProfileTabs] media-content not found");return}const we=document.querySelector(".profile-tabs");let H=we&&we.getAttribute("data-base-path")||"";H&&!H.endsWith("/")&&(H=H+"/");const E=H+"static/documents/"+T+"/";fetch(H+"static/media-index.json").then(function(p){if(!p.ok)throw new Error("No media index");return p.json()}).then(function(p){const O=p.images[T]||[],le=p.documents[T]||[];if(console.log("[ProfileTabs] Found",O.length,"images and",le.length,"documents"),O.length===0&&le.length===0){ge.innerHTML='<div class="empty-message">No images or documents available</div>';return}if(ge.innerHTML="",O.length>0){const F=document.createElement("div");F.className="media-section",F.innerHTML='<h3>Images</h3><div class="gallery-grid"></div>',ge.appendChild(F);const te=F.querySelector(".gallery-grid");O.forEach(function(X){const ne=document.createElement("div");ne.className="gallery-item",ne.innerHTML='<img src="'+E+X.filename+'" alt="'+(X.caption||"")+'">'+(X.caption?'<div class="image-caption">'+X.caption+"</div>":""),ne.addEventListener("click",function(){window.open(E+X.filename,"_blank")}),te.appendChild(ne)})}if(le.length>0){const F=document.createElement("div");F.className="media-section",F.innerHTML='<h3>Documents</h3><div class="documents-list"></div>',ge.appendChild(F);const te=F.querySelector(".documents-list");le.forEach(function(X){const ne=document.createElement("div");ne.className="document-item";const fe=ut(X.filename);ne.innerHTML='<div class="document-icon">'+fe+'</div><div class="document-info"><div class="document-name">'+(X.title||X.filename)+'</div><div class="document-meta">'+(X.description||"")+'</div></div><a href="'+E+X.filename+'" download class="document-download">Download</a>',te.appendChild(ne)})}}).catch(function(p){console.log("[ProfileTabs] Media loading error:",p),ge.innerHTML='<div class="empty-message">Error loading gallery</div>'})}function ut(T){const J=T.split(".").pop().toLowerCase();return{pdf:"\u{1F4D5}",doc:"\u{1F4D8}",docx:"\u{1F4D8}",xls:"\u{1F4CA}",xlsx:"\u{1F4CA}",txt:"\u{1F4C4}",jpg:"\u{1F5BC}\uFE0F",jpeg:"\u{1F5BC}\uFE0F",png:"\u{1F5BC}\uFE0F",gif:"\u{1F5BC}\uFE0F"}[J]||"\u{1F4C4}"}Re.forEach(function(T){const J=function(){const ge=T.getAttribute("data-tab");console.log("[ProfileTabs] Switching to tab:",ge),Re.forEach(function(H){H.classList.remove("active")}),ct.forEach(function(H){H.classList.remove("active")}),T.classList.add("active");const we=document.querySelector('[data-tab-content="'+ge+'"]');we&&we.classList.add("active"),ge==="media"&&!$&&Oe&&(nt(Oe),$=!0)};T.addEventListener("click",J),Ne.push(function(){T.removeEventListener("click",J)})}),window.addEventListener("popstate",function(T){console.log("[ProfileTabs] Popstate event:",T.state,"hash:",window.location.hash);const J=document.querySelector(".profile-tabs");if(!J){console.log("[ProfileTabs] No profile-tabs element found, skipping popstate");return}const ge=J.getAttribute("data-profile-id");if(console.log("[ProfileTabs] Current profileId from DOM:",ge,"Cached profileId:",Oe),ge!==Oe){console.log("[ProfileTabs] Profile changed! Skipping popstate, letting nav event handle it");return}const we=window.location.hash;if(we&&we.startsWith("#chapter=")){const H=we.substring(9);console.log("[ProfileTabs] Restoring chapter from popstate:",H),We(H,!0)}else(!we||we==="#")&&(console.log("[ProfileTabs] No hash, showing introduction"),be&&be.main&&We(be.main.slug,!0))})}Ge(),document.addEventListener("nav",function(){Ge()})})(),(function(){var Ne=Object.create,be=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty,Oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ze=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Fe(t))!De.call(e,r)&&r!==n&&be(e,r,{get:()=>t[r],enumerable:!(i=He(t,r))||i.enumerable});return e},Re=(e,t,n)=>(n=e!=null?Ne(Ge(e)):{},Ze(t||!e||!e.__esModule?be(n,"default",{value:e,enumerable:!0}):n,e)),ct=Oe(()=>{}),Xe=Oe((e,t)=>{"use strict";t.exports=i;function n(o){return o instanceof Buffer?Buffer.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function i(o){if(o=o||{},o.circles)return r(o);let s=new Map;if(s.set(Date,d=>new Date(d)),s.set(Map,(d,C)=>new Map(c(Array.from(d),C))),s.set(Set,(d,C)=>new Set(c(Array.from(d),C))),o.constructorHandlers)for(let d of o.constructorHandlers)s.set(d[0],d[1]);let l=null;return o.proto?g:u;function c(d,C){let f=Object.keys(d),v=new Array(f.length);for(let y=0;y<f.length;y++){let m=f[y],_=d[m];typeof _!="object"||_===null?v[m]=_:_.constructor!==Object&&(l=s.get(_.constructor))?v[m]=l(_,C):ArrayBuffer.isView(_)?v[m]=n(_):v[m]=C(_)}return v}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return c(d,u);if(d.constructor!==Object&&(l=s.get(d.constructor)))return l(d,u);let C={};for(let f in d){if(Object.hasOwnProperty.call(d,f)===!1)continue;let v=d[f];typeof v!="object"||v===null?C[f]=v:v.constructor!==Object&&(l=s.get(v.constructor))?C[f]=l(v,u):ArrayBuffer.isView(v)?C[f]=n(v):C[f]=u(v)}return C}function g(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return c(d,g);if(d.constructor!==Object&&(l=s.get(d.constructor)))return l(d,g);let C={};for(let f in d){let v=d[f];typeof v!="object"||v===null?C[f]=v:v.constructor!==Object&&(l=s.get(v.constructor))?C[f]=l(v,g):ArrayBuffer.isView(v)?C[f]=n(v):C[f]=g(v)}return C}}function r(o){let s=[],l=[],c=new Map;if(c.set(Date,f=>new Date(f)),c.set(Map,(f,v)=>new Map(g(Array.from(f),v))),c.set(Set,(f,v)=>new Set(g(Array.from(f),v))),o.constructorHandlers)for(let f of o.constructorHandlers)c.set(f[0],f[1]);let u=null;return o.proto?C:d;function g(f,v){let y=Object.keys(f),m=new Array(y.length);for(let _=0;_<y.length;_++){let N=y[_],Q=f[N];if(typeof Q!="object"||Q===null)m[N]=Q;else if(Q.constructor!==Object&&(u=c.get(Q.constructor)))m[N]=u(Q,v);else if(ArrayBuffer.isView(Q))m[N]=n(Q);else{let he=s.indexOf(Q);he!==-1?m[N]=l[he]:m[N]=v(Q)}}return m}function d(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return g(f,d);if(f.constructor!==Object&&(u=c.get(f.constructor)))return u(f,d);let v={};s.push(f),l.push(v);for(let y in f){if(Object.hasOwnProperty.call(f,y)===!1)continue;let m=f[y];if(typeof m!="object"||m===null)v[y]=m;else if(m.constructor!==Object&&(u=c.get(m.constructor)))v[y]=u(m,d);else if(ArrayBuffer.isView(m))v[y]=n(m);else{let _=s.indexOf(m);_!==-1?v[y]=l[_]:v[y]=d(m)}}return s.pop(),l.pop(),v}function C(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return g(f,C);if(f.constructor!==Object&&(u=c.get(f.constructor)))return u(f,C);let v={};s.push(f),l.push(v);for(let y in f){let m=f[y];if(typeof m!="object"||m===null)v[y]=m;else if(m.constructor!==Object&&(u=c.get(m.constructor)))v[y]=u(m,C);else if(ArrayBuffer.isView(m))v[y]=n(m);else{let _=s.indexOf(m);_!==-1?v[y]=l[_]:v[y]=C(m)}}return s.pop(),l.pop(),v}}}),$;function qe(e,t,n){let i=typeof n,r=typeof e;if(i!=="undefined"){if(r!=="undefined"){if(n){if(r==="function"&&i===r)return function(l){return e(n(l))};if(t=e.constructor,t===n.constructor){if(t===Array)return n.concat(e);if(t===Map){var o=new Map(n);for(var s of e)o.set(s[0],s[1]);return o}if(t===Set){s=new Set(n);for(o of e.values())s.add(o);return s}}}return e}return n}return r==="undefined"?t:e}function $e(e,t){return typeof e>"u"?t:e}function Pe(){return Object.create(null)}function ze(e){return typeof e=="string"}function Qe(e){return typeof e=="object"}function We(e,t){if(ze(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}var Ke=/[^\p{L}\p{N}]+/u,lt=/(\d{3})/g,ft=/(\D)(\d{3})/g,nt=/(\d{3})(\D)/g,ut=/[\u0300-\u036f]/g;function T(e={}){if(!this||this.constructor!==T)return new T(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}$=T.prototype,$.assign=function(e){this.normalize=qe(e.normalize,!0,this.normalize);let t=e.include,n=t||e.exclude||e.split,i;if(n||n===""){if(typeof n=="object"&&n.constructor!==RegExp){let r="";i=!t,t||(r+="\\p{Z}"),n.letter&&(r+="\\p{L}"),n.number&&(r+="\\p{N}",i=!!t),n.symbol&&(r+="\\p{S}"),n.punctuation&&(r+="\\p{P}"),n.control&&(r+="\\p{C}"),(n=n.char)&&(r+=typeof n=="object"?n.join(""):n);try{this.split=new RegExp("["+(t?"^":"")+r+"]+","u")}catch{this.split=/\s+/}}else this.split=n,i=n===!1||"a1a".split(n).length<2;this.numeric=qe(e.numeric,i)}else{try{this.split=qe(this.split,Ke)}catch{this.split=/\s+/}this.numeric=qe(e.numeric,qe(this.numeric,!0))}if(this.prepare=qe(e.prepare,null,this.prepare),this.finalize=qe(e.finalize,null,this.finalize),n=e.filter,this.filter=typeof n=="function"?n:qe(n&&new Set(n),null,this.filter),this.dedupe=qe(e.dedupe,!0,this.dedupe),this.matcher=qe((n=e.matcher)&&new Map(n),null,this.matcher),this.mapper=qe((n=e.mapper)&&new Map(n),null,this.mapper),this.stemmer=qe((n=e.stemmer)&&new Map(n),null,this.stemmer),this.replacer=qe(e.replacer,null,this.replacer),this.minlength=qe(e.minlength,1,this.minlength),this.maxlength=qe(e.maxlength,1024,this.maxlength),this.rtl=qe(e.rtl,!1,this.rtl),(this.cache=n=qe(e.cache,!0,this.cache))&&(this.F=null,this.L=typeof n=="number"?n:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(let r of this.matcher.keys())this.h+=(this.h?"|":"")+r;if(this.stemmer)for(let r of this.stemmer.keys())this.A+=(this.A?"|":"")+r;return this},$.addStemmer=function(e,t){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(e,t),this.A+=(this.A?"|":"")+e,this.K=null,this.cache&&J(this),this},$.addFilter=function(e){return typeof e=="function"?this.filter=e:(this.filter||(this.filter=new Set),this.filter.add(e)),this.cache&&J(this),this},$.addMapper=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length>1?this.addMatcher(e,t):(this.mapper||(this.mapper=new Map),this.mapper.set(e,t),this.cache&&J(this),this)},$.addMatcher=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length<2&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||(this.matcher=new Map),this.matcher.set(e,t),this.h+=(this.h?"|":"")+e,this.J=null,this.cache&&J(this),this)},$.addReplacer=function(e,t){return typeof e=="string"?this.addMatcher(e,t):(this.replacer||(this.replacer=[]),this.replacer.push(e,t),this.cache&&J(this),this)},$.encode=function(e,t){if(this.cache&&e.length<=this.H)if(this.F){if(this.B.has(e))return this.B.get(e)}else this.F=setTimeout(J,50,this);this.normalize&&(typeof this.normalize=="function"?e=this.normalize(e):e=ut?e.normalize("NFKD").replace(ut,"").toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&e.length>3&&(e=e.replace(ft,"$1 $2").replace(nt,"$1 $2").replace(lt,"$1 "));let n=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),i=[],r=Pe(),o,s,l=this.split||this.split===""?e.split(this.split):[e];for(let u=0,g,d;u<l.length;u++)if((g=d=l[u])&&!(g.length<this.minlength||g.length>this.maxlength)){if(t){if(r[g])continue;r[g]=1}else{if(o===g)continue;o=g}if(n)i.push(g);else if(!this.filter||(typeof this.filter=="function"?this.filter(g):!this.filter.has(g))){if(this.cache&&g.length<=this.I)if(this.F){var c=this.D.get(g);if(c||c===""){c&&i.push(c);continue}}else this.F=setTimeout(J,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let C;for(;C!==g&&g.length>2;)C=g,g=g.replace(this.K,f=>this.stemmer.get(f))}if(g&&(this.mapper||this.dedupe&&g.length>1)){c="";for(let C=0,f="",v,y;C<g.length;C++)v=g.charAt(C),v===f&&this.dedupe||((y=this.mapper&&this.mapper.get(v))||y===""?y===f&&this.dedupe||!(f=y)||(c+=y):c+=f=v);g=c}if(this.matcher&&g.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),g=g.replace(this.J,C=>this.matcher.get(C))),g&&this.replacer)for(c=0;g&&c<this.replacer.length;c+=2)g=g.replace(this.replacer[c],this.replacer[c+1]);if(this.cache&&d.length<=this.I&&(this.D.set(d,g),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),g){if(g!==d)if(t){if(r[g])continue;r[g]=1}else{if(s===g)continue;s=g}i.push(g)}}}return this.finalize&&(i=this.finalize(i)||i),this.cache&&e.length<=this.H&&(this.B.set(e,i),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),i};function J(e){e.F=null,e.B.clear(),e.D.clear()}function ge(e,t,n){n||(t||typeof e!="object"?typeof t=="object"&&(n=t,t=0):n=e),n&&(e=n.query||e,t=n.limit||t);let i=""+(t||0);n&&(i+=(n.offset||0)+!!n.context+!!n.suggest+(n.resolve!==!1)+(n.resolution||this.resolution)+(n.boost||0)),e=(""+e).toLowerCase(),this.cache||(this.cache=new we);let r=this.cache.get(e+i);if(!r){let o=n&&n.cache;o&&(n.cache=!1),r=this.search(e,t,n),o&&(n.cache=o),this.cache.set(e+i,r)}return r}function we(e){this.limit=e&&e!==!0?e:1e3,this.cache=new Map,this.h=""}we.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},we.prototype.get=function(e){let t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t},we.prototype.remove=function(e){for(let t of this.cache){let n=t[0];t[1].includes(e)&&this.cache.delete(n)}},we.prototype.clear=function(){this.cache.clear(),this.h=""};var H={normalize:!1,numeric:!1,dedupe:!1},E={},p=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),O=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),le=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],F={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,\u00DF:2,d:3,t:3,l:4,m:5,n:5,r:6},te={Exact:H,Default:E,Normalize:E,LatinBalance:{mapper:p},LatinAdvanced:{mapper:p,matcher:O,replacer:le},LatinExtra:{mapper:p,replacer:le.concat([/(?!^)[aeo]/g,""]),matcher:O},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let n=0;n<e.length;n++){var t=e[n];let i=t.charAt(0),r=F[i];for(let o=1,s;o<t.length&&(s=t.charAt(o),s==="h"||s==="w"||!(s=F[s])||s===r||(i+=s,r=s,i.length!==4));o++);e[n]=i}}},CJK:{split:""},LatinExact:H,LatinDefault:E,LatinSimple:E};function X(e,t,n,i){let r=[];for(let o=0,s;o<e.index.length;o++)if(s=e.index[o],t>=s.length)t-=s.length;else{t=s[i?"splice":"slice"](t,n);let l=t.length;if(l&&(r=r.length?r.concat(t):t,n-=l,i&&(e.length-=l),!n))break;t=0}return r}function ne(e){if(!this||this.constructor!==ne)return new ne(e);this.index=e?[e]:[],this.length=e?e.length:0;let t=this;return new Proxy([],{get(n,i){if(i==="length")return t.length;if(i==="push")return function(r){t.index[t.index.length-1].push(r),t.length++};if(i==="pop")return function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()};if(i==="indexOf")return function(r){let o=0;for(let s=0,l,c;s<t.index.length;s++){if(l=t.index[s],c=l.indexOf(r),c>=0)return o+c;o+=l.length}return-1};if(i==="includes")return function(r){for(let o=0;o<t.index.length;o++)if(t.index[o].includes(r))return!0;return!1};if(i==="slice")return function(r,o){return X(t,r||0,o||t.length,!1)};if(i==="splice")return function(r,o){return X(t,r||0,o||t.length,!0)};if(i==="constructor")return Array;if(typeof i!="symbol")return(n=t.index[i/2**31|0])&&n[i]},set(n,i,r){return n=i/2**31|0,(t.index[n]||(t.index[n]=[]))[i]=r,t.length++,!0}})}ne.prototype.clear=function(){this.index.length=0},ne.prototype.push=function(){};function fe(e=8){if(!this||this.constructor!==fe)return new fe(e);this.index=Pe(),this.h=[],this.size=0,e>32?(this.B=Y,this.A=BigInt(e)):(this.B=Te,this.A=e)}fe.prototype.get=function(e){let t=this.index[this.B(e)];return t&&t.get(e)},fe.prototype.set=function(e,t){var n=this.B(e);let i=this.index[n];i?(n=i.size,i.set(e,t),(n-=i.size)&&this.size++):(this.index[n]=i=new Map([[e,t]]),this.h.push(i),this.size++)};function ee(e=8){if(!this||this.constructor!==ee)return new ee(e);this.index=Pe(),this.h=[],this.size=0,e>32?(this.B=Y,this.A=BigInt(e)):(this.B=Te,this.A=e)}ee.prototype.add=function(e){var t=this.B(e);let n=this.index[t];n?(t=n.size,n.add(e),(t-=n.size)&&this.size++):(this.index[t]=n=new Set([e]),this.h.push(n),this.size++)},$=fe.prototype,$.has=ee.prototype.has=function(e){let t=this.index[this.B(e)];return t&&t.has(e)},$.delete=ee.prototype.delete=function(e){let t=this.index[this.B(e)];t&&t.delete(e)&&this.size--},$.clear=ee.prototype.clear=function(){this.index=Pe(),this.h=[],this.size=0},$.values=ee.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t},$.keys=ee.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t},$.entries=ee.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t};function Te(e){let t=2**this.A-1;if(typeof e=="number")return e&t;let n=0,i=this.A+1;for(let r=0;r<e.length;r++)n=(n*i^e.charCodeAt(r))&t;return this.A===32?n+2**31:n}function Y(e){let t=BigInt(2)**this.A-BigInt(1);var n=typeof e;if(n==="bigint")return e&t;if(n==="number")return BigInt(e)&t;n=BigInt(0);let i=this.A+BigInt(1);for(let r=0;r<e.length;r++)n=(n*i^BigInt(e.charCodeAt(r)))&t;return n}var re,A;async function I(e){e=e.data;var t=e.task;let n=e.id,i=e.args;switch(t){case"init":A=e.options||{},(t=e.factory)?(Function("return "+t)()(self),re=new self.FlexSearch.Index(A),delete self.FlexSearch):re=new at(A),postMessage({id:n});break;default:let r;t==="export"&&(i[1]?(i[0]=A.export,i[2]=0,i[3]=1):i=null),t==="import"?i[0]&&(e=await A.import.call(re,i[0]),re.import(i[0],e)):((r=i&&re[t].apply(re,i))&&r.then&&(r=await r),r&&r.await&&(r=await r.await),t==="search"&&r.result&&(r=r.result)),postMessage(t==="search"?{id:n,msg:r}:{id:n})}}function me(e){j.call(e,"add"),j.call(e,"append"),j.call(e,"search"),j.call(e,"update"),j.call(e,"remove"),j.call(e,"searchCache")}var D,ke,Ue;function w(){D=Ue=0}function j(e){this[e+"Async"]=function(){let t=arguments;var n=t[t.length-1];let i;if(typeof n=="function"&&(i=n,delete t[t.length-1]),D?Ue||(Ue=Date.now()-ke>=this.priority*this.priority*3):(D=setTimeout(w,0),ke=Date.now()),Ue){let o=this;return new Promise(s=>{setTimeout(function(){s(o[e+"Async"].apply(o,t))},0)})}let r=this[e].apply(this,t);return n=r.then?r:new Promise(o=>o(r)),i&&n.then(i),n}}var P=0;function q(e={},t){function n(l){function c(u){u=u.data||u;let g=u.id,d=g&&o.h[g];d&&(d(u.msg),delete o.h[g])}if(this.worker=l,this.h=Pe(),this.worker)return r?this.worker.on("message",c):this.worker.onmessage=c,e.config?new Promise(function(u){P>1e9&&(P=0),o.h[++P]=function(){u(o)},o.worker.postMessage({id:P,task:"init",factory:i,options:e})}):(this.priority=e.priority||4,this.encoder=t||null,this.worker.postMessage({task:"init",factory:i,options:e}),this)}if(!this||this.constructor!==q)return new q(e);let i=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;i&&(i=i.toString());let r=typeof window>"u",o=this,s=R(i,r,e.worker);return s.then?s.then(function(l){return n.call(o,l)}):n.call(this,s)}V("add"),V("append"),V("search"),V("update"),V("remove"),V("clear"),V("export"),V("import"),q.prototype.searchCache=ge,me(q.prototype);function V(e){q.prototype[e]=function(){let t=this,n=[].slice.call(arguments);var i=n[n.length-1];let r;return typeof i=="function"&&(r=i,n.pop()),i=new Promise(function(o){e==="export"&&typeof n[0]=="function"&&(n[0]=null),P>1e9&&(P=0),t.h[++P]=o,t.worker.postMessage({task:e,id:P,args:n})}),r?(i.then(r),this):i}}function R(e,t,n){return t?typeof module<"u"?new(ct()).Worker(__dirname+"/worker/node.js"):Promise.resolve().then(()=>Re(ct())).then(function(i){return new i.Worker(import.meta.dirname+"/node/node.mjs")}):e?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+I.toString()],{type:"text/javascript"}))):new window.Worker(typeof n=="string"?n:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"})}mt.prototype.add=function(e,t,n){if(Qe(e)&&(t=e,e=We(t,this.key)),t&&(e||e===0)){if(!n&&this.reg.has(e))return this.update(e,t);for(let l=0,c;l<this.field.length;l++){c=this.B[l];var i=this.index.get(this.field[l]);if(typeof c=="function"){var r=c(t);r&&i.add(e,r,n,!0)}else r=c.G,(!r||r(t))&&(c.constructor===String?c=[""+c]:ze(c)&&(c=[c]),Ee(t,c,this.D,0,i,e,c[0],n))}if(this.tag)for(i=0;i<this.A.length;i++){var o=this.A[i];r=this.tag.get(this.F[i]);let l=Pe();if(typeof o=="function"){if(o=o(t),!o)continue}else{var s=o.G;if(s&&!s(t))continue;o.constructor===String&&(o=""+o),o=We(t,o)}if(r&&o){ze(o)&&(o=[o]);for(let c=0,u,g;c<o.length;c++)if(u=o[c],!l[u]&&(l[u]=1,(s=r.get(u))?g=s:r.set(u,g=[]),!n||!g.includes(e))){if(g.length===2**31-1){if(s=new ne(g),this.fastupdate)for(let d of this.reg.values())d.includes(g)&&(d[d.indexOf(g)]=s);r.set(u,g=s)}g.push(e),this.fastupdate&&((s=this.reg.get(e))?s.push(g):this.reg.set(e,[g]))}}}if(this.store&&(!n||!this.store.has(e))){let l;if(this.h){l=Pe();for(let c=0,u;c<this.h.length;c++){if(u=this.h[c],(n=u.G)&&!n(t))continue;let g;if(typeof u=="function"){if(g=u(t),!g)continue;u=[u.O]}else if(ze(u)||u.constructor===String){l[u]=t[u];continue}z(t,l,u,0,u[0],g)}}this.store.set(e,l||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this};function z(e,t,n,i,r,o){if(e=e[r],i===n.length-1)t[r]=o||e;else if(e)if(e.constructor===Array)for(t=t[r]=Array(e.length),r=0;r<e.length;r++)z(e,t,n,i,r);else t=t[r]||(t[r]=Pe()),r=n[++i],z(e,t,n,i,r)}function Ee(e,t,n,i,r,o,s,l){if(e=e[s])if(i===t.length-1){if(e.constructor===Array){if(n[i]){for(t=0;t<e.length;t++)r.add(o,e[t],!0,!0);return}e=e.join(" ")}r.add(o,e,l,!0)}else if(e.constructor===Array)for(s=0;s<e.length;s++)Ee(e,t,n,i,r,o,s,l);else s=t[++i],Ee(e,t,n,i,r,o,s,l)}function ve(e,t,n,i){if(!e.length)return e;if(e.length===1)return e=e[0],e=n||e.length>t?e.slice(n,n+t):e,i?ot.call(this,e):e;let r=[];for(let o=0,s,l;o<e.length;o++)if((s=e[o])&&(l=s.length)){if(n){if(n>=l){n-=l;continue}s=s.slice(n,n+t),l=s.length,n=0}if(l>t&&(s=s.slice(0,t),l=t),!r.length&&l>=t)return i?ot.call(this,s):s;if(r.push(s),t-=l,!t)break}return r=r.length>1?[].concat.apply([],r):r[0],i?ot.call(this,r):r}function je(e,t,n,i){var r=i[0];if(r[0]&&r[0].query)return e[t].apply(e,r);if(!(t!=="and"&&t!=="not"||e.result.length||e.await||r.suggest))return i.length>1&&(r=i[i.length-1]),(i=r.resolve)?e.await||e.result:e;let o=[],s=0,l=0,c,u,g,d,C;for(t=0;t<i.length;t++)if(r=i[t]){var f=void 0;if(r.constructor===G)f=r.await||r.result;else if(r.then||r.constructor===Array)f=r;else{s=r.limit||0,l=r.offset||0,g=r.suggest,u=r.resolve,c=((d=r.highlight||e.highlight)||r.enrich)&&u,f=r.queue;let v=r.async||f,y=r.index,m=r.query;if(y?e.index||(e.index=y):y=e.index,m||r.tag){let _=r.field||r.pluck;if(_&&(!m||e.query&&!d||(e.query=m,e.field=_,e.highlight=d),y=y.index.get(_)),f&&(C||e.await)){C=1;let N,Q=e.C.length,he=new Promise(function(Ae){N=Ae});(function(Ae,pe){he.h=function(){pe.index=null,pe.resolve=!1;let xe=v?Ae.searchAsync(pe):Ae.search(pe);return xe.then?xe.then(function(se){return e.C[Q]=se=se.result||se,N(se),se}):(xe=xe.result||xe,N(xe),xe)}})(y,Object.assign({},r)),e.C.push(he),o[t]=he;continue}else r.resolve=!1,r.index=null,f=v?y.searchAsync(r):y.search(r),r.resolve=u,r.index=y}else if(r.and)f=Ve(r,"and",y);else if(r.or)f=Ve(r,"or",y);else if(r.not)f=Ve(r,"not",y);else if(r.xor)f=Ve(r,"xor",y);else continue}f.await?(C=1,f=f.await):f.then?(C=1,f=f.then(function(v){return v.result||v})):f=f.result||f,o[t]=f}if(C&&!e.await&&(e.await=new Promise(function(v){e.return=v})),C){let v=Promise.all(o).then(function(y){for(let m=0;m<e.C.length;m++)if(e.C[m]===v){e.C[m]=function(){return n.call(e,y,s,l,c,u,g,d)};break}Ie(e)});e.C.push(v)}else if(e.await)e.C.push(function(){return n.call(e,o,s,l,c,u,g,d)});else return n.call(e,o,s,l,c,u,g,d);return u?e.await||e.result:e}function Ve(e,t,n){e=e[t];let i=e[0]||e;return i.index||(i.index=n),n=new G(i),e.length>1&&(n=n[t].apply(n,e.slice(1))),n}G.prototype.or=function(){return je(this,"or",de,arguments)};function de(e,t,n,i,r,o,s){return e.length&&(this.result.length&&e.push(this.result),e.length<2?this.result=e[0]:(this.result=it(e,t,n,!1,this.h),n=0)),r&&(this.await=null),r?this.resolve(t,n,i,s):this}G.prototype.and=function(){return je(this,"and",Se,arguments)};function Se(e,t,n,i,r,o,s){if(!o&&!this.result.length)return r?this.result:this;let l;if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{let c=0;for(let u=0,g,d;u<e.length;u++)if((g=e[u])&&(d=g.length))c<d&&(c=d);else if(!o){c=0;break}c?(this.result=rt(e,c,t,n,o,this.h,r),l=!0):this.result=[]}else o||(this.result=e);return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}G.prototype.xor=function(){return je(this,"xor",ie,arguments)};function ie(e,t,n,i,r,o,s){if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{e:{o=n;var l=this.h;let c=[],u=Pe(),g=0;for(let d=0,C;d<e.length;d++)if(C=e[d]){g<C.length&&(g=C.length);for(let f=0,v;f<C.length;f++)if(v=C[f])for(let y=0,m;y<v.length;y++)m=v[y],u[m]=u[m]?2:1}for(let d=0,C,f=0;d<g;d++)for(let v=0,y;v<e.length;v++)if((y=e[v])&&(C=y[d])){for(let m=0,_;m<C.length;m++)if(_=C[m],u[_]===1)if(o)o--;else if(r){if(c.push(_),c.length===t){e=c;break e}}else{let N=d+(v?l:0);if(c[N]||(c[N]=[]),c[N].push(_),++f===t){e=c;break e}}}e=c}this.result=e,l=!0}else o||(this.result=e);return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}G.prototype.not=function(){return je(this,"not",ce,arguments)};function ce(e,t,n,i,r,o,s){if(!o&&!this.result.length)return r?this.result:this;if(e.length&&this.result.length){e:{o=n;var l=[];e=new Set(e.flat().flat());for(let c=0,u,g=0;c<this.result.length;c++)if(u=this.result[c]){for(let d=0,C;d<u.length;d++)if(C=u[d],!e.has(C)){if(o)o--;else if(r){if(l.push(C),l.length===t){e=l;break e}}else if(l[c]||(l[c]=[]),l[c].push(C),++g===t){e=l;break e}}}e=l}this.result=e,l=!0}return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}function Be(e,t,n,i,r){let o,s,l;typeof r=="string"?(o=r,r=""):o=r.template,s=o.indexOf("$1"),l=o.substring(s+2),s=o.substring(0,s);let c=r&&r.boundary,u=!r||r.clip!==!1,g=r&&r.merge&&l&&s&&new RegExp(l+" "+s,"g");r=r&&r.ellipsis;var d=0;if(typeof r=="object"){var C=r.template;d=C.length-2,r=r.pattern}typeof r!="string"&&(r=r===!1?"":"..."),d&&(r=C.replace("$1",r)),C=r.length-d;let f,v;typeof c=="object"&&(f=c.before,f===0&&(f=-1),v=c.after,v===0&&(v=-1),c=c.total||9e5),d=new Map;for(let vt=0,Ye,Gt,It;vt<t.length;vt++){let Rt;if(i)Rt=t,It=i;else{var y=t[vt];if(It=y.field,!It)continue;Rt=y.result}Gt=n.get(It),Ye=Gt.encoder,y=d.get(Ye),typeof y!="string"&&(y=Ye.encode(e),d.set(Ye,y));for(let Xt=0;Xt<Rt.length;Xt++){var m=Rt[Xt].doc;if(!m||(m=We(m,It),!m))continue;var _=m.trim().split(/\s+/);if(!_.length)continue;m="";var N=[];let Yt=[];for(var Q=-1,he=-1,Ae=0,pe=0;pe<_.length;pe++){var xe=_[pe],se=Ye.encode(xe);se=se.length>1?se.join(" "):se[0];let ue;if(se&&xe){for(var Ce=xe.length,U=(Ye.split?xe.replace(Ye.split,""):xe).length-se.length,K="",ye=0,_e=0;_e<y.length;_e++){var Me=y[_e];if(Me){var Le=Me.length;Le+=U,ye&&Le<=ye||(Me=se.indexOf(Me),Me>-1&&(K=(Me?xe.substring(0,Me):"")+s+xe.substring(Me,Me+Le)+l+(Me+Le<Ce?xe.substring(Me+Le):""),ye=Le,ue=!0))}}K&&(c&&(Q<0&&(Q=m.length+(m?1:0)),he=m.length+(m?1:0)+K.length,Ae+=Ce,Yt.push(N.length),N.push({match:K})),m+=(m?" ":"")+K)}if(!ue)xe=_[pe],m+=(m?" ":"")+xe,c&&N.push({text:xe});else if(c&&Ae>=c)break}if(Ae=Yt.length*(o.length-2),f||v||c&&m.length-Ae>c)if(Ae=c+Ae-C*2,pe=he-Q,f>0&&(pe+=f),v>0&&(pe+=v),pe<=Ae)_=f?Q-(f>0?f:0):Q-((Ae-pe)/2|0),N=v?he+(v>0?v:0):_+Ae,u||(_>0&&m.charAt(_)!==" "&&m.charAt(_-1)!==" "&&(_=m.indexOf(" ",_),_<0&&(_=0)),N<m.length&&m.charAt(N-1)!==" "&&m.charAt(N)!==" "&&(N=m.lastIndexOf(" ",N),N<he?N=he:++N)),m=(_?r:"")+m.substring(_,N)+(N<m.length?r:"");else{for(he=[],Q={},Ae={},pe={},xe={},se={},K=U=Ce=0,_e=ye=1;;){var et=void 0;for(let ue=0,Je;ue<Yt.length;ue++){if(Je=Yt[ue],K)if(U!==K){if(pe[ue+1])continue;if(Je+=K,Q[Je]){Ce-=C,Ae[ue+1]=1,pe[ue+1]=1;continue}if(Je>=N.length-1){if(Je>=N.length){pe[ue+1]=1,Je>=_.length&&(Ae[ue+1]=1);continue}Ce-=C}if(m=N[Je].text,Le=v&&se[ue])if(Le>0){if(m.length>Le)if(pe[ue+1]=1,u)m=m.substring(0,Le);else continue;(Le-=m.length)||(Le=-1),se[ue]=Le}else{pe[ue+1]=1;continue}if(Ce+m.length+1<=c)m=" "+m,he[ue]+=m;else if(u)et=c-Ce-1,et>0&&(m=" "+m.substring(0,et),he[ue]+=m),pe[ue+1]=1;else{pe[ue+1]=1;continue}}else{if(pe[ue])continue;if(Je-=U,Q[Je]){Ce-=C,pe[ue]=1,Ae[ue]=1;continue}if(Je<=0){if(Je<0){pe[ue]=1,Ae[ue]=1;continue}Ce-=C}if(m=N[Je].text,Le=f&&xe[ue])if(Le>0){if(m.length>Le)if(pe[ue]=1,u)m=m.substring(m.length-Le);else continue;(Le-=m.length)||(Le=-1),xe[ue]=Le}else{pe[ue]=1;continue}if(Ce+m.length+1<=c)m+=" ",he[ue]=m+he[ue];else if(u)et=m.length+1-(c-Ce),et>=0&&et<m.length&&(m=m.substring(et)+" ",he[ue]=m+he[ue]),pe[ue]=1;else{pe[ue]=1;continue}}else{m=N[Je].match,f&&(xe[ue]=f),v&&(se[ue]=v),ue&&Ce++;let un;if(Je?!ue&&C&&(Ce+=C):(Ae[ue]=1,pe[ue]=1),Je>=_.length-1||Je<N.length-1&&N[Je+1].match?un=1:C&&(Ce+=C),Ce-=o.length-2,!ue||Ce+m.length<=c)he[ue]=m;else{et=ye=_e=Ae[ue]=0;break}un&&(Ae[ue+1]=1,pe[ue+1]=1)}Ce+=m.length,et=Q[Je]=1}if(et)U===K?K++:U++;else{if(U===K?ye=0:_e=0,!ye&&!_e)break;ye?(U++,K=U):K++}}m="";for(let ue=0,Je;ue<he.length;ue++)Je=(ue&&Ae[ue]?" ":(ue&&!r?" ":"")+r)+he[ue],m+=Je;r&&!Ae[he.length]&&(m+=r)}g&&(m=m.replace(g," ")),Rt[Xt].highlight=m}if(i)break}return t}function G(e,t){if(!this||this.constructor!==G)return new G(e,t);let n=0,i,r,o,s,l,c;if(e&&e.index){let u=e;if(t=u.index,n=u.boost||0,r=u.query){o=u.field||u.pluck,s=u.highlight;let g=u.resolve;e=u.async||u.queue,u.resolve=!1,u.index=null,e=e?t.searchAsync(u):t.search(u),u.resolve=g,u.index=t,e=e.result||e}else e=[]}if(e&&e.then){let u=this;e=e.then(function(g){u.C[0]=u.result=g.result||g,Ie(u)}),i=[e],e=[],l=new Promise(function(g){c=g})}this.index=t||null,this.result=e||[],this.h=n,this.C=i||[],this.await=l||null,this.return=c||null,this.highlight=s||null,this.query=r||"",this.field=o||""}$=G.prototype,$.limit=function(e){if(this.await){let t=this;this.C.push(function(){return t.limit(e).result})}else if(this.result.length){let t=[];for(let n=0,i;n<this.result.length;n++)if(i=this.result[n])if(i.length<=e){if(t[n]=i,e-=i.length,!e)break}else{t[n]=i.slice(0,e);break}this.result=t}return this},$.offset=function(e){if(this.await){let t=this;this.C.push(function(){return t.offset(e).result})}else if(this.result.length){let t=[];for(let n=0,i;n<this.result.length;n++)(i=this.result[n])&&(i.length<=e?e-=i.length:(t[n]=i.slice(e),e=0));this.result=t}return this},$.boost=function(e){if(this.await){let t=this;this.C.push(function(){return t.boost(e).result})}else this.h+=e;return this};function Ie(e,t){let n=e.result;var i=e.await;e.await=null;for(let r=0,o;r<e.C.length;r++)if(o=e.C[r]){if(typeof o=="function")n=o(),e.C[r]=n=n.result||n,r--;else if(o.h)n=o.h(),e.C[r]=n=n.result||n,r--;else if(o.then)return e.await=i}return i=e.return,e.C=[],e.return=null,t||i(n),n}$.resolve=function(e,t,n,i,r){let o=this.await?Ie(this,!0):this.result;if(o.then){let s=this;return o.then(function(){return s.resolve(e,t,n,i,r)})}return o.length&&(typeof e=="object"?(i=e.highlight||this.highlight,n=!!i||e.enrich,t=e.offset,e=e.limit):(i=i||this.highlight,n=!!i||n),o=r?n?ot.call(this.index,o):o:ve.call(this.index,o,e||100,t,n)),this.finalize(o,i)},$.finalize=function(e,t){if(e.then){let i=this;return e.then(function(r){return i.finalize(r,t)})}t&&e.length&&this.query&&(e=Be(this.query,e,this.index.index,this.field,t));let n=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",n&&n(e),e};function rt(e,t,n,i,r,o,s){let l=e.length,c=[],u,g;u=Pe();for(let d=0,C,f,v,y;d<t;d++)for(let m=0;m<l;m++)if(v=e[m],d<v.length&&(C=v[d]))for(let _=0;_<C.length;_++){if(f=C[_],(g=u[f])?u[f]++:(g=0,u[f]=1),y=c[g]||(c[g]=[]),!s){let N=d+(m||!r?0:o||0);y=y[N]||(y[N]=[])}if(y.push(f),s&&n&&g===l-1&&y.length-i===n)return i?y.slice(i):y}if(e=c.length)if(r)c=c.length>1?it(c,n,i,s,o):(c=c[0])&&n&&c.length>n||i?c.slice(i,n+i):c;else{if(e<l)return[];if(c=c[e-1],n||i)if(s)(c.length>n||i)&&(c=c.slice(i,n+i));else{r=[];for(let d=0,C;d<c.length;d++)if(C=c[d]){if(i&&C.length>i)i-=C.length;else if((n&&C.length>n||i)&&(C=C.slice(i,n+i),n-=C.length,i&&(i-=C.length)),r.push(C),!n)break}c=r}}return c}function it(e,t,n,i,r){let o=[],s=Pe(),l;var c=e.length;let u;if(i){for(r=c-1;r>=0;r--)if(u=(i=e[r])&&i.length){for(c=0;c<u;c++)if(l=i[c],!s[l]){if(s[l]=1,n)n--;else if(o.push(l),o.length===t)return o}}}else for(let g=c-1,d,C=0;g>=0;g--){d=e[g];for(let f=0;f<d.length;f++)if(u=(i=d[f])&&i.length){for(let v=0;v<u;v++)if(l=i[v],!s[l])if(s[l]=1,n)n--;else{let y=(f+(g<c-1&&r||0))/(g+1)|0;if((o[y]||(o[y]=[])).push(l),++C===t)return o}}}return o}function dt(e,t,n){let i=Pe(),r=[];for(let o=0,s;o<t.length;o++){s=t[o];for(let l=0;l<s.length;l++)i[s[l]]=1}if(n)for(let o=0,s;o<e.length;o++)s=e[o],i[s]&&(r.push(s),i[s]=0);else for(let o=0,s,l;o<e.result.length;o++)for(s=e.result[o],t=0;t<s.length;t++)l=s[t],i[l]&&((r[o]||(r[o]=[])).push(l),i[l]=0);return r}Pe(),mt.prototype.search=function(e,t,n,i){n||(!t&&Qe(e)?(n=e,e=""):Qe(t)&&(n=t,t=0));let r=[];var o=[];let s,l,c,u,g,d,C=0,f=!0,v;if(n){n.constructor===Array&&(n={index:n}),e=n.query||e,s=n.pluck,l=n.merge,u=n.boost,d=s||n.field||(d=n.index)&&(d.index?null:d);var y=this.tag&&n.tag;c=n.suggest,f=n.resolve!==!1,g=n.cache,v=f&&this.store&&n.highlight;var m=!!v||f&&this.store&&n.enrich;t=n.limit||t;var _=n.offset||0;if(t||(t=f?100:0),y&&(!this.db||!i)){y.constructor!==Array&&(y=[y]);var N=[];for(let xe=0,se;xe<y.length;xe++)if(se=y[xe],se.field&&se.tag){var Q=se.tag;if(Q.constructor===Array)for(var he=0;he<Q.length;he++)N.push(se.field,Q[he]);else N.push(se.field,Q)}else{Q=Object.keys(se);for(let Ce=0,U,K;Ce<Q.length;Ce++)if(U=Q[Ce],K=se[U],K.constructor===Array)for(he=0;he<K.length;he++)N.push(U,K[he]);else N.push(U,K)}if(y=N,!e){if(o=[],N.length)for(y=0;y<N.length;y+=2){if(this.db){if(i=this.index.get(N[y]),!i)continue;o.push(i=i.db.tag(N[y+1],t,_,m))}else i=kt.call(this,N[y],N[y+1],t,_,m);r.push(f?{field:N[y],tag:N[y+1],result:i}:[i])}if(o.length){let xe=this;return Promise.all(o).then(function(se){for(let Ce=0;Ce<se.length;Ce++)f?r[Ce].result=se[Ce]:r[Ce]=se[Ce];return f?r:new G(r.length>1?rt(r,1,0,0,c,u):r[0],xe)})}return f?r:new G(r.length>1?rt(r,1,0,0,c,u):r[0],this)}}f||s||!(d=d||this.field)||(ze(d)?s=d:(d.constructor===Array&&d.length===1&&(d=d[0]),s=d.field||d.index)),d&&d.constructor!==Array&&(d=[d])}d||(d=this.field);let Ae;N=(this.worker||this.db)&&!i&&[];for(let xe=0,se,Ce,U;xe<d.length;xe++){if(Ce=d[xe],this.db&&this.tag&&!this.B[xe])continue;let K;if(ze(Ce)||(K=Ce,Ce=K.field,e=K.query||e,t=$e(K.limit,t),_=$e(K.offset,_),c=$e(K.suggest,c),v=f&&this.store&&$e(K.highlight,v),m=!!v||f&&this.store&&$e(K.enrich,m),g=$e(K.cache,g)),i)se=i[xe];else{Q=K||n||{},he=Q.enrich;var pe=this.index.get(Ce);if(y&&(this.db&&(Q.tag=y,Ae=pe.db.support_tag_search,Q.field=d),!Ae&&he&&(Q.enrich=!1)),se=g?pe.searchCache(e,t,Q):pe.search(e,t,Q),he&&(Q.enrich=he),N){N[xe]=se;continue}}if(U=(se=se.result||se)&&se.length,y&&U){if(Q=[],he=0,this.db&&i){if(!Ae)for(pe=d.length;pe<i.length;pe++){let ye=i[pe];if(ye&&ye.length)he++,Q.push(ye);else if(!c)return f?r:new G(r,this)}}else for(let ye=0,_e,Me;ye<y.length;ye+=2){if(_e=this.tag.get(y[ye]),!_e){if(c)continue;return f?r:new G(r,this)}if(Me=(_e=_e&&_e.get(y[ye+1]))&&_e.length)he++,Q.push(_e);else if(!c)return f?r:new G(r,this)}if(he){if(se=dt(se,Q,f),U=se.length,!U&&!c)return f?se:new G(se,this);he--}}if(U)o[C]=Ce,r.push(se),C++;else if(d.length===1)return f?r:new G(r,this)}if(N){if(this.db&&y&&y.length&&!Ae)for(m=0;m<y.length;m+=2){if(o=this.index.get(y[m]),!o){if(c)continue;return f?r:new G(r,this)}N.push(o.db.tag(y[m+1],t,_,!1))}let xe=this;return Promise.all(N).then(function(se){return n&&(n.resolve=f),se.length&&(se=xe.search(e,t,n,se)),se})}if(!C)return f?r:new G(r,this);if(s&&(!m||!this.store))return r=r[0],f?r:new G(r,this);for(N=[],_=0;_<o.length;_++){if(y=r[_],m&&y.length&&typeof y[0].doc>"u"&&(this.db?N.push(y=this.index.get(this.field[0]).db.enrich(y)):y=ot.call(this,y)),s)return f?v?Be(e,y,this.index,s,v):y:new G(y,this);r[_]={field:o[_],result:y}}if(m&&this.db&&N.length){let xe=this;return Promise.all(N).then(function(se){for(let Ce=0;Ce<se.length;Ce++)r[Ce].result=se[Ce];return v&&(r=Be(e,r,xe.index,s,v)),l?st(r):r})}return v&&(r=Be(e,r,this.index,s,v)),l?st(r):r};function st(e){let t=[],n=Pe(),i=Pe();for(let r=0,o,s,l,c,u,g,d;r<e.length;r++){o=e[r],s=o.field,l=o.result;for(let C=0;C<l.length;C++)u=l[C],typeof u!="object"?u={id:c=u}:c=u.id,(g=n[c])?g.push(s):(u.field=n[c]=[s],t.push(u)),(d=u.highlight)&&(g=i[c],g||(i[c]=g={},u.highlight=g),g[s]=d)}return t}function kt(e,t,n,i,r){return e=this.tag.get(e),e?(e=e.get(t),e?(t=e.length-i,t>0&&((n&&t>n||i)&&(e=e.slice(i,i+n)),r&&(e=ot.call(this,e))),e):[]):[]}function ot(e){if(!this||!this.store)return e;if(this.db)return this.index.get(this.field[0]).db.enrich(e);let t=Array(e.length);for(let n=0,i;n<e.length;n++)i=e[n],t[n]={id:i,doc:this.store.get(i)};return t}function mt(e){if(!this||this.constructor!==mt)return new mt(e);let t=e.document||e.doc||e,n,i;if(this.B=[],this.field=[],this.D=[],this.key=(n=t.key||t.id)&&xt(n,this.D)||"id",(i=e.keystore||0)&&(this.keystore=i),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?i?new ee(i):new Set:i?new fe(i):new Map,this.h=(n=t.store||null)&&n&&n!==!0&&[],this.store=n?i?new fe(i):new Map:null,this.cache=(n=e.cache||null)&&new we(n),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=Nt.call(this,e,t),this.tag=null,(n=t.tag)&&(typeof n=="string"&&(n=[n]),n.length)){this.tag=new Map,this.A=[],this.F=[];for(let r=0,o,s;r<n.length;r++){if(o=n[r],s=o.field||o,!s)throw Error("The tag field from the document descriptor is undefined.");o.custom?this.A[r]=o.custom:(this.A[r]=xt(s,this.D),o.filter&&(typeof this.A[r]=="string"&&(this.A[r]=new String(this.A[r])),this.A[r].G=o.filter)),this.F[r]=s,this.tag.set(s,new Map)}}if(this.worker){this.fastupdate=!1,e=[];for(let r of this.index.values())r.then&&e.push(r);if(e.length){let r=this;return Promise.all(e).then(function(o){let s=0;for(let l of r.index.entries()){let c=l[0],u=l[1];u.then&&(u=o[s],r.index.set(c,u),s++)}return r})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}$=mt.prototype,$.mount=function(e){let t=this.field;if(this.tag)for(let o=0,s;o<this.F.length;o++){s=this.F[o];var n=void 0;this.index.set(s,n=new at({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(s),n.tag=this.tag.get(s)}n=[];let i={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let o=0,s,l;o<t.length;o++){i.field=l=t[o],s=this.index.get(l);let c=new e.constructor(e.id,i);c.id=e.id,n[o]=c.mount(s),s.document=!0,o?s.bypass=!0:s.store=this.store}let r=this;return this.db=Promise.all(n).then(function(){r.db=!0})},$.commit=async function(){let e=[];for(let t of this.index.values())e.push(t.commit());await Promise.all(e),this.reg.clear()},$.destroy=function(){let e=[];for(let t of this.index.values())e.push(t.destroy());return Promise.all(e)};function Nt(e,t){let n=new Map,i=t.index||t.field||t;ze(i)&&(i=[i]);for(let o=0,s,l;o<i.length;o++){if(s=i[o],ze(s)||(l=s,s=s.field),l=Qe(l)?Object.assign({},e,l):e,this.worker){var r=void 0;r=(r=l.encoder)&&r.encode?r:new T(typeof r=="string"?te[r]:r||{}),r=new q(l,r),n.set(s,r)}this.worker||n.set(s,new at(l,this.reg)),l.custom?this.B[o]=l.custom:(this.B[o]=xt(s,this.D),l.filter&&(typeof this.B[o]=="string"&&(this.B[o]=new String(this.B[o])),this.B[o].G=l.filter)),this.field[o]=s}if(this.h){e=t.store,ze(e)&&(e=[e]);for(let o=0,s,l;o<e.length;o++)s=e[o],l=s.field||s,s.custom?(this.h[o]=s.custom,s.custom.O=l):(this.h[o]=xt(l,this.D),s.filter&&(typeof this.h[o]=="string"&&(this.h[o]=new String(this.h[o])),this.h[o].G=s.filter))}return n}function xt(e,t){let n=e.split(":"),i=0;for(let r=0;r<n.length;r++)e=n[r],e[e.length-1]==="]"&&(e=e.substring(0,e.length-2))&&(t[i]=!0),e&&(n[i++]=e);return i<n.length&&(n.length=i),i>1?n:n[0]}$.append=function(e,t){return this.add(e,t,!0)},$.update=function(e,t){return this.remove(e).add(e,t)},$.remove=function(e){Qe(e)&&(e=We(e,this.key));for(var t of this.index.values())t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let n of this.tag.values())for(let i of n){t=i[0];let r=i[1],o=r.indexOf(e);o>-1&&(r.length>1?r.splice(o,1):n.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this},$.clear=function(){let e=[];for(let t of this.index.values()){let n=t.clear();n.then&&e.push(n)}if(this.tag)for(let t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this},$.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)},$.cleanup=function(){for(let e of this.index.values())e.cleanup();return this},$.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(e)||null},$.set=function(e,t){return typeof e=="object"&&(t=e,e=We(t,this.key)),this.store.set(e,t),this},$.searchCache=ge,$.export=jt,$.import=Ft,me(mt.prototype);function Et(e,t=0){let n=[],i=[];t&&(t=25e4/t*5e3|0);for(let r of e.entries())i.push(r),i.length===t&&(n.push(i),i=[]);return i.length&&n.push(i),n}function Lt(e,t){t||(t=new Map);for(let n=0,i;n<e.length;n++)i=e[n],t.set(i[0],i[1]);return t}function bt(e,t=0){let n=[],i=[];t&&(t=25e4/t*1e3|0);for(let r of e.entries())i.push([r[0],Et(r[1])[0]]),i.length===t&&(n.push(i),i=[]);return i.length&&n.push(i),n}function $t(e,t){t||(t=new Map);for(let n=0,i,r;n<e.length;n++)i=e[n],r=t.get(i[0]),t.set(i[0],Lt(i[1],r));return t}function _t(e){let t=[],n=[];for(let i of e.keys())n.push(i),n.length===25e4&&(t.push(n),n=[]);return n.length&&t.push(n),t}function Ht(e,t){t||(t=new Set);for(let n=0;n<e.length;n++)t.add(e[n]);return t}function yt(e,t,n,i,r,o,s=0){let l=i&&i.constructor===Array;var c=l?i.shift():i;if(!c)return this.export(e,t,r,o+1);if((c=e((t?t+".":"")+(s+1)+"."+n,JSON.stringify(c)))&&c.then){let u=this;return c.then(function(){return yt.call(u,e,t,n,l?i:null,r,o,s+1)})}return yt.call(this,e,t,n,l?i:null,r,o,s+1)}function jt(e,t,n=0,i=0){if(n<this.field.length){let s=this.field[n];if((t=this.index.get(s).export(e,s,n,i=1))&&t.then){let l=this;return t.then(function(){return l.export(e,s,n+1)})}return this.export(e,s,n+1)}let r,o;switch(i){case 0:r="reg",o=_t(this.reg),t=null;break;case 1:r="tag",o=this.tag&&bt(this.tag,this.reg.size),t=null;break;case 2:r="doc",o=this.store&&Et(this.store),t=null;break;default:return}return yt.call(this,e,t,r,o||null,n,i)}function Ft(e,t){var n=e.split(".");n[n.length-1]==="json"&&n.pop();let i=n.length>2?n[0]:"";if(n=n.length>2?n[2]:n[1],this.worker&&i)return this.index.get(i).import(e);if(t){if(typeof t=="string"&&(t=JSON.parse(t)),i)return this.index.get(i).import(n,t);switch(n){case"reg":this.fastupdate=!1,this.reg=Ht(t,this.reg);for(let r=0,o;r<this.field.length;r++)o=this.index.get(this.field[r]),o.fastupdate=!1,o.reg=this.reg;if(this.worker){t=[];for(let r of this.index.values())t.push(r.import(e));return Promise.all(t)}break;case"tag":this.tag=$t(t,this.tag);break;case"doc":this.store=Lt(t,this.store)}}}function Dt(e,t){let n="";for(let i of e.entries()){e=i[0];let r=i[1],o="";for(let s=0,l;s<r.length;s++){l=r[s]||[""];let c="";for(let u=0;u<l.length;u++)c+=(c?",":"")+(t==="string"?'"'+l[u]+'"':l[u]);c="["+c+"]",o+=(o?",":"")+c}o='["'+e+'",['+o+"]]",n+=(n?",":"")+o}return n}at.prototype.remove=function(e,t){let n=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(n){if(this.fastupdate){for(let i=0,r,o;i<n.length;i++)if((r=n[i])&&(o=r.length))if(r[o-1]===e)r.pop();else{let s=r.indexOf(e);s>=0&&r.splice(s,1)}}else Ct(this.map,e),this.depth&&Ct(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.M&&Wt(this)),this.cache&&this.cache.remove(e),this};function Ct(e,t){let n=0;var i=typeof t>"u";if(e.constructor===Array){for(let r=0,o,s,l;r<e.length;r++)if((o=e[r])&&o.length){if(i)return 1;if(s=o.indexOf(t),s>=0){if(o.length>1)return o.splice(s,1),1;if(delete e[r],n)return 1;l=1}else{if(l)return 1;n++}}}else for(let r of e.entries())i=r[0],Ct(r[1],t)?n++:e.delete(i);return n}var Zt={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};at.prototype.add=function(e,t,n,i){if(t&&(e||e===0)){if(!i&&!n&&this.reg.has(e))return this.update(e,t);i=this.depth,t=this.encoder.encode(t,!i);let u=t.length;if(u){let g=Pe(),d=Pe(),C=this.resolution;for(let f=0;f<u;f++){let v=t[this.rtl?u-1-f:f];var r=v.length;if(r&&(i||!d[v])){var o=this.score?this.score(t,v,f,null,0):Ot(C,u,f),s="";switch(this.tokenize){case"tolerant":if(ht(this,d,v,o,e,n),r>2){for(let y=1,m,_,N,Q;y<r-1;y++)m=v.charAt(y),_=v.charAt(y+1),N=v.substring(0,y)+_,Q=v.substring(y+2),s=N+m+Q,ht(this,d,s,o,e,n),s=N+Q,ht(this,d,s,o,e,n);ht(this,d,v.substring(0,v.length-1),o,e,n)}break;case"full":if(r>2){for(let y=0,m;y<r;y++)for(o=r;o>y;o--){s=v.substring(y,o),m=this.rtl?r-1-y:y;var l=this.score?this.score(t,v,f,s,m):Ot(C,u,f,r,m);ht(this,d,s,l,e,n)}break}case"bidirectional":case"reverse":if(r>1){for(l=r-1;l>0;l--){s=v[this.rtl?r-1-l:l]+s;var c=this.score?this.score(t,v,f,s,l):Ot(C,u,f,r,l);ht(this,d,s,c,e,n)}s=""}case"forward":if(r>1){for(l=0;l<r;l++)s+=v[this.rtl?r-1-l:l],ht(this,d,s,o,e,n);break}default:if(ht(this,d,v,o,e,n),i&&u>1&&f<u-1)for(r=this.N,s=v,o=Math.min(i+1,this.rtl?f+1:u-f),l=1;l<o;l++){v=t[this.rtl?u-1-f-l:f+l],c=this.bidirectional&&v>s;let y=this.score?this.score(t,s,f,v,l-1):Ot(r+(u/2>r?0:1),u,f,o-1,l-1);ht(this,g,c?s:v,y,e,n,c?v:s)}}}}this.fastupdate||this.reg.add(e)}}return this.db&&(this.commit_task.push(n?{ins:e}:{del:e}),this.M&&Wt(this)),this};function ht(e,t,n,i,r,o,s){let l,c;if(!(l=t[n])||s&&!l[s]){if(s?(t=l||(t[n]=Pe()),t[s]=1,c=e.ctx,(l=c.get(s))?c=l:c.set(s,c=e.keystore?new fe(e.keystore):new Map)):(c=e.map,t[n]=1),(l=c.get(n))?c=l:c.set(n,c=l=[]),o){for(let u=0,g;u<l.length;u++)if((g=l[u])&&g.includes(r)){if(u<=i)return;g.splice(g.indexOf(r),1),e.fastupdate&&(t=e.reg.get(r))&&t.splice(t.indexOf(g),1);break}}if(c=c[i]||(c[i]=[]),c.push(r),c.length===2**31-1){if(t=new ne(c),e.fastupdate)for(let u of e.reg.values())u.includes(c)&&(u[u.indexOf(c)]=t);l[i]=c=t}e.fastupdate&&((i=e.reg.get(r))?i.push(c):e.reg.set(r,[c]))}}function Ot(e,t,n,i,r){return n&&e>1?t+(i||0)<=e?n+(r||0):(e-1)/(t+(i||0))*(n+(r||0))+1|0:0}at.prototype.search=function(e,t,n){if(n||(t||typeof e!="object"?typeof t=="object"&&(n=t,t=0):(n=e,e="")),n&&n.cache)return n.cache=!1,e=this.searchCache(e,t,n),n.cache=!0,e;let i=[],r,o,s,l=0,c,u,g,d,C;n&&(e=n.query||e,t=n.limit||t,l=n.offset||0,o=n.context,s=n.suggest,C=(c=n.resolve)&&n.enrich,g=n.boost,d=n.resolution,u=this.db&&n.tag),typeof c>"u"&&(c=this.resolve),o=this.depth&&o!==!1;let f=this.encoder.encode(e,!o);if(r=f.length,t=t||(c?100:0),r===1)return zt.call(this,f[0],"",t,l,c,C,u);if(r===2&&o&&!s)return zt.call(this,f[1],f[0],t,l,c,C,u);let v=Pe(),y=0,m;if(o&&(m=f[0],y=1),d||d===0||(d=m?this.N:this.resolution),this.db){if(this.db.search&&(n=this.db.search(this,f,t,l,s,c,C,u),n!==!1))return n;let _=this;return(async function(){for(let N,Q;y<r;y++){if((Q=f[y])&&!v[Q]){if(v[Q]=1,N=await St(_,Q,m,0,0,!1,!1),N=qt(N,i,s,d)){i=N;break}m&&(s&&N&&i.length||(m=Q))}s&&m&&y===r-1&&!i.length&&(d=_.resolution,m="",y=-1,v=Pe())}return Vt(i,d,t,l,s,g,c)})()}for(let _,N;y<r;y++){if((N=f[y])&&!v[N]){if(v[N]=1,_=St(this,N,m,0,0,!1,!1),_=qt(_,i,s,d)){i=_;break}m&&(s&&_&&i.length||(m=N))}s&&m&&y===r-1&&!i.length&&(d=this.resolution,m="",y=-1,v=Pe())}return Vt(i,d,t,l,s,g,c)};function Vt(e,t,n,i,r,o,s){let l=e.length,c=e;if(l>1)c=rt(e,t,n,i,r,o,s);else if(l===1)return s?ve.call(null,e[0],n,i):new G(e[0],this);return s?c:new G(c,this)}function zt(e,t,n,i,r,o,s){return e=St(this,e,t,n,i,r,o,s),this.db?e.then(function(l){return r?l||[]:new G(l,this)}):e&&e.length?r?ve.call(this,e,n,i):new G(e,this):r?[]:new G([],this)}function qt(e,t,n,i){let r=[];if(e&&e.length){if(e.length<=i){t.push(e);return}for(let o=0,s;o<i;o++)(s=e[o])&&(r[o]=s);if(r.length){t.push(r);return}}if(!n)return r}function St(e,t,n,i,r,o,s,l){let c;return n&&(c=e.bidirectional&&t>n)&&(c=n,n=t,t=c),e.db?e.db.get(t,n,i,r,o,s,l):(e=n?(e=e.ctx.get(n))&&e.get(t):e.map.get(t),e)}function at(e,t){if(!this||this.constructor!==at)return new at(e);if(e){var n=ze(e)?e:e.preset;n&&(e=Object.assign({},Zt[n],e))}else e={};n=e.context;let i=n===!0?{depth:1}:n||{},r=ze(e.encoder)?te[e.encoder]:e.encode||e.encoder||{};this.encoder=r.encode?r:typeof r=="object"?new T(r):{encode:r},this.resolution=e.resolution||9,this.tokenize=n=(n=e.tokenize)&&n!=="default"&&n!=="exact"&&n||"strict",this.depth=n==="strict"&&i.depth||0,this.bidirectional=i.bidirectional!==!1,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(n=e.keystore||0)&&(this.keystore=n),this.map=n?new fe(n):new Map,this.ctx=n?new fe(n):new Map,this.reg=t||(this.fastupdate?n?new fe(n):new Map:n?new ee(n):new Set),this.N=i.resolution||3,this.rtl=r.rtl||e.rtl||!1,this.cache=(n=e.cache||null)&&new we(n),this.resolve=e.resolve!==!1,(n=e.db)&&(this.db=this.mount(n)),this.M=e.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}$=at.prototype,$.mount=function(e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),e.mount(this)},$.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)},$.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function Wt(e){e.commit_timer||(e.commit_timer=setTimeout(function(){e.commit_timer=null,e.db.commit(e)},1))}$.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},$.append=function(e,t){return this.add(e,t,!0)},$.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)},$.update=function(e,t){let n=this,i=this.remove(e);return i&&i.then?i.then(()=>n.add(e,t)):this.add(e,t)},$.cleanup=function(){return this.fastupdate?(Ct(this.map),this.depth&&Ct(this.ctx),this):this},$.searchCache=ge,$.export=function(e,t,n=0,i=0){let r,o;switch(i){case 0:r="reg",o=_t(this.reg);break;case 1:r="cfg",o=null;break;case 2:r="map",o=Et(this.map,this.reg.size);break;case 3:r="ctx",o=bt(this.ctx,this.reg.size);break;default:return}return yt.call(this,e,t,r,o,n,i)},$.import=function(e,t){if(t)switch(typeof t=="string"&&(t=JSON.parse(t)),e=e.split("."),e[e.length-1]==="json"&&e.pop(),e.length===3&&e.shift(),e=e.length>1?e[1]:e[0],e){case"reg":this.fastupdate=!1,this.reg=Ht(t,this.reg);break;case"map":this.map=Lt(t,this.map);break;case"ctx":this.ctx=$t(t,this.ctx)}},$.serialize=function(e=!0){let t="",n="",i="";if(this.reg.size){let o;for(var r of this.reg.keys())o||(o=typeof r),t+=(t?",":"")+(o==="string"?'"'+r+'"':r);t="index.reg=new Set(["+t+"]);",n=Dt(this.map,o),n="index.map=new Map(["+n+"]);";for(let s of this.ctx.entries()){r=s[0];let l=Dt(s[1],o);l="new Map(["+l+"])",l='["'+r+'",'+l+"]",i+=(i?",":"")+l}i="index.ctx=new Map(["+i+"]);"}return e?"function inject(index){"+t+n+i+"}":t+n+i},me(at.prototype);var Kt=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Tt=["map","ctx","tag","reg","cfg"],pt=Pe();function At(e,t={}){if(!this||this.constructor!==At)return new At(e,t);typeof e=="object"&&(t=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}$=At.prototype,$.mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())},$.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist(),pt[e.id]||(pt[e.id]=[]),pt[e.id].push(e.field);let t=Kt.open(e.id,1);return t.onupgradeneeded=function(){let n=e.db=this.result;for(let i=0,r;i<Tt.length;i++){r=Tt[i];for(let o=0,s;o<pt[e.id].length;o++)s=pt[e.id][o],n.objectStoreNames.contains(r+(r!=="reg"&&s?":"+s:""))||n.createObjectStore(r+(r!=="reg"&&s?":"+s:""))}},e.db=wt(t,function(n){e.db=n,e.db.onversionchange=function(){e.close()}})},$.close=function(){this.db&&this.db.close(),this.db=null},$.destroy=function(){let e=Kt.deleteDatabase(this.id);return wt(e)},$.clear=function(){let e=[];for(let n=0,i;n<Tt.length;n++){i=Tt[n];for(let r=0,o;r<pt[this.id].length;r++)o=pt[this.id][r],e.push(i+(i!=="reg"&&o?":"+o:""))}let t=this.db.transaction(e,"readwrite");for(let n=0;n<e.length;n++)t.objectStore(e[n]).clear();return wt(t)},$.get=function(e,t,n=0,i=0,r=!0,o=!1){e=this.db.transaction((t?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((t?"ctx":"map")+(this.field?":"+this.field:"")).get(t?t+":"+e:e);let s=this;return wt(e).then(function(l){let c=[];if(!l||!l.length)return c;if(r){if(!n&&!i&&l.length===1)return l[0];for(let u=0,g;u<l.length;u++)if((g=l[u])&&g.length){if(i>=g.length){i-=g.length;continue}let d=n?i+Math.min(g.length-i,n):g.length;for(let C=i;C<d;C++)c.push(g[C]);if(i=0,c.length===n)break}return o?s.enrich(c):c}return l})},$.tag=function(e,t=0,n=0,i=!1){e=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(e);let r=this;return wt(e).then(function(o){return!o||!o.length||n>=o.length?[]:!t&&!n?o:(o=o.slice(n,n+t),i?r.enrich(o):o)})},$.enrich=function(e){typeof e!="object"&&(e=[e]);let t=this.db.transaction("reg","readonly").objectStore("reg"),n=[];for(let i=0;i<e.length;i++)n[i]=wt(t.get(e[i]));return Promise.all(n).then(function(i){for(let r=0;r<i.length;r++)i[r]={id:e[r],doc:i[r]?JSON.parse(i[r]):null};return i})},$.has=function(e){return e=this.db.transaction("reg","readonly").objectStore("reg").getKey(e),wt(e).then(function(t){return!!t})},$.search=null,$.info=function(){},$.transaction=function(e,t,n){e+=e!=="reg"&&this.field?":"+this.field:"";let i=this.h[e+":"+t];if(i)return n.call(this,i);let r=this.db.transaction(e,t);this.h[e+":"+t]=i=r.objectStore(e);let o=n.call(this,i);return this.h[e+":"+t]=null,wt(r).finally(function(){return r=i=null,o})},$.commit=async function(e){let t=e.commit_task,n=[];e.commit_task=[];for(let i=0,r;i<t.length;i++)r=t[i],r.del&&n.push(r.del);n.length&&await this.remove(n),e.reg.size&&(await this.transaction("map","readwrite",function(i){for(let r of e.map){let o=r[0],s=r[1];s.length&&(i.get(o).onsuccess=function(){let l=this.result;var c;if(l&&l.length){let u=Math.max(l.length,s.length);for(let g=0,d,C;g<u;g++)if((C=s[g])&&C.length){if((d=l[g])&&d.length)for(c=0;c<C.length;c++)d.push(C[c]);else l[g]=C;c=1}}else l=s,c=1;c&&i.put(l,o)})}}),await this.transaction("ctx","readwrite",function(i){for(let r of e.ctx){let o=r[0],s=r[1];for(let l of s){let c=l[0],u=l[1];u.length&&(i.get(o+":"+c).onsuccess=function(){let g=this.result;var d;if(g&&g.length){let C=Math.max(g.length,u.length);for(let f=0,v,y;f<C;f++)if((y=u[f])&&y.length){if((v=g[f])&&v.length)for(d=0;d<y.length;d++)v.push(y[d]);else g[f]=y;d=1}}else g=u,d=1;d&&i.put(g,o+":"+c)})}}}),e.store?await this.transaction("reg","readwrite",function(i){for(let r of e.store){let o=r[0],s=r[1];i.put(typeof s=="object"?JSON.stringify(s):1,o)}}):e.bypass||await this.transaction("reg","readwrite",function(i){for(let r of e.reg.keys())i.put(1,r)}),e.tag&&await this.transaction("tag","readwrite",function(i){for(let r of e.tag){let o=r[0],s=r[1];s.length&&(i.get(o).onsuccess=function(){let l=this.result;l=l&&l.length?l.concat(s):s,i.put(l,o)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())};function Pt(e,t,n){let i=e.value,r,o=0;for(let s=0,l;s<i.length;s++){if(l=n?i:i[s]){for(let c=0,u,g;c<t.length;c++)if(g=t[c],u=l.indexOf(g),u>=0)if(r=1,l.length>1)l.splice(u,1);else{i[s]=[];break}o+=l.length}if(n)break}o?r&&e.update(i):e.delete(),e.continue()}$.remove=function(e){return typeof e!="object"&&(e=[e]),Promise.all([this.transaction("map","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e)}}),this.transaction("ctx","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e)}}),this.transaction("tag","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e,!0)}}),this.transaction("reg","readwrite",function(t){for(let n=0;n<e.length;n++)t.delete(e[n])})])};function wt(e,t){return new Promise((n,i)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,n(this.result)},e.onerror=e.onblocked=i,e=null})}var Qt={Index:at,Charset:te,Encoder:T,Document:mt,Worker:q,Resolver:G,IndexedDB:At,Language:{}};function en(e,t){if(!e)return;function n(r){r.target===this&&(r.preventDefault(),r.stopPropagation(),t())}function i(r){r.key.startsWith("Esc")&&(r.preventDefault(),t())}e?.addEventListener("click",n),window.addCleanup(()=>e?.removeEventListener("click",n)),document.addEventListener("keydown",i),window.addCleanup(()=>document.removeEventListener("keydown",i))}function Bt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var an=Object.hasOwnProperty,tn=Re(Xe(),1),cn=(0,tn.default)();function hn(e){let t=Mt(sn(e,"index"),!0);return t.length===0?"/":t}var Ut=(e,t,n)=>{let i=new URL(e.getAttribute(t),n);e.setAttribute(t,i.pathname+i.hash)};function fn(e,t){e.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(n=>Ut(n,"href",t)),e.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(n=>Ut(n,"src",t))}function Jt(e){let t=e.split("/").filter(n=>n!=="").slice(0,-1).map(n=>"..").join("/");return t.length===0&&(t="."),t}function nn(e,t){return rn(Jt(e),hn(t))}function rn(...e){if(e.length===0)return"";let t=e.filter(n=>n!==""&&n!=="/").map(n=>Mt(n)).join("/");return e[0].startsWith("/")&&(t="/"+t),e[e.length-1].endsWith("/")&&(t=t+"/"),t}function on(e,t){return e===t||e.endsWith("/"+t)}function sn(e,t){return on(e,t)&&(e=e.slice(0,-t.length)),e}function Mt(e,t){return e.startsWith("/")&&(e=e.substring(1)),!t&&e.endsWith("/")&&(e=e.slice(0,-1)),e}var gt="basic",tt="",a=e=>e.toLowerCase().split(/\s+/).filter(t=>t.length>0),h=new Qt.Document({encode:a,document:{id:"id",tag:"tags",index:[{field:"title",tokenize:"forward"},{field:"content",tokenize:"forward"},{field:"tags",tokenize:"forward"}]}}),b=new DOMParser,x=new Map,L=30,k=8,S=5,B=e=>{let t=e.split(/\s+/).filter(i=>i.trim()!==""),n=t.length;if(n>1)for(let i=1;i<n;i++)t.push(t.slice(0,i+1).join(" "));return t.sort((i,r)=>r.length-i.length)};function W(e,t,n){let i=B(e),r=t.split(/\s+/).filter(c=>c!==""),o=0,s=r.length-1;if(n){let c=C=>i.some(f=>C.toLowerCase().startsWith(f.toLowerCase())),u=r.map(c),g=0,d=0;for(let C=0;C<Math.max(r.length-L,0);C++){let f=u.slice(C,C+L).reduce((v,y)=>v+(y?1:0),0);f>=g&&(g=f,d=C)}o=Math.max(d-L,0),s=Math.min(o+2*L,r.length-1),r=r.slice(o,s)}let l=r.map(c=>{for(let u of i)if(c.toLowerCase().includes(u.toLowerCase())){let g=new RegExp(u.toLowerCase(),"gi");return c.replace(g,'<span class="highlight">$&</span>')}return c}).join(" ");return`${o===0?"":"..."}${l}${s===r.length-1?"":"..."}`}function Z(e,t){let n=new DOMParser,i=B(e),r=n.parseFromString(t.innerHTML,"text/html"),o=l=>{let c=document.createElement("span");return c.className="highlight",c.textContent=l,c},s=(l,c)=>{if(l.nodeType===Node.TEXT_NODE){let u=l.nodeValue??"",g=new RegExp(c.toLowerCase(),"gi"),d=u.match(g);if(!d||d.length===0)return;let C=document.createElement("span"),f=0;for(let v of d){let y=u.indexOf(v,f);C.appendChild(document.createTextNode(u.slice(f,y))),C.appendChild(o(v)),f=y+v.length}C.appendChild(document.createTextNode(u.slice(f))),l.parentNode?.replaceChild(C,l)}else if(l.nodeType===Node.ELEMENT_NODE){if(l.classList.contains("highlight"))return;Array.from(l.childNodes).forEach(u=>s(u,c))}};for(let l of i)s(r.body,l);return r.body}async function ae(e,t,n){let i=e.querySelector(".search-container");if(!i)return;let r=i.closest(".sidebar"),o=e.querySelector(".search-button");if(!o)return;let s=e.querySelector(".search-bar");if(!s)return;let l=e.querySelector(".search-layout");if(!l)return;let c=Object.keys(n),u=U=>{l.appendChild(U)},g=l.dataset.preview==="true",d,C,f=document.createElement("div");f.className="results-container",u(f),g&&(d=document.createElement("div"),d.className="preview-container",u(d));function v(){i.classList.remove("active"),s.value="",r&&(r.style.zIndex=""),Bt(f),d&&Bt(d),l.classList.remove("display-results"),gt="basic",o.focus()}function y(U){gt=U,r&&(r.style.zIndex="1"),i.classList.add("active"),s.focus()}let m=null;async function _(U){if(U.key==="k"&&(U.ctrlKey||U.metaKey)&&!U.shiftKey){U.preventDefault(),i.classList.contains("active")?v():y("basic");return}else if(U.shiftKey&&(U.ctrlKey||U.metaKey)&&U.key.toLowerCase()==="k"){U.preventDefault(),i.classList.contains("active")?v():y("tags"),s.value="#";return}if(m&&m.classList.remove("focus"),!!i.classList.contains("active")){if(U.key==="Enter"&&!U.isComposing)if(f.contains(document.activeElement)){let K=document.activeElement;if(K.classList.contains("no-match"))return;await se(K),K.click()}else{let K=document.getElementsByClassName("result-card")[0];if(!K||K.classList.contains("no-match"))return;await se(K),K.click()}else if(U.key==="ArrowUp"||U.shiftKey&&U.key==="Tab"){if(U.preventDefault(),f.contains(document.activeElement)){let K=m||document.activeElement,ye=K?.previousElementSibling;K?.classList.remove("focus"),ye?.focus(),ye&&(m=ye),await se(ye)}}else if((U.key==="ArrowDown"||U.key==="Tab")&&(U.preventDefault(),document.activeElement===s||m!==null)){let K=m||document.getElementsByClassName("result-card")[0],ye=K?.nextElementSibling;K?.classList.remove("focus"),ye?.focus(),ye&&(m=ye),await se(ye)}}}let N=(U,K)=>{let ye=c[K];return{id:K,slug:ye,title:gt==="tags"?n[ye].title:W(U,n[ye].title??""),content:W(U,n[ye].content??"",!0),tags:Q(U.substring(1),n[ye].tags)}};function Q(U,K){return!K||gt!=="tags"?[]:K.map(ye=>ye.toLowerCase().includes(U.toLowerCase())?`<li><p class="match-tag">#${ye}</p></li>`:`<li><p>#${ye}</p></li>`).slice(0,S)}function he(U){return new URL(nn(t,U),location.toString())}let Ae=({slug:U,title:K,content:ye,tags:_e})=>{let Me=_e.length>0?`<ul class="tags">${_e.join("")}</ul>`:"",Le=document.createElement("a");Le.classList.add("result-card"),Le.id=U,Le.href=he(U).toString(),Le.innerHTML=`
      <h3 class="card-title">${K}</h3>
      ${Me}
      <p class="card-description">${ye}</p>
    `,Le.addEventListener("click",Ye=>{Ye.altKey||Ye.ctrlKey||Ye.metaKey||Ye.shiftKey||v()});let et=Ye=>{Ye.altKey||Ye.ctrlKey||Ye.metaKey||Ye.shiftKey||v()};async function vt(Ye){if(!Ye.target)return;let Gt=Ye.target;await se(Gt)}return Le.addEventListener("mouseenter",vt),window.addCleanup(()=>Le.removeEventListener("mouseenter",vt)),Le.addEventListener("click",et),window.addCleanup(()=>Le.removeEventListener("click",et)),Le};async function pe(U){if(Bt(f),U.length===0?f.innerHTML=`<a class="result-card no-match">
          <h3>No results.</h3>
          <p>Try another search term?</p>
      </a>`:f.append(...U.map(Ae)),U.length===0&&d)Bt(d);else{let K=f.firstElementChild;K.classList.add("focus"),m=K,await se(K)}}async function xe(U){if(x.has(U))return x.get(U);let K=he(U).toString(),ye=await fetch(K).then(_e=>_e.text()).then(_e=>{if(_e===void 0)throw new Error(`Could not fetch ${K}`);let Me=b.parseFromString(_e??"","text/html");return fn(Me,K),[...Me.getElementsByClassName("popover-hint")]});return x.set(U,ye),ye}async function se(U){if(!l||!g||!U||!d)return;let K=U.id,ye=await xe(K).then(_e=>_e.flatMap(Me=>[...Z(tt,Me).children]));C=document.createElement("div"),C.classList.add("preview-inner"),C.append(...ye),d.replaceChildren(C),[...d.getElementsByClassName("highlight")].sort((_e,Me)=>Me.innerHTML.length-_e.innerHTML.length)[0]?.scrollIntoView({block:"start"})}async function Ce(U){if(!l||!h)return;tt=U.target.value,l.classList.toggle("display-results",tt!==""),gt=tt.startsWith("#")?"tags":"basic";let K;if(gt==="tags"){tt=tt.substring(1).trim();let Me=tt.indexOf(" ");if(Me!=-1){let Le=tt.substring(0,Me),et=tt.substring(Me+1).trim();K=await h.searchAsync({query:et,limit:Math.max(k,1e4),index:["title","content"],tag:{tags:Le}});for(let vt of K)vt.result=vt.result.slice(0,k);gt="basic",tt=et}else K=await h.searchAsync({query:tt,limit:k,index:["tags"]})}else gt==="basic"&&(K=await h.searchAsync({query:tt,limit:k,index:["title","content"]}));let ye=Me=>{let Le=K.filter(et=>et.field===Me);return Le.length===0?[]:[...Le[0].result]},_e=[...new Set([...ye("title"),...ye("content"),...ye("tags")])].map(Me=>N(tt,Me));await pe(_e)}document.addEventListener("keydown",_),window.addCleanup(()=>document.removeEventListener("keydown",_)),o.addEventListener("click",()=>y("basic")),window.addCleanup(()=>o.removeEventListener("click",()=>y("basic"))),s.addEventListener("input",Ce),window.addCleanup(()=>s.removeEventListener("input",Ce)),en(i,v),await oe(n)}var M=!1;async function oe(e){if(M)return;let t=0,n=[];for(let[i,r]of Object.entries(e))n.push(h.addAsync(t++,{id:t,slug:i,title:r.title,content:r.content,tags:r.tags}));await Promise.all(n),M=!0}document.addEventListener("nav",async e=>{let t=e.detail.url,n=await fetchData,i=document.getElementsByClassName("search");for(let r of i)await ae(r,t,n)})})(),(function(){var Ne=Object.create,be=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty,Oe=(E,p)=>()=>(p||E((p={exports:{}}).exports,p),p.exports),Ze=(E,p,O,le)=>{if(p&&typeof p=="object"||typeof p=="function")for(let F of Fe(p))!De.call(E,F)&&F!==O&&be(E,F,{get:()=>p[F],enumerable:!(le=He(p,F))||le.enumerable});return E},Re=(E,p,O)=>(O=E!=null?Ne(Ge(E)):{},Ze(p||!E||!E.__esModule?be(O,"default",{value:E,enumerable:!0}):O,E)),ct=Oe((E,p)=>{"use strict";p.exports=le;function O(te){return te instanceof Buffer?Buffer.from(te):new te.constructor(te.buffer.slice(),te.byteOffset,te.length)}function le(te){if(te=te||{},te.circles)return F(te);let X=new Map;if(X.set(Date,Y=>new Date(Y)),X.set(Map,(Y,re)=>new Map(fe(Array.from(Y),re))),X.set(Set,(Y,re)=>new Set(fe(Array.from(Y),re))),te.constructorHandlers)for(let Y of te.constructorHandlers)X.set(Y[0],Y[1]);let ne=null;return te.proto?Te:ee;function fe(Y,re){let A=Object.keys(Y),I=new Array(A.length);for(let me=0;me<A.length;me++){let D=A[me],ke=Y[D];typeof ke!="object"||ke===null?I[D]=ke:ke.constructor!==Object&&(ne=X.get(ke.constructor))?I[D]=ne(ke,re):ArrayBuffer.isView(ke)?I[D]=O(ke):I[D]=re(ke)}return I}function ee(Y){if(typeof Y!="object"||Y===null)return Y;if(Array.isArray(Y))return fe(Y,ee);if(Y.constructor!==Object&&(ne=X.get(Y.constructor)))return ne(Y,ee);let re={};for(let A in Y){if(Object.hasOwnProperty.call(Y,A)===!1)continue;let I=Y[A];typeof I!="object"||I===null?re[A]=I:I.constructor!==Object&&(ne=X.get(I.constructor))?re[A]=ne(I,ee):ArrayBuffer.isView(I)?re[A]=O(I):re[A]=ee(I)}return re}function Te(Y){if(typeof Y!="object"||Y===null)return Y;if(Array.isArray(Y))return fe(Y,Te);if(Y.constructor!==Object&&(ne=X.get(Y.constructor)))return ne(Y,Te);let re={};for(let A in Y){let I=Y[A];typeof I!="object"||I===null?re[A]=I:I.constructor!==Object&&(ne=X.get(I.constructor))?re[A]=ne(I,Te):ArrayBuffer.isView(I)?re[A]=O(I):re[A]=Te(I)}return re}}function F(te){let X=[],ne=[],fe=new Map;if(fe.set(Date,A=>new Date(A)),fe.set(Map,(A,I)=>new Map(Te(Array.from(A),I))),fe.set(Set,(A,I)=>new Set(Te(Array.from(A),I))),te.constructorHandlers)for(let A of te.constructorHandlers)fe.set(A[0],A[1]);let ee=null;return te.proto?re:Y;function Te(A,I){let me=Object.keys(A),D=new Array(me.length);for(let ke=0;ke<me.length;ke++){let Ue=me[ke],w=A[Ue];if(typeof w!="object"||w===null)D[Ue]=w;else if(w.constructor!==Object&&(ee=fe.get(w.constructor)))D[Ue]=ee(w,I);else if(ArrayBuffer.isView(w))D[Ue]=O(w);else{let j=X.indexOf(w);j!==-1?D[Ue]=ne[j]:D[Ue]=I(w)}}return D}function Y(A){if(typeof A!="object"||A===null)return A;if(Array.isArray(A))return Te(A,Y);if(A.constructor!==Object&&(ee=fe.get(A.constructor)))return ee(A,Y);let I={};X.push(A),ne.push(I);for(let me in A){if(Object.hasOwnProperty.call(A,me)===!1)continue;let D=A[me];if(typeof D!="object"||D===null)I[me]=D;else if(D.constructor!==Object&&(ee=fe.get(D.constructor)))I[me]=ee(D,Y);else if(ArrayBuffer.isView(D))I[me]=O(D);else{let ke=X.indexOf(D);ke!==-1?I[me]=ne[ke]:I[me]=Y(D)}}return X.pop(),ne.pop(),I}function re(A){if(typeof A!="object"||A===null)return A;if(Array.isArray(A))return Te(A,re);if(A.constructor!==Object&&(ee=fe.get(A.constructor)))return ee(A,re);let I={};X.push(A),ne.push(I);for(let me in A){let D=A[me];if(typeof D!="object"||D===null)I[me]=D;else if(D.constructor!==Object&&(ee=fe.get(D.constructor)))I[me]=ee(D,re);else if(ArrayBuffer.isView(D))I[me]=O(D);else{let ke=X.indexOf(D);ke!==-1?I[me]=ne[ke]:I[me]=re(D)}}return X.pop(),ne.pop(),I}}}),Xe=Object.hasOwnProperty,$=Re(ct(),1),qe=(0,$.default)();function $e(E){let p=lt(Ke(E,"index"),!0);return p.length===0?"/":p}function Pe(E){let p=E.split("/").filter(O=>O!=="").slice(0,-1).map(O=>"..").join("/");return p.length===0&&(p="."),p}function ze(E,p){return Qe(Pe(E),$e(p))}function Qe(...E){if(E.length===0)return"";let p=E.filter(O=>O!==""&&O!=="/").map(O=>lt(O)).join("/");return E[0].startsWith("/")&&(p="/"+p),E[E.length-1].endsWith("/")&&(p=p+"/"),p}function We(E,p){return E===p||E.endsWith("/"+p)}function Ke(E,p){return We(E,p)&&(E=E.slice(0,-p.length)),E}function lt(E,p){return E.startsWith("/")&&(E=E.substring(1)),!p&&E.endsWith("/")&&(E=E.slice(0,-1)),E}var ft=class ln{isFolder;children;slugSegments;fileSegmentHint;displayNameOverride;data;constructor(p,O){this.children=[],this.slugSegments=p,this.data=O??null,this.isFolder=!1,this.displayNameOverride=void 0}get displayName(){let p=this.data?.title==="index"?void 0:this.data?.title;return this.displayNameOverride??p??this.fileSegmentHint??this.slugSegment??""}set displayName(p){this.displayNameOverride=p}get slug(){let p=Qe(...this.slugSegments);return this.isFolder?Qe(p,"index"):p}get slugSegment(){return this.slugSegments[this.slugSegments.length-1]}makeChild(p,O){let le=[...this.slugSegments,p[0]],F=new ln(le,O);return this.children.push(F),F}insert(p,O){if(p.length===0)throw new Error("path is empty");this.isFolder=!0;let le=p[0];if(p.length===1)le==="index"?this.data??=O:this.makeChild(p,O);else if(p.length>1){let F=this.children.find(X=>X.slugSegment===le)??this.makeChild(p,void 0),te=O.filePath.split("/");F.fileSegmentHint=te.at(-p.length),F.insert(p.slice(1),O)}}add(p){this.insert(p.slug.split("/"),p)}findNode(p){return p.length===0||p.length===1&&p[0]==="index"?this:this.children.find(O=>O.slugSegment===p[0])?.findNode(p.slice(1))}ancestryChain(p){if(p.length===0||p.length===1&&p[0]==="index")return[this];let O=this.children.find(F=>F.slugSegment===p[0]);if(!O)return;let le=O.ancestryChain(p.slice(1));if(le)return[this,...le]}filter(p){this.children=this.children.filter(p),this.children.forEach(O=>O.filter(p))}map(p){p(this),this.children.forEach(O=>O.map(p))}sort(p){this.children=this.children.sort(p),this.children.forEach(O=>O.sort(p))}static fromEntries(p){let O=new ln([]);return p.forEach(([,le])=>O.add(le)),O}entries(){let p=O=>[[O.slug,O]].concat(...O.children.map(p));return p(this)}getFolderPaths(){return this.entries().filter(([p,O])=>O.isFolder).map(([p,O])=>p)}},nt;function ut(){let E=this.closest(".explorer");if(!E)return;let p=E.classList.toggle("collapsed");E.setAttribute("aria-expanded",E.getAttribute("aria-expanded")==="true"?"false":"true"),p?document.documentElement.classList.remove("mobile-no-scroll"):document.documentElement.classList.add("mobile-no-scroll")}function T(E){E.stopPropagation();let p=E.target;if(!p)return;let O=p.nodeName==="svg"?p.parentElement:p.parentElement?.parentElement;if(!O)return;let le=O.nextElementSibling;if(!le)return;le.classList.toggle("open");let F=!le.classList.contains("open");H(le,F);let te=nt.find(ne=>ne.path===O.dataset.folderpath);te?te.collapsed=F:nt.push({path:O.dataset.folderpath,collapsed:F});let X=JSON.stringify(nt);localStorage.setItem("fileTree",X)}function J(E,p){let O=document.getElementById("template-file").content.cloneNode(!0).querySelector("li"),le=O.querySelector("a");return le.href=ze(E,p.slug),le.dataset.for=p.slug,le.textContent=p.displayName,E===p.slug&&le.classList.add("active"),O}function ge(E,p,O){let le=document.getElementById("template-folder").content.cloneNode(!0).querySelector("li"),F=le.querySelector(".folder-container"),te=F.querySelector("div"),X=le.querySelector(".folder-outer"),ne=X.querySelector("ul"),fe=p.slug;if(F.dataset.folderpath=fe,O.folderClickBehavior==="link"){let re=te.querySelector(".folder-button"),A=document.createElement("a");A.href=ze(E,fe),A.dataset.for=fe,A.className="folder-title",A.textContent=p.displayName,re.replaceWith(A)}else{let re=te.querySelector(".folder-title");re.textContent=p.displayName}let ee=nt.find(re=>re.path===fe)?.collapsed??O.folderDefaultState==="collapsed",Te=$e(fe),Y=Te===E.slice(0,Te.length);(!ee||Y)&&X.classList.add("open");for(let re of p.children){let A=re.isFolder?ge(E,re,O):J(E,re);ne.appendChild(A)}return le}async function we(E){let p=document.querySelectorAll("div.explorer");for(let O of p){let le=JSON.parse(O.dataset.dataFns||"{}"),F={folderClickBehavior:O.dataset.behavior||"collapse",folderDefaultState:O.dataset.collapsed||"collapsed",useSavedState:O.dataset.savestate==="true",order:le.order||["filter","map","sort"],sortFn:new Function("return "+(le.sortFn||"undefined"))(),filterFn:new Function("return "+(le.filterFn||"undefined"))(),mapFn:new Function("return "+(le.mapFn||"undefined"))()},te=localStorage.getItem("fileTree"),X=te&&F.useSavedState?JSON.parse(te):[],ne=new Map(X.map(D=>[D.path,D.collapsed])),fe=await fetchData,ee=[...Object.entries(fe)],Te=ft.fromEntries(ee);for(let D of F.order)switch(D){case"filter":F.filterFn&&Te.filter(F.filterFn);break;case"map":F.mapFn&&Te.map(F.mapFn);break;case"sort":F.sortFn&&Te.sort(F.sortFn);break}nt=Te.getFolderPaths().map(D=>{let ke=ne.get(D);return{path:D,collapsed:ke===void 0?F.folderDefaultState==="collapsed":ke}});let Y=O.querySelector(".explorer-ul");if(!Y)continue;let re=document.createDocumentFragment();for(let D of Te.children){let ke=D.isFolder?ge(E,D,F):J(E,D);re.appendChild(ke)}Y.insertBefore(re,Y.firstChild);let A=sessionStorage.getItem("explorerScrollTop");if(A)Y.scrollTop=parseInt(A);else{let D=Y.querySelector(".active");D&&D.scrollIntoView({behavior:"smooth"})}let I=O.getElementsByClassName("explorer-toggle");for(let D of I)D.addEventListener("click",ut),window.addCleanup(()=>D.removeEventListener("click",ut));if(F.folderClickBehavior==="collapse"){let D=O.getElementsByClassName("folder-button");for(let ke of D)ke.addEventListener("click",T),window.addCleanup(()=>ke.removeEventListener("click",T))}let me=O.getElementsByClassName("folder-icon");for(let D of me)D.addEventListener("click",T),window.addCleanup(()=>D.removeEventListener("click",T))}}document.addEventListener("prenav",async()=>{let E=document.querySelector(".explorer-ul");E&&sessionStorage.setItem("explorerScrollTop",E.scrollTop.toString())}),document.addEventListener("nav",async E=>{let p=E.detail.url;await we(p);for(let O of document.getElementsByClassName("explorer")){let le=O.querySelector(".mobile-explorer");if(!le)return;le.checkVisibility()&&(O.classList.add("collapsed"),O.setAttribute("aria-expanded","false"),document.documentElement.classList.remove("mobile-no-scroll")),le.classList.remove("hide-until-loaded")}}),window.addEventListener("resize",function(){let E=document.querySelector(".explorer");if(E&&!E.classList.contains("collapsed")){document.documentElement.classList.add("mobile-no-scroll");return}});function H(E,p){return p?E.classList.remove("open"):E.classList.add("open")}})(),(function(){document.addEventListener("nav",Ne=>{const be=new IntersectionObserver(Ge=>{for(const De of Ge){const Oe=De.target.parentElement;if(!Oe)return;De.isIntersecting?Oe.classList.remove("gradient-active"):Oe.classList.add("gradient-active")}}),He=document.getElementById("list-0");if(!He)return;const Fe=He.querySelector(".overflow-end");Fe&&(be.observe(Fe),window.addCleanup(()=>be.disconnect()))})})(),(function(){document.addEventListener("nav",Ne=>{const be=new IntersectionObserver(Ge=>{for(const De of Ge){const Oe=De.target.parentElement;if(!Oe)return;De.isIntersecting?Oe.classList.remove("gradient-active"):Oe.classList.add("gradient-active")}}),He=document.getElementById("list-1");if(!He)return;const Fe=He.querySelector(".overflow-end");Fe&&(be.observe(Fe),window.addCleanup(()=>be.disconnect()))})})(),(function(){var Ne=Object.create,be=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty,Oe=(a,h)=>()=>(h||a((h={exports:{}}).exports,h),h.exports),Ze=(a,h,b,x)=>{if(h&&typeof h=="object"||typeof h=="function")for(let L of Fe(h))!De.call(a,L)&&L!==b&&be(a,L,{get:()=>h[L],enumerable:!(x=He(h,L))||x.enumerable});return a},Re=(a,h,b)=>(b=a!=null?Ne(Ge(a)):{},Ze(h||!a||!a.__esModule?be(b,"default",{value:a,enumerable:!0}):b,a)),ct=Oe((a,h)=>{"use strict";h.exports=x;function b(k){return k instanceof Buffer?Buffer.from(k):new k.constructor(k.buffer.slice(),k.byteOffset,k.length)}function x(k){if(k=k||{},k.circles)return L(k);let S=new Map;if(S.set(Date,M=>new Date(M)),S.set(Map,(M,oe)=>new Map(W(Array.from(M),oe))),S.set(Set,(M,oe)=>new Set(W(Array.from(M),oe))),k.constructorHandlers)for(let M of k.constructorHandlers)S.set(M[0],M[1]);let B=null;return k.proto?ae:Z;function W(M,oe){let e=Object.keys(M),t=new Array(e.length);for(let n=0;n<e.length;n++){let i=e[n],r=M[i];typeof r!="object"||r===null?t[i]=r:r.constructor!==Object&&(B=S.get(r.constructor))?t[i]=B(r,oe):ArrayBuffer.isView(r)?t[i]=b(r):t[i]=oe(r)}return t}function Z(M){if(typeof M!="object"||M===null)return M;if(Array.isArray(M))return W(M,Z);if(M.constructor!==Object&&(B=S.get(M.constructor)))return B(M,Z);let oe={};for(let e in M){if(Object.hasOwnProperty.call(M,e)===!1)continue;let t=M[e];typeof t!="object"||t===null?oe[e]=t:t.constructor!==Object&&(B=S.get(t.constructor))?oe[e]=B(t,Z):ArrayBuffer.isView(t)?oe[e]=b(t):oe[e]=Z(t)}return oe}function ae(M){if(typeof M!="object"||M===null)return M;if(Array.isArray(M))return W(M,ae);if(M.constructor!==Object&&(B=S.get(M.constructor)))return B(M,ae);let oe={};for(let e in M){let t=M[e];typeof t!="object"||t===null?oe[e]=t:t.constructor!==Object&&(B=S.get(t.constructor))?oe[e]=B(t,ae):ArrayBuffer.isView(t)?oe[e]=b(t):oe[e]=ae(t)}return oe}}function L(k){let S=[],B=[],W=new Map;if(W.set(Date,e=>new Date(e)),W.set(Map,(e,t)=>new Map(ae(Array.from(e),t))),W.set(Set,(e,t)=>new Set(ae(Array.from(e),t))),k.constructorHandlers)for(let e of k.constructorHandlers)W.set(e[0],e[1]);let Z=null;return k.proto?oe:M;function ae(e,t){let n=Object.keys(e),i=new Array(n.length);for(let r=0;r<n.length;r++){let o=n[r],s=e[o];if(typeof s!="object"||s===null)i[o]=s;else if(s.constructor!==Object&&(Z=W.get(s.constructor)))i[o]=Z(s,t);else if(ArrayBuffer.isView(s))i[o]=b(s);else{let l=S.indexOf(s);l!==-1?i[o]=B[l]:i[o]=t(s)}}return i}function M(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return ae(e,M);if(e.constructor!==Object&&(Z=W.get(e.constructor)))return Z(e,M);let t={};S.push(e),B.push(t);for(let n in e){if(Object.hasOwnProperty.call(e,n)===!1)continue;let i=e[n];if(typeof i!="object"||i===null)t[n]=i;else if(i.constructor!==Object&&(Z=W.get(i.constructor)))t[n]=Z(i,M);else if(ArrayBuffer.isView(i))t[n]=b(i);else{let r=S.indexOf(i);r!==-1?t[n]=B[r]:t[n]=M(i)}}return S.pop(),B.pop(),t}function oe(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return ae(e,oe);if(e.constructor!==Object&&(Z=W.get(e.constructor)))return Z(e,oe);let t={};S.push(e),B.push(t);for(let n in e){let i=e[n];if(typeof i!="object"||i===null)t[n]=i;else if(i.constructor!==Object&&(Z=W.get(i.constructor)))t[n]=Z(i,oe);else if(ArrayBuffer.isView(i))t[n]=b(i);else{let r=S.indexOf(i);r!==-1?t[n]=B[r]:t[n]=oe(i)}}return S.pop(),B.pop(),t}}}),Xe=Math.min,$=Math.max,qe=Math.round,$e=a=>({x:a,y:a}),Pe={left:"right",right:"left",bottom:"top",top:"bottom"},ze={start:"end",end:"start"};function Qe(a,h,b){return $(a,Xe(h,b))}function We(a,h){return typeof a=="function"?a(h):a}function Ke(a){return a.split("-")[0]}function lt(a){return a.split("-")[1]}function ft(a){return a==="x"?"y":"x"}function nt(a){return a==="y"?"height":"width"}var ut=new Set(["top","bottom"]);function T(a){return ut.has(Ke(a))?"y":"x"}function J(a){return ft(T(a))}function ge(a,h,b){b===void 0&&(b=!1);let x=lt(a),L=J(a),k=nt(L),S=L==="x"?x===(b?"end":"start")?"right":"left":x==="start"?"bottom":"top";return h.reference[k]>h.floating[k]&&(S=X(S)),[S,X(S)]}function we(a){let h=X(a);return[H(a),h,H(h)]}function H(a){return a.replace(/start|end/g,h=>ze[h])}var E=["left","right"],p=["right","left"],O=["top","bottom"],le=["bottom","top"];function F(a,h,b){switch(a){case"top":case"bottom":return b?h?p:E:h?E:p;case"left":case"right":return h?O:le;default:return[]}}function te(a,h,b,x){let L=lt(a),k=F(Ke(a),b==="start",x);return L&&(k=k.map(S=>S+"-"+L),h&&(k=k.concat(k.map(H)))),k}function X(a){return a.replace(/left|right|bottom|top/g,h=>Pe[h])}function ne(a){return{top:0,right:0,bottom:0,left:0,...a}}function fe(a){return typeof a!="number"?ne(a):{top:a,right:a,bottom:a,left:a}}function ee(a){let{x:h,y:b,width:x,height:L}=a;return{width:x,height:L,top:b,left:h,right:h+x,bottom:b+L,x:h,y:b}}function Te(a,h,b){let{reference:x,floating:L}=a,k=T(h),S=J(h),B=nt(S),W=Ke(h),Z=k==="y",ae=x.x+x.width/2-L.width/2,M=x.y+x.height/2-L.height/2,oe=x[B]/2-L[B]/2,e;switch(W){case"top":e={x:ae,y:x.y-L.height};break;case"bottom":e={x:ae,y:x.y+x.height};break;case"right":e={x:x.x+x.width,y:M};break;case"left":e={x:x.x-L.width,y:M};break;default:e={x:x.x,y:x.y}}switch(lt(h)){case"start":e[S]-=oe*(b&&Z?-1:1);break;case"end":e[S]+=oe*(b&&Z?-1:1);break}return e}var Y=async(a,h,b)=>{let{placement:x="bottom",strategy:L="absolute",middleware:k=[],platform:S}=b,B=k.filter(Boolean),W=await(S.isRTL==null?void 0:S.isRTL(h)),Z=await S.getElementRects({reference:a,floating:h,strategy:L}),{x:ae,y:M}=Te(Z,x,W),oe=x,e={},t=0;for(let n=0;n<B.length;n++){let{name:i,fn:r}=B[n],{x:o,y:s,data:l,reset:c}=await r({x:ae,y:M,initialPlacement:x,placement:oe,strategy:L,middlewareData:e,rects:Z,platform:S,elements:{reference:a,floating:h}});ae=o??ae,M=s??M,e={...e,[i]:{...e[i],...l}},c&&t<=50&&(t++,typeof c=="object"&&(c.placement&&(oe=c.placement),c.rects&&(Z=c.rects===!0?await S.getElementRects({reference:a,floating:h,strategy:L}):c.rects),{x:ae,y:M}=Te(Z,oe,W)),n=-1)}return{x:ae,y:M,placement:oe,strategy:L,middlewareData:e}};async function re(a,h){var b;h===void 0&&(h={});let{x,y:L,platform:k,rects:S,elements:B,strategy:W}=a,{boundary:Z="clippingAncestors",rootBoundary:ae="viewport",elementContext:M="floating",altBoundary:oe=!1,padding:e=0}=We(h,a),t=fe(e),n=B[oe?M==="floating"?"reference":"floating":M],i=ee(await k.getClippingRect({element:(b=await(k.isElement==null?void 0:k.isElement(n)))==null||b?n:n.contextElement||await(k.getDocumentElement==null?void 0:k.getDocumentElement(B.floating)),boundary:Z,rootBoundary:ae,strategy:W})),r=M==="floating"?{x,y:L,width:S.floating.width,height:S.floating.height}:S.reference,o=await(k.getOffsetParent==null?void 0:k.getOffsetParent(B.floating)),s=await(k.isElement==null?void 0:k.isElement(o))?await(k.getScale==null?void 0:k.getScale(o))||{x:1,y:1}:{x:1,y:1},l=ee(k.convertOffsetParentRelativeRectToViewportRelativeRect?await k.convertOffsetParentRelativeRectToViewportRelativeRect({elements:B,rect:r,offsetParent:o,strategy:W}):r);return{top:(i.top-l.top+t.top)/s.y,bottom:(l.bottom-i.bottom+t.bottom)/s.y,left:(i.left-l.left+t.left)/s.x,right:(l.right-i.right+t.right)/s.x}}var A=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(h){var b,x;let{placement:L,middlewareData:k,rects:S,initialPlacement:B,platform:W,elements:Z}=h,{mainAxis:ae=!0,crossAxis:M=!0,fallbackPlacements:oe,fallbackStrategy:e="bestFit",fallbackAxisSideDirection:t="none",flipAlignment:n=!0,...i}=We(a,h);if((b=k.arrow)!=null&&b.alignmentOffset)return{};let r=Ke(L),o=T(B),s=Ke(B)===B,l=await(W.isRTL==null?void 0:W.isRTL(Z.floating)),c=oe||(s||!n?[X(B)]:we(B)),u=t!=="none";!oe&&u&&c.push(...te(B,n,t,l));let g=[B,...c],d=await re(h,i),C=[],f=((x=k.flip)==null?void 0:x.overflows)||[];if(ae&&C.push(d[r]),M){let _=ge(L,S,l);C.push(d[_[0]],d[_[1]])}if(f=[...f,{placement:L,overflows:C}],!C.every(_=>_<=0)){var v,y;let _=(((v=k.flip)==null?void 0:v.index)||0)+1,N=g[_];if(N&&(!(M==="alignment"&&o!==T(N))||f.every(he=>T(he.placement)===o?he.overflows[0]>0:!0)))return{data:{index:_,overflows:f},reset:{placement:N}};let Q=(y=f.filter(he=>he.overflows[0]<=0).sort((he,Ae)=>he.overflows[1]-Ae.overflows[1])[0])==null?void 0:y.placement;if(!Q)switch(e){case"bestFit":{var m;let he=(m=f.filter(Ae=>{if(u){let pe=T(Ae.placement);return pe===o||pe==="y"}return!0}).map(Ae=>[Ae.placement,Ae.overflows.filter(pe=>pe>0).reduce((pe,xe)=>pe+xe,0)]).sort((Ae,pe)=>Ae[1]-pe[1])[0])==null?void 0:m[0];he&&(Q=he);break}case"initialPlacement":Q=B;break}if(L!==Q)return{reset:{placement:Q}}}return{}}}};function I(a){let h=Xe(...a.map(k=>k.left)),b=Xe(...a.map(k=>k.top)),x=$(...a.map(k=>k.right)),L=$(...a.map(k=>k.bottom));return{x:h,y:b,width:x-h,height:L-b}}function me(a){let h=a.slice().sort((L,k)=>L.y-k.y),b=[],x=null;for(let L=0;L<h.length;L++){let k=h[L];!x||k.y-x.y>x.height/2?b.push([k]):b[b.length-1].push(k),x=k}return b.map(L=>ee(I(L)))}var D=function(a){return a===void 0&&(a={}),{name:"inline",options:a,async fn(h){let{placement:b,elements:x,rects:L,platform:k,strategy:S}=h,{padding:B=2,x:W,y:Z}=We(a,h),ae=Array.from(await(k.getClientRects==null?void 0:k.getClientRects(x.reference))||[]),M=me(ae),oe=ee(I(ae)),e=fe(B);function t(){if(M.length===2&&M[0].left>M[1].right&&W!=null&&Z!=null)return M.find(i=>W>i.left-e.left&&W<i.right+e.right&&Z>i.top-e.top&&Z<i.bottom+e.bottom)||oe;if(M.length>=2){if(T(b)==="y"){let f=M[0],v=M[M.length-1],y=Ke(b)==="top",m=f.top,_=v.bottom,N=y?f.left:v.left,Q=y?f.right:v.right,he=Q-N,Ae=_-m;return{top:m,bottom:_,left:N,right:Q,width:he,height:Ae,x:N,y:m}}let i=Ke(b)==="left",r=$(...M.map(f=>f.right)),o=Xe(...M.map(f=>f.left)),s=M.filter(f=>i?f.left===o:f.right===r),l=s[0].top,c=s[s.length-1].bottom,u=o,g=r,d=g-u,C=c-l;return{top:l,bottom:c,left:u,right:g,width:d,height:C,x:u,y:l}}return oe}let n=await k.getElementRects({reference:{getBoundingClientRect:t},floating:x.floating,strategy:S});return L.reference.x!==n.reference.x||L.reference.y!==n.reference.y||L.reference.width!==n.reference.width||L.reference.height!==n.reference.height?{reset:{rects:n}}:{}}}},ke=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(h){let{x:b,y:x,placement:L}=h,{mainAxis:k=!0,crossAxis:S=!1,limiter:B={fn:i=>{let{x:r,y:o}=i;return{x:r,y:o}}},...W}=We(a,h),Z={x:b,y:x},ae=await re(h,W),M=T(Ke(L)),oe=ft(M),e=Z[oe],t=Z[M];if(k){let i=oe==="y"?"top":"left",r=oe==="y"?"bottom":"right",o=e+ae[i],s=e-ae[r];e=Qe(o,e,s)}if(S){let i=M==="y"?"top":"left",r=M==="y"?"bottom":"right",o=t+ae[i],s=t-ae[r];t=Qe(o,t,s)}let n=B.fn({...h,[oe]:e,[M]:t});return{...n,data:{x:n.x-b,y:n.y-x,enabled:{[oe]:k,[M]:S}}}}}};function Ue(){return typeof window<"u"}function w(a){return q(a)?(a.nodeName||"").toLowerCase():"#document"}function j(a){var h;return(a==null||(h=a.ownerDocument)==null?void 0:h.defaultView)||window}function P(a){var h;return(h=(q(a)?a.ownerDocument:a.document)||window.document)==null?void 0:h.documentElement}function q(a){return Ue()?a instanceof Node||a instanceof j(a).Node:!1}function V(a){return Ue()?a instanceof Element||a instanceof j(a).Element:!1}function R(a){return Ue()?a instanceof HTMLElement||a instanceof j(a).HTMLElement:!1}function z(a){return!Ue()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof j(a).ShadowRoot}var Ee=new Set(["inline","contents"]);function ve(a){let{overflow:h,overflowX:b,overflowY:x,display:L}=st(a);return/auto|scroll|overlay|hidden|clip/.test(h+x+b)&&!Ee.has(L)}var je=new Set(["table","td","th"]);function Ve(a){return je.has(w(a))}var de=[":popover-open",":modal"];function Se(a){return de.some(h=>{try{return a.matches(h)}catch{return!1}})}var ie=["transform","translate","scale","rotate","perspective"],ce=["transform","translate","scale","rotate","perspective","filter"],Be=["paint","layout","strict","content"];function G(a){let h=rt(),b=V(a)?st(a):a;return ie.some(x=>b[x]?b[x]!=="none":!1)||(b.containerType?b.containerType!=="normal":!1)||!h&&(b.backdropFilter?b.backdropFilter!=="none":!1)||!h&&(b.filter?b.filter!=="none":!1)||ce.some(x=>(b.willChange||"").includes(x))||Be.some(x=>(b.contain||"").includes(x))}function Ie(a){let h=ot(a);for(;R(h)&&!dt(h);){if(G(h))return h;if(Se(h))return null;h=ot(h)}return null}function rt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var it=new Set(["html","body","#document"]);function dt(a){return it.has(w(a))}function st(a){return j(a).getComputedStyle(a)}function kt(a){return V(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function ot(a){if(w(a)==="html")return a;let h=a.assignedSlot||a.parentNode||z(a)&&a.host||P(a);return z(h)?h.host:h}function mt(a){let h=ot(a);return dt(h)?a.ownerDocument?a.ownerDocument.body:a.body:R(h)&&ve(h)?h:mt(h)}function Nt(a,h,b){var x;h===void 0&&(h=[]),b===void 0&&(b=!0);let L=mt(a),k=L===((x=a.ownerDocument)==null?void 0:x.body),S=j(L);if(k){let B=xt(S);return h.concat(S,S.visualViewport||[],ve(L)?L:[],B&&b?Nt(B):[])}return h.concat(L,Nt(L,[],b))}function xt(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function Et(a){let h=st(a),b=parseFloat(h.width)||0,x=parseFloat(h.height)||0,L=R(a),k=L?a.offsetWidth:b,S=L?a.offsetHeight:x,B=qe(b)!==k||qe(x)!==S;return B&&(b=k,x=S),{width:b,height:x,$:B}}function Lt(a){return V(a)?a:a.contextElement}function bt(a){let h=Lt(a);if(!R(h))return $e(1);let b=h.getBoundingClientRect(),{width:x,height:L,$:k}=Et(h),S=(k?qe(b.width):b.width)/x,B=(k?qe(b.height):b.height)/L;return(!S||!Number.isFinite(S))&&(S=1),(!B||!Number.isFinite(B))&&(B=1),{x:S,y:B}}var $t=$e(0);function _t(a){let h=j(a);return!rt()||!h.visualViewport?$t:{x:h.visualViewport.offsetLeft,y:h.visualViewport.offsetTop}}function Ht(a,h,b){return h===void 0&&(h=!1),!b||h&&b!==j(a)?!1:h}function yt(a,h,b,x){h===void 0&&(h=!1),b===void 0&&(b=!1);let L=a.getBoundingClientRect(),k=Lt(a),S=$e(1);h&&(x?V(x)&&(S=bt(x)):S=bt(a));let B=Ht(k,b,x)?_t(k):$e(0),W=(L.left+B.x)/S.x,Z=(L.top+B.y)/S.y,ae=L.width/S.x,M=L.height/S.y;if(k){let oe=j(k),e=x&&V(x)?j(x):x,t=oe,n=xt(t);for(;n&&x&&e!==t;){let i=bt(n),r=n.getBoundingClientRect(),o=st(n),s=r.left+(n.clientLeft+parseFloat(o.paddingLeft))*i.x,l=r.top+(n.clientTop+parseFloat(o.paddingTop))*i.y;W*=i.x,Z*=i.y,ae*=i.x,M*=i.y,W+=s,Z+=l,t=j(n),n=xt(t)}}return ee({width:ae,height:M,x:W,y:Z})}function jt(a,h){let b=kt(a).scrollLeft;return h?h.left+b:yt(P(a)).left+b}function Ft(a,h){let b=a.getBoundingClientRect(),x=b.left+h.scrollLeft-jt(a,b),L=b.top+h.scrollTop;return{x,y:L}}function Dt(a){let{elements:h,rect:b,offsetParent:x,strategy:L}=a,k=L==="fixed",S=P(x),B=h?Se(h.floating):!1;if(x===S||B&&k)return b;let W={scrollLeft:0,scrollTop:0},Z=$e(1),ae=$e(0),M=R(x);if((M||!M&&!k)&&((w(x)!=="body"||ve(S))&&(W=kt(x)),R(x))){let e=yt(x);Z=bt(x),ae.x=e.x+x.clientLeft,ae.y=e.y+x.clientTop}let oe=S&&!M&&!k?Ft(S,W):$e(0);return{width:b.width*Z.x,height:b.height*Z.y,x:b.x*Z.x-W.scrollLeft*Z.x+ae.x+oe.x,y:b.y*Z.y-W.scrollTop*Z.y+ae.y+oe.y}}function Ct(a){return Array.from(a.getClientRects())}function Zt(a){let h=P(a),b=kt(a),x=a.ownerDocument.body,L=$(h.scrollWidth,h.clientWidth,x.scrollWidth,x.clientWidth),k=$(h.scrollHeight,h.clientHeight,x.scrollHeight,x.clientHeight),S=-b.scrollLeft+jt(a),B=-b.scrollTop;return st(x).direction==="rtl"&&(S+=$(h.clientWidth,x.clientWidth)-L),{width:L,height:k,x:S,y:B}}var ht=25;function Ot(a,h){let b=j(a),x=P(a),L=b.visualViewport,k=x.clientWidth,S=x.clientHeight,B=0,W=0;if(L){k=L.width,S=L.height;let ae=rt();(!ae||ae&&h==="fixed")&&(B=L.offsetLeft,W=L.offsetTop)}let Z=jt(x);if(Z<=0){let ae=x.ownerDocument,M=ae.body,oe=getComputedStyle(M),e=ae.compatMode==="CSS1Compat"&&parseFloat(oe.marginLeft)+parseFloat(oe.marginRight)||0,t=Math.abs(x.clientWidth-M.clientWidth-e);t<=ht&&(k-=t)}else Z<=ht&&(k+=Z);return{width:k,height:S,x:B,y:W}}var Vt=new Set(["absolute","fixed"]);function zt(a,h){let b=yt(a,!0,h==="fixed"),x=b.top+a.clientTop,L=b.left+a.clientLeft,k=R(a)?bt(a):$e(1),S=a.clientWidth*k.x,B=a.clientHeight*k.y,W=L*k.x,Z=x*k.y;return{width:S,height:B,x:W,y:Z}}function qt(a,h,b){let x;if(h==="viewport")x=Ot(a,b);else if(h==="document")x=Zt(P(a));else if(V(h))x=zt(h,b);else{let L=_t(a);x={x:h.x-L.x,y:h.y-L.y,width:h.width,height:h.height}}return ee(x)}function St(a,h){let b=ot(a);return b===h||!V(b)||dt(b)?!1:st(b).position==="fixed"||St(b,h)}function at(a,h){let b=h.get(a);if(b)return b;let x=Nt(a,[],!1).filter(B=>V(B)&&w(B)!=="body"),L=null,k=st(a).position==="fixed",S=k?ot(a):a;for(;V(S)&&!dt(S);){let B=st(S),W=G(S);!W&&B.position==="fixed"&&(L=null),(k?!W&&!L:!W&&B.position==="static"&&L&&Vt.has(L.position)||ve(S)&&!W&&St(a,S))?x=x.filter(Z=>Z!==S):L=B,S=ot(S)}return h.set(a,x),x}function Wt(a){let{element:h,boundary:b,rootBoundary:x,strategy:L}=a,k=[...b==="clippingAncestors"?Se(h)?[]:at(h,this._c):[].concat(b),x],S=k[0],B=k.reduce((W,Z)=>{let ae=qt(h,Z,L);return W.top=$(ae.top,W.top),W.right=Xe(ae.right,W.right),W.bottom=Xe(ae.bottom,W.bottom),W.left=$(ae.left,W.left),W},qt(h,S,L));return{width:B.right-B.left,height:B.bottom-B.top,x:B.left,y:B.top}}function Kt(a){let{width:h,height:b}=Et(a);return{width:h,height:b}}function Tt(a,h,b){let x=R(h),L=P(h),k=b==="fixed",S=yt(a,!0,k,h),B={scrollLeft:0,scrollTop:0},W=$e(0);function Z(){W.x=jt(L)}if(x||!x&&!k)if((w(h)!=="body"||ve(L))&&(B=kt(h)),x){let e=yt(h,!0,k,h);W.x=e.x+h.clientLeft,W.y=e.y+h.clientTop}else L&&Z();k&&!x&&L&&Z();let ae=L&&!x&&!k?Ft(L,B):$e(0),M=S.left+B.scrollLeft-W.x-ae.x,oe=S.top+B.scrollTop-W.y-ae.y;return{x:M,y:oe,width:S.width,height:S.height}}function pt(a){return st(a).position==="static"}function At(a,h){if(!R(a)||st(a).position==="fixed")return null;if(h)return h(a);let b=a.offsetParent;return P(a)===b&&(b=b.ownerDocument.body),b}function Pt(a,h){let b=j(a);if(Se(a))return b;if(!R(a)){let L=ot(a);for(;L&&!dt(L);){if(V(L)&&!pt(L))return L;L=ot(L)}return b}let x=At(a,h);for(;x&&Ve(x)&&pt(x);)x=At(x,h);return x&&dt(x)&&pt(x)&&!G(x)?b:x||Ie(a)||b}var wt=async function(a){let h=this.getOffsetParent||Pt,b=this.getDimensions,x=await b(a.floating);return{reference:Tt(a.reference,await h(a.floating),a.strategy),floating:{x:0,y:0,width:x.width,height:x.height}}};function Qt(a){return st(a).direction==="rtl"}var en={convertOffsetParentRelativeRectToViewportRelativeRect:Dt,getDocumentElement:P,getClippingRect:Wt,getOffsetParent:Pt,getElementRects:wt,getClientRects:Ct,getDimensions:Kt,getScale:bt,isElement:V,isRTL:Qt},Bt=ke,an=A,tn=D,cn=(a,h,b)=>{let x=new Map,L={platform:en,...b},k={...L.platform,_c:x};return Y(a,h,{...L,platform:k})},hn=Object.hasOwnProperty,Ut=Re(ct(),1),fn=(0,Ut.default)(),Jt=(a,h,b)=>{let x=new URL(a.getAttribute(h),b);a.setAttribute(h,x.pathname+x.hash)};function nn(a,h){a.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(b=>Jt(b,"href",h)),a.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(b=>Jt(b,"src",h))}var rn=/<link rel="canonical" href="([^"]*)">/;async function on(a){let h=new URL(a);h.searchParams.set("_t",Date.now().toString());let b=await fetch(`${h}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!b.headers.get("content-type")?.startsWith("text/html"))return b;let x=await b.clone().text(),[L,k]=x.match(rn)??[];if(k){let S=new URL(k,a);return S.searchParams.set("_t",Date.now().toString()),fetch(`${S}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}})}return b}var sn=new DOMParser,Mt=null;async function gt({clientX:a,clientY:h}){let b=Mt=this;if(b.dataset.noPopover==="true")return;async function x(n){let{x:i,y:r}=await cn(b,n,{strategy:"fixed",middleware:[tn({x:a,y:h}),Bt(),an()]});Object.assign(n.style,{transform:`translate(${i.toFixed()}px, ${r.toFixed()}px)`})}function L(n){if(tt(),n.classList.add("active-popover"),x(n),S!==""){let i=`#popover-internal-${S.slice(1)}`,r=t.querySelector(i);r&&t.scroll({top:r.offsetTop-12,behavior:"instant"})}}let k=new URL(b.href),S=decodeURIComponent(k.hash);k.hash="",k.search="";let B=`popover-${b.pathname}`,W=document.getElementById(B);if(document.getElementById(B)){L(W);return}let Z=await on(k).catch(n=>{console.error(n)});if(!Z)return;let[ae]=Z.headers.get("Content-Type").split(";"),[M,oe]=ae.split("/"),e=document.createElement("div");e.id=B,e.classList.add("popover");let t=document.createElement("div");switch(t.classList.add("popover-inner"),t.dataset.contentType=ae??void 0,e.appendChild(t),M){case"image":let n=document.createElement("img");n.src=k.toString(),n.alt=k.pathname,t.appendChild(n);break;case"application":switch(oe){case"pdf":let s=document.createElement("iframe");s.src=k.toString(),t.appendChild(s);break;default:break}break;default:let i=await Z.text(),r=sn.parseFromString(i,"text/html");nn(r,k),r.querySelectorAll("[id]").forEach(s=>{let l=`popover-internal-${s.id}`;s.id=l});let o=[...r.getElementsByClassName("popover-hint")];if(o.length===0)return;o.forEach(s=>t.appendChild(s))}document.getElementById(B)||(document.body.appendChild(e),Mt===this&&L(e))}function tt(){Mt=null,document.querySelectorAll(".popover").forEach(a=>a.classList.remove("active-popover"))}document.addEventListener("nav",()=>{let a=[...document.querySelectorAll("a.internal")];for(let h of a)h.addEventListener("mouseenter",gt),h.addEventListener("mouseleave",tt),window.addCleanup(()=>{h.removeEventListener("mouseenter",gt),h.removeEventListener("mouseleave",tt)})})})(),(function(){const Ne=document.createElement("script");Ne.src="https://plausible.io/js/script.manual.js",Ne.setAttribute("data-domain",location.hostname),Ne.defer=!0,Ne.onload=()=>{window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},plausible("pageview"),document.addEventListener("nav",()=>{plausible("pageview")})},document.head.appendChild(Ne)})(),(function(){var Ne=Object.create,be=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty,Oe=(w,j)=>()=>(j||w((j={exports:{}}).exports,j),j.exports),Ze=(w,j,P,q)=>{if(j&&typeof j=="object"||typeof j=="function")for(let V of Fe(j))!De.call(w,V)&&V!==P&&be(w,V,{get:()=>j[V],enumerable:!(q=He(j,V))||q.enumerable});return w},Re=(w,j,P)=>(P=w!=null?Ne(Ge(w)):{},Ze(j||!w||!w.__esModule?be(P,"default",{value:w,enumerable:!0}):P,w)),ct=Oe((w,j)=>{"use strict";j.exports=q;function P(R){return R instanceof Buffer?Buffer.from(R):new R.constructor(R.buffer.slice(),R.byteOffset,R.length)}function q(R){if(R=R||{},R.circles)return V(R);let z=new Map;if(z.set(Date,de=>new Date(de)),z.set(Map,(de,Se)=>new Map(ve(Array.from(de),Se))),z.set(Set,(de,Se)=>new Set(ve(Array.from(de),Se))),R.constructorHandlers)for(let de of R.constructorHandlers)z.set(de[0],de[1]);let Ee=null;return R.proto?Ve:je;function ve(de,Se){let ie=Object.keys(de),ce=new Array(ie.length);for(let Be=0;Be<ie.length;Be++){let G=ie[Be],Ie=de[G];typeof Ie!="object"||Ie===null?ce[G]=Ie:Ie.constructor!==Object&&(Ee=z.get(Ie.constructor))?ce[G]=Ee(Ie,Se):ArrayBuffer.isView(Ie)?ce[G]=P(Ie):ce[G]=Se(Ie)}return ce}function je(de){if(typeof de!="object"||de===null)return de;if(Array.isArray(de))return ve(de,je);if(de.constructor!==Object&&(Ee=z.get(de.constructor)))return Ee(de,je);let Se={};for(let ie in de){if(Object.hasOwnProperty.call(de,ie)===!1)continue;let ce=de[ie];typeof ce!="object"||ce===null?Se[ie]=ce:ce.constructor!==Object&&(Ee=z.get(ce.constructor))?Se[ie]=Ee(ce,je):ArrayBuffer.isView(ce)?Se[ie]=P(ce):Se[ie]=je(ce)}return Se}function Ve(de){if(typeof de!="object"||de===null)return de;if(Array.isArray(de))return ve(de,Ve);if(de.constructor!==Object&&(Ee=z.get(de.constructor)))return Ee(de,Ve);let Se={};for(let ie in de){let ce=de[ie];typeof ce!="object"||ce===null?Se[ie]=ce:ce.constructor!==Object&&(Ee=z.get(ce.constructor))?Se[ie]=Ee(ce,Ve):ArrayBuffer.isView(ce)?Se[ie]=P(ce):Se[ie]=Ve(ce)}return Se}}function V(R){let z=[],Ee=[],ve=new Map;if(ve.set(Date,ie=>new Date(ie)),ve.set(Map,(ie,ce)=>new Map(Ve(Array.from(ie),ce))),ve.set(Set,(ie,ce)=>new Set(Ve(Array.from(ie),ce))),R.constructorHandlers)for(let ie of R.constructorHandlers)ve.set(ie[0],ie[1]);let je=null;return R.proto?Se:de;function Ve(ie,ce){let Be=Object.keys(ie),G=new Array(Be.length);for(let Ie=0;Ie<Be.length;Ie++){let rt=Be[Ie],it=ie[rt];if(typeof it!="object"||it===null)G[rt]=it;else if(it.constructor!==Object&&(je=ve.get(it.constructor)))G[rt]=je(it,ce);else if(ArrayBuffer.isView(it))G[rt]=P(it);else{let dt=z.indexOf(it);dt!==-1?G[rt]=Ee[dt]:G[rt]=ce(it)}}return G}function de(ie){if(typeof ie!="object"||ie===null)return ie;if(Array.isArray(ie))return Ve(ie,de);if(ie.constructor!==Object&&(je=ve.get(ie.constructor)))return je(ie,de);let ce={};z.push(ie),Ee.push(ce);for(let Be in ie){if(Object.hasOwnProperty.call(ie,Be)===!1)continue;let G=ie[Be];if(typeof G!="object"||G===null)ce[Be]=G;else if(G.constructor!==Object&&(je=ve.get(G.constructor)))ce[Be]=je(G,de);else if(ArrayBuffer.isView(G))ce[Be]=P(G);else{let Ie=z.indexOf(G);Ie!==-1?ce[Be]=Ee[Ie]:ce[Be]=de(G)}}return z.pop(),Ee.pop(),ce}function Se(ie){if(typeof ie!="object"||ie===null)return ie;if(Array.isArray(ie))return Ve(ie,Se);if(ie.constructor!==Object&&(je=ve.get(ie.constructor)))return je(ie,Se);let ce={};z.push(ie),Ee.push(ce);for(let Be in ie){let G=ie[Be];if(typeof G!="object"||G===null)ce[Be]=G;else if(G.constructor!==Object&&(je=ve.get(G.constructor)))ce[Be]=je(G,Se);else if(ArrayBuffer.isView(G))ce[Be]=P(G);else{let Ie=z.indexOf(G);Ie!==-1?ce[Be]=Ee[Ie]:ce[Be]=Se(G)}}return z.pop(),Ee.pop(),ce}}}),Xe=w=>(j,P)=>j[`node${w}`]===P[`node${w}`],$=Xe("Name"),qe=Xe("Type"),$e=Xe("Value");function Pe(w,j){if(w.attributes.length===0&&j.attributes.length===0)return[];let P=[],q=new Map,V=new Map;for(let R of w.attributes)q.set(R.name,R.value);for(let R of j.attributes){let z=q.get(R.name);R.value===z?q.delete(R.name):(typeof z<"u"&&q.delete(R.name),V.set(R.name,R.value))}for(let R of q.keys())P.push({type:5,name:R});for(let[R,z]of V.entries())P.push({type:4,name:R,value:z});return P}function ze(w,j=!0){let P=`${w.localName}`;for(let{name:q,value:V}of w.attributes)j&&q.startsWith("data-")||(P+=`[${q}=${V}]`);return P+=w.innerHTML,P}function Qe(w){switch(w.tagName){case"BASE":case"TITLE":return w.localName;case"META":{if(w.hasAttribute("name"))return`meta[name="${w.getAttribute("name")}"]`;if(w.hasAttribute("property"))return`meta[name="${w.getAttribute("property")}"]`;break}case"LINK":{if(w.hasAttribute("rel")&&w.hasAttribute("href"))return`link[rel="${w.getAttribute("rel")}"][href="${w.getAttribute("href")}"]`;if(w.hasAttribute("href"))return`link[href="${w.getAttribute("href")}"]`;break}}return ze(w)}function We(w){let[j,P=""]=w.split("?");return`${j}?t=${Date.now()}&${P.replace(/t=\d+/g,"")}`}function Ke(w){if(w.nodeType===1&&w.hasAttribute("data-persist"))return w;if(w.nodeType===1&&w.localName==="script"){let j=document.createElement("script");for(let{name:P,value:q}of w.attributes)P==="src"&&(q=We(q)),j.setAttribute(P,q);return j.innerHTML=w.innerHTML,j}return w.cloneNode(!0)}function lt(w,j){if(w.children.length===0&&j.children.length===0)return[];let P=[],q=new Map,V=new Map,R=new Map;for(let z of w.children)q.set(Qe(z),z);for(let z of j.children){let Ee=Qe(z),ve=q.get(Ee);ve?ze(z,!1)!==ze(ve,!1)&&V.set(Ee,Ke(z)):R.set(Ee,Ke(z)),q.delete(Ee)}for(let z of w.childNodes){if(z.nodeType===1){let Ee=Qe(z);if(q.has(Ee)){P.push({type:1});continue}else if(V.has(Ee)){let ve=V.get(Ee);P.push({type:3,attributes:Pe(z,ve),children:ft(z,ve)});continue}}P.push(void 0)}for(let z of R.values())P.push({type:0,node:Ke(z)});return P}function ft(w,j){let P=[],q=Math.max(w.childNodes.length,j.childNodes.length);for(let V=0;V<q;V++){let R=w.childNodes.item(V),z=j.childNodes.item(V);P[V]=nt(R,z)}return P}function nt(w,j){if(!w)return{type:0,node:Ke(j)};if(!j)return{type:1};if(qe(w,j)){if(w.nodeType===3){let P=w.nodeValue,q=j.nodeValue;if(P.trim().length===0&&q.trim().length===0)return}if(w.nodeType===1){if($(w,j)){let P=w.tagName==="HEAD"?lt:ft;return{type:3,attributes:Pe(w,j),children:P(w,j)}}return{type:2,node:Ke(j)}}else return w.nodeType===9?nt(w.documentElement,j.documentElement):$e(w,j)?void 0:{type:2,value:j.nodeValue}}return{type:2,node:Ke(j)}}function ut(w,j){if(j.length!==0)for(let{type:P,name:q,value:V}of j)P===5?w.removeAttribute(q):P===4&&w.setAttribute(q,V)}async function T(w,j,P){if(!j)return;let q;switch(w.nodeType===9?(w=w.documentElement,q=w):P?q=P:q=w,j.type){case 0:{let{node:V}=j;w.appendChild(V);return}case 1:{if(!q)return;w.removeChild(q);return}case 2:{if(!q)return;let{node:V,value:R}=j;if(typeof R=="string"){q.nodeValue=R;return}q.replaceWith(V);return}case 3:{if(!q)return;let{attributes:V,children:R}=j;ut(q,V);let z=Array.from(q.childNodes);await Promise.all(R.map((Ee,ve)=>T(q,Ee,z[ve])));return}}}function J(w,j){let P=nt(w,j);return T(w,P)}var ge=Object.hasOwnProperty,we=Re(ct(),1),H=(0,we.default)();function E(w){return w.document.body.dataset.slug}var p=(w,j,P)=>{let q=new URL(w.getAttribute(j),P);w.setAttribute(j,q.pathname+q.hash)};function O(w,j){w.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(P=>p(P,"href",j)),w.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(P=>p(P,"src",j))}var le=/<link rel="canonical" href="([^"]*)">/;async function F(w){let j=new URL(w);j.searchParams.set("_t",Date.now().toString());let P=await fetch(`${j}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!P.headers.get("content-type")?.startsWith("text/html"))return P;let q=await P.clone().text(),[V,R]=q.match(le)??[];if(R){let z=new URL(R,w);return z.searchParams.set("_t",Date.now().toString()),fetch(`${z}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}})}return P}var te=1,X=document.createElement("route-announcer"),ne=w=>w?.nodeType===te,fe=w=>{try{let j=new URL(w);if(window.location.origin===j.origin)return!0}catch{}return!1},ee=w=>{let j=w.origin===window.location.origin,P=w.pathname===window.location.pathname;return j&&P},Te=({target:w})=>{if(!ne(w)||w.attributes.getNamedItem("target")?.value==="_blank")return;let j=w.closest("a");if(!j||"routerIgnore"in j.dataset)return;let{href:P}=j;if(fe(P))return{url:new URL(P),scroll:"routerNoscroll"in j.dataset?!1:void 0}};function Y(w){let j=new CustomEvent("nav",{detail:{url:w}});document.dispatchEvent(j)}var re=new Set;window.addCleanup=w=>re.add(w);function A(){let w=document.createElement("div");w.className="navigation-progress",w.style.width="0",document.body.contains(w)||document.body.appendChild(w),setTimeout(()=>{w.style.width="80%"},100)}var I=!1,me;async function D(w,j=!1){I=!0,A(),me=me||new DOMParser;let P=await F(w).then(z=>{if(z.headers.get("content-type")?.startsWith("text/html"))return z.text();window.location.assign(w)}).catch(()=>{window.location.assign(w)});if(!P)return;let q=new CustomEvent("prenav",{detail:{}});document.dispatchEvent(q),re.forEach(z=>z()),re.clear();let V=me.parseFromString(P,"text/html");O(V,w);let R=V.querySelector("title")?.textContent;if(R)document.title=R;else{let z=document.querySelector("h1");R=z?.innerText??z?.textContent??w.pathname}X.textContent!==R&&(X.textContent=R),X.dataset.persist="",V.body.appendChild(X),J(document.body,V.body),j||(w.hash?document.getElementById(decodeURIComponent(w.hash.substring(1)))?.scrollIntoView():window.scrollTo({top:0})),document.head.querySelectorAll(":not([spa-preserve])").forEach(z=>z.remove()),V.head.querySelectorAll(":not([spa-preserve])").forEach(z=>document.head.appendChild(z)),j||history.pushState({},"",w),Y(E(window)),delete X.dataset.persist}async function ke(w,j=!1){if(!I){I=!0;try{await D(w,j)}catch(P){console.error(P),window.location.assign(w)}finally{I=!1}}}window.spaNavigate=ke;function Ue(){return typeof window<"u"&&(window.addEventListener("click",async w=>{let{url:j}=Te(w)??{};if(!(!j||w.ctrlKey||w.metaKey)){if(w.preventDefault(),ee(j)&&j.hash){document.getElementById(decodeURIComponent(j.hash.substring(1)))?.scrollIntoView(),history.pushState({},"",j);return}ke(j,!1)}}),window.addEventListener("popstate",w=>{let{url:j}=Te(w)??{};window.location.hash&&window.location.pathname===j?.pathname||ke(new URL(window.location.toString()),!0)})),new class{go(w){let j=new URL(w,window.location.toString());return ke(j,!1)}back(){return window.history.back()}forward(){return window.history.forward()}}}if(Ue(),Y(E(window)),!customElements.get("route-announcer")){let w={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[j,P]of Object.entries(w))this.setAttribute(j,P)}})}})();
