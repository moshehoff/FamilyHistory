(function(){var Me='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',xe='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>';document.addEventListener("nav",()=>{let Ve=document.getElementsByTagName("pre");for(let We=0;We<Ve.length;We++){let Pe=Ve[We].getElementsByTagName("code")[0];if(Pe){let Ne=function(){navigator.clipboard.writeText(ct).then(()=>{Ke.blur(),Ke.innerHTML=xe,setTimeout(()=>{Ke.innerHTML=Me,Ke.style.borderColor=""},2e3)},Ze=>console.error(Ze))};var ze=Ne;let ct=(Pe.dataset.clipboard?JSON.parse(Pe.dataset.clipboard):Pe.innerText).replace(/\n\n/g,`
`),Ke=document.createElement("button");Ke.className="clipboard-button",Ke.type="button",Ke.innerHTML=Me,Ke.ariaLabel="Copy source",Ke.addEventListener("click",Ne),window.addCleanup(()=>Ke.removeEventListener("click",Ne)),Ve[We].prepend(Ke)}}})})(),(function(){const Me=document.querySelector(".navbar-toggle"),xe=document.querySelector(".navbar-menu");Me&&xe&&(Me.addEventListener("click",function(){this.classList.toggle("active"),xe.classList.toggle("active")}),document.addEventListener("click",function(ze){!(Me.contains(ze.target)||xe.contains(ze.target))&&xe.classList.contains("active")&&(Me.classList.remove("active"),xe.classList.remove("active"))}),xe.querySelectorAll("a").forEach(function(ze){ze.addEventListener("click",function(){Me.classList.remove("active"),xe.classList.remove("active")})}))})(),(function(){let Me=[],xe=null,Ve={};function ze(){console.log("[ProfileTabs] initProfileTabs() called"),Me.forEach(function($){$()}),Me=[];const We=document.querySelector(".profile-tabs");if(console.log("[ProfileTabs] profileTabs element:",We),!We){console.log("[ProfileTabs] No profileTabs found, skipping");return}const Pe=We.getAttribute("data-profile-id");let Ne=We.getAttribute("data-base-path")||"";Ne&&!Ne.endsWith("/")&&(Ne=Ne+"/");const ct=document.querySelectorAll(".tab-button"),Ke=document.querySelectorAll(".tab-pane"),Ze=document.getElementById("media-tab-button");let tt=!1;if(console.log("[ProfileTabs] Initializing, profileId:",Pe,"basePath:",Ne),!Pe)return;function H(){fetch(Ne+"static/chapters-index.json").then(function($){return $.ok?$.json():(console.log("[ProfileTabs] No chapters index found"),null)}).then(function($){$&&(xe=$[Pe]||null,xe&&(console.log("[ProfileTabs] Found chapters for profile",Pe,xe),setTimeout(function(){Ue(xe)},200)))}).catch(function($){console.log("[ProfileTabs] Error loading chapters index:",$)})}function _e(){fetch(Ne+"static/media-index.json").then(function($){return $.ok?$.json():(console.log("[ProfileTabs] No media index found"),null)}).then(function($){if(!$)return;const F=$.images[Pe]||[],le=$.documents[Pe]||[];console.log("[ProfileTabs] Found",F.length,"images and",le.length,"documents for profile",Pe),F.length>0||le.length>0?Ze&&(Ze.style.display="block"):Ze&&(Ze.style.display="none")}).catch(function($){console.log("[ProfileTabs] Error checking media content:",$),Ze&&(Ze.style.display="none")})}_e();function $e(){const $=document.querySelector(".profile-tabs"),F=document.querySelector("article");$&&F&&$.parentElement!==F&&(F.appendChild($),console.log("[ProfileTabs] Moved ProfileTabs to article"))}function Se(){const $=document.querySelector(".profile-tabs"),F=document.querySelector('[data-tab-content="biography"]'),le=document.querySelector("article");if(!$||!F||!le){console.log("[ProfileTabs] Cannot find required elements");return}$.parentElement!==le&&(le.appendChild($),console.log("[ProfileTabs] Moved ProfileTabs to article"));const U=Array.from(le.children);let ue=-1;for(let ce=0;ce<U.length;ce++)if(U[ce]===$){ue=ce;break}if(ue>0){const ce=[];for(let L=0;L<ue;L++)ce.push(U[L]);const E=[];let x=!1;console.log("[ProfileTabs] elementsToMove count:",ce.length),ce.forEach(function(L,T){if(console.log("[ProfileTabs] Processing element",T,":",L.tagName,L.textContent?L.textContent.substring(0,50):""),x){x=!1;return}if(L.tagName&&L.tagName.toLowerCase()==="h2"&&L.textContent&&L.textContent.trim()==="Biography"){const B=L.nextElementSibling;if(B&&B.textContent&&B.textContent.includes("chapters will be loaded")){console.log("[ProfileTabs] Removing placeholder Biography heading and text"),x=!0,B.remove(),L.remove();return}else{console.log("[ProfileTabs] Removing Biography heading (keeping content after)"),L.remove();return}}if(L.tagName&&L.tagName.toLowerCase()==="p"&&L.textContent&&L.textContent.includes("chapters will be loaded")){console.log("[ProfileTabs] Removing placeholder paragraph"),L.remove();return}console.log("[ProfileTabs] Keeping element:",L.tagName),E.push(L)});const S=E.filter(function(L){return L.parentElement!==null}),_=[],X=[],Y=[],ee=[];S.forEach(function(L){const T=L.tagName?L.tagName.toLowerCase():"",B=L.className?L.className.toString():"";T==="dl"||T==="div"&&L.querySelector("dl")?_.push(L):T==="h2"&&L.getAttribute("id")&&!L.getAttribute("id").includes("biography")||B.includes("mermaid")||L.querySelector(".mermaid")||L.querySelector("mermaid")||T==="code"&&L.textContent&&L.textContent.includes("graph")?X.push(L):T==="p"||T==="ul"||T==="ol"||T==="blockquote"||T==="div"||T==="pre"?Y.push(L):ee.push(L)});const Ce=_.concat(X).concat(Y).concat(ee),ge=F.querySelector("h2");if(ge&&ge.textContent&&(ge.textContent.trim()==="Biography"||ge.textContent.trim().includes("Biography"))){const L=ge.nextElementSibling;L&&L.textContent&&L.textContent.includes("chapters will be loaded")&&L.remove(),ge.remove()}F.querySelectorAll("p").forEach(function(L){L.textContent&&L.textContent.includes("chapters will be loaded")&&L.remove()});const Le=F.querySelector(".chapter-tabs-container");Array.from(F.children).forEach(function(L){L!==Le&&L.remove()}),Ce.forEach(function(L){Le?F.insertBefore(L,Le):F.appendChild(L)}),console.log("[ProfileTabs] Moved",Ce.length,"elements to Biography tab (sorted)"),setTimeout(function(){window.mermaid&&(F.querySelectorAll(".mermaid, mermaid, code.language-mermaid").forEach(function(T){try{if(!T.hasAttribute("data-processed"))if(T.tagName&&T.tagName.toLowerCase()==="code"){const B=T.textContent;if(B){const de=document.createElement("div");de.className="mermaid",de.textContent=B,T.parentElement.replaceChild(de,T),window.mermaid.init(void 0,de),de.setAttribute("data-processed","true")}}else window.mermaid.init(void 0,T),T.setAttribute("data-processed","true")}catch(B){console.log("[ProfileTabs] Error initializing Mermaid:",B)}}),window.mermaid&&typeof window.mermaid.run=="function"&&window.mermaid.run())},500)}}setTimeout(function(){$e(),Se()},100),H();function Ue($){const F=document.querySelector('[data-tab-content="biography"]');if(!F)return;const le=F.querySelector(".chapter-tabs-container");le&&le.remove();const U=document.createElement("div");U.className="chapter-tabs-container";const ue=document.createElement("h2");ue.className="biography-heading",ue.textContent="Biography",U.appendChild(ue);const ce=document.createElement("div");ce.className="chapter-tabs-header";const E=document.createElement("div");if(E.className="chapter-tabs-content",$.main){const _=document.createElement("button");_.className="chapter-tab-button active",_.setAttribute("data-chapter-tab","introduction"),_.setAttribute("data-chapter-slug",$.main.slug),_.textContent="\u{1F4D6} Introduction",ce.appendChild(_);const X=document.createElement("div");X.className="chapter-tab-pane active",X.setAttribute("data-chapter-tab-content","introduction"),X.setAttribute("data-chapter-slug",$.main.slug),X.innerHTML='<div class="loading-message">Loading chapter...</div>',E.appendChild(X)}$.chapters.forEach(function(_,X){const Y=document.createElement("button");Y.className="chapter-tab-button",Y.setAttribute("data-chapter-tab","chapter-"+(X+1)),Y.setAttribute("data-chapter-slug",_.slug),Y.textContent="\u{1F4C4} "+_.title,ce.appendChild(Y);const ee=document.createElement("div");ee.className="chapter-tab-pane",ee.setAttribute("data-chapter-tab-content","chapter-"+(X+1)),ee.setAttribute("data-chapter-slug",_.slug),ee.innerHTML='<div class="loading-message">Loading chapter...</div>',E.appendChild(ee)}),U.appendChild(ce),U.appendChild(E);const x=Array.from(F.children).filter(function(_){return!_.classList.contains("chapter-tabs-container")});if(x.length>0){const _=x[x.length-1];F.insertBefore(U,_.nextSibling)}else F.appendChild(U);setTimeout(function(){document.querySelectorAll(".chapter-tab-button").forEach(function(_){const X=function(){const Y=_.getAttribute("data-chapter-slug");Y&&He(Y)};_.addEventListener("click",X),Me.push(function(){_.removeEventListener("click",X)})})},50);const S=window.location.hash;if(S&&S.startsWith("#chapter=")){const _=S.substring(9);setTimeout(function(){He(_)},100)}else $.main&&setTimeout(function(){He($.main.slug)},100)}function He($,F){console.log("[ProfileTabs] Switching to chapter:",$,"fromPopstate:",F),document.querySelectorAll(".chapter-tab-button").forEach(function(E){E.classList.remove("active")}),document.querySelectorAll(".chapter-tab-pane").forEach(function(E){E.classList.remove("active")});const le=document.querySelector('.chapter-tab-button[data-chapter-slug="'+$+'"]');le&&le.classList.add("active");const U=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+$+'"]');U&&U.classList.add("active");const ue=document.querySelector('[data-tab="biography"]'),ce=document.querySelector('[data-tab-content="biography"]');if(ue&&ce&&(document.querySelectorAll(".tab-button").forEach(function(E){E.classList.remove("active")}),document.querySelectorAll(".tab-pane").forEach(function(E){E.classList.remove("active")}),ue.classList.add("active"),ce.classList.add("active")),nt($),!F){const E=window.location.pathname+"#chapter="+$;history.pushState({chapter:$,tab:"biography"},"",E)}setTimeout(function(){const E=document.querySelector(".biography-heading");if(E)E.scrollIntoView({behavior:"smooth",block:"start"});else{const x=document.querySelector(".chapter-tabs-container");x&&x.scrollIntoView({behavior:"smooth",block:"start"})}},100)}function nt($){if(Ve[$]){Je($,Ve[$]);return}var F=null;if(xe){if(xe.main&&xe.main.slug===$)F=xe.main.filename;else for(var le=0;le<xe.chapters.length;le++)if(xe.chapters[le].slug===$){F=xe.chapters[le].filename;break}}var U=F||$+".md";const ue=Ne+"static/chapters/"+Pe+"/"+U;console.log("[ProfileTabs] Loading chapter:",ue,"(slug:",$+")"),fetch(ue+"?t="+Date.now()).then(function(ce){if(!ce.ok)throw console.log("[ProfileTabs] Chapter not found:",ue,"status:",ce.status),new Error("Chapter not found: "+ue);return ce.text()}).then(function(ce){const E=ht(ce,xe,Pe);Ve[$]=E,Je($,E)}).catch(function(ce){console.log("[ProfileTabs] Error loading chapter:",ce);const E=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+$+'"]');E&&(E.innerHTML='<div class="empty-message">Error loading chapter: '+ce.message+"</div>")})}function Je($,F){const le=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+$+'"]');if(le){le.innerHTML=F;const U=le.querySelectorAll(".chapter-link");console.log("[ProfileTabs] Found",U.length,"chapter links in",$),U.forEach(function(ue){ue.addEventListener("click",function(ce){ce.preventDefault(),ce.stopPropagation();const E=ue.getAttribute("data-chapter-slug");console.log("[ProfileTabs] Chapter link clicked, target:",E),E&&He(E,!1)})}),setTimeout(function(){window.mermaid&&le.querySelectorAll(".mermaid, mermaid, code.language-mermaid").forEach(function(ce){try{if(!ce.hasAttribute("data-processed"))if(ce.tagName&&ce.tagName.toLowerCase()==="code"){const E=ce.textContent;if(E){const x=document.createElement("div");x.className="mermaid",x.textContent=E,ce.parentElement.replaceChild(x,ce),window.mermaid.init(void 0,x),x.setAttribute("data-processed","true")}}else window.mermaid.init(void 0,ce),ce.setAttribute("data-processed","true")}catch(E){console.log("[ProfileTabs] Error initializing Mermaid:",E)}})},100)}}function ht($,F,le){var U=$,ue="`",ce=ue+ue+ue+"(\\w+)?\\s*([\\s\\S]*?)"+ue+ue+ue,E=new RegExp(ce,"g");U=U.replace(E,function(B,de,I){I=I.replace(/^\n+|\n+$/g,""),I=I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var we=de?' class="language-'+de+'"':"";return"<pre><code"+we+">"+I+"</code></pre>"}),U=U.replace(/!\[\[([^\]]+)\]\]/g,function(B,de){var I=de.split("/").pop(),we=I.replace(/[ _]/g,"-"),Fe="/"+we,p="/"+encodeURIComponent(I),A=I.replace(/"/g,"&quot;");return'<img src="'+Fe+'" alt="'+A+'" onerror="this.src=&quot;'+p+'&quot;">'}),U=U.replace(/\[\[([^\]]+)\]\]/g,function(B,de){var I=de.split("|"),we=I[0].trim(),Fe=I.length>1?I[1].trim():we,p=null;if(F){var A=we.toLowerCase().replace(/_/g,"-");if(F.main&&(F.main.slug===A||F.main.name.toLowerCase()===A||F.main.filename.toLowerCase().replace(".md","")===A))p=F.main.slug;else for(var P=0;P<F.chapters.length;P++){var W=F.chapters[P],te=W.name.toLowerCase().replace(/_/g,"-"),K=W.filename.toLowerCase().replace(".md","").replace(/_/g,"-");if(W.slug===A||te===A||K===A||W.title.toLowerCase()===A){p=W.slug;break}var J=A.replace(/^\d+-/,""),Ee=te.replace(/^\d+-/,""),Oe=K.replace(/^\d+-/,"");if(J===Ee||J===Oe){p=W.slug;break}}p||(p=A)}else p=we.replace(/_/g,"-").toLowerCase();return'<a href="javascript:void(0)" class="chapter-link" data-chapter-slug="'+p+'">'+Fe+"</a>"}),U=U.replace(/^### (.*$)/gim,"<h3>$1</h3>"),U=U.replace(/^## (.*$)/gim,"<h2>$1</h2>"),U=U.replace(/^# (.*$)/gim,"<h1>$1</h1>"),U=U.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),U=U.replace(/\*(.*?)\*/g,"<em>$1</em>"),U=U.replace(/_(.*?)_/g,"<em>$1</em>");for(var x=U.split(`
`),S=!1,_="",X=[],Y=0;Y<x.length;Y++){var ee=x[Y],Ce=ee.match(/^(\d+)\.\s+(.*)$/);Ce?(S||(S=!0,_="<ol>"),_+="<li>"+Ce[2]+"</li>"):(S&&(_+="</ol>",X.push(_),_="",S=!1),X.push(ee))}S&&(_+="</ol>",X.push(_)),U=X.join(`
`),U=U.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),U=U.replace(/  \n/g,`<br>
`);var ge=[],ye=0,Le="___HTML_BLOCK_PLACEHOLDER___",re=new RegExp("<((div|blockquote|pre|ul|ol|table)[^>]*)>([sS]*?)</(div|blockquote|pre|ul|ol|table)>","gi");U=U.replace(re,function(B,de,I,we,Fe){var p=Le+ye+"___";return ge[ye]=B,ye++,p});var L=U.split(/\n\n/);U=L.map(function(B){if(B=B.trim(),!B)return"";var de=B.match(new RegExp(Le+"(d+)___"));if(de){var I=parseInt(de[1]);return ge[I]}return B.match(/^<(div|blockquote|pre|ul|ol|table|h[1-6]|hr)/i)||B.match(/^<\//)||B.match(/^<[^>]+>.*<\/[^>]+>$/)?B:B&&!B.match(/^<[h|d|u|o|l]/)?"<p>"+B+"</p>":B}).join(`
`);var T=/`([^`]+)`/g;return U=U.replace(T,"<code>$1</code>"),U}function ut($){console.log("[ProfileTabs] Loading media for profile:",$);const F=document.querySelector('[data-tab-content="media"]'),le=F?F.querySelector("#media-content"):document.getElementById("media-content");if(!le){console.log("[ProfileTabs] media-content not found");return}const U=document.querySelector(".profile-tabs");let ue=U&&U.getAttribute("data-base-path")||"";ue&&!ue.endsWith("/")&&(ue=ue+"/");const ce=ue+"static/documents/"+$+"/";fetch(ue+"static/media-index.json").then(function(E){if(!E.ok)throw new Error("No media index");return E.json()}).then(function(E){const x=E.images[$]||[],S=E.documents[$]||[];if(console.log("[ProfileTabs] Found",x.length,"images and",S.length,"documents"),x.length===0&&S.length===0){le.innerHTML='<div class="empty-message">No images or documents available</div>';return}if(le.innerHTML="",x.length>0){const _=document.createElement("div");_.className="media-section",_.innerHTML='<h3>Images</h3><div class="gallery-grid"></div>',le.appendChild(_);const X=_.querySelector(".gallery-grid");x.forEach(function(Y){const ee=document.createElement("div");ee.className="gallery-item",ee.innerHTML='<img src="'+ce+Y.filename+'" alt="'+(Y.caption||"")+'">'+(Y.caption?'<div class="image-caption">'+Y.caption+"</div>":""),ee.addEventListener("click",function(){window.open(ce+Y.filename,"_blank")}),X.appendChild(ee)})}if(S.length>0){const _=document.createElement("div");_.className="media-section",_.innerHTML='<h3>Documents</h3><div class="documents-list"></div>',le.appendChild(_);const X=_.querySelector(".documents-list");S.forEach(function(Y){const ee=document.createElement("div");ee.className="document-item";const Ce=rt(Y.filename);ee.innerHTML='<div class="document-icon">'+Ce+'</div><div class="document-info"><div class="document-name">'+(Y.title||Y.filename)+'</div><div class="document-meta">'+(Y.description||"")+'</div></div><a href="'+ce+Y.filename+'" download class="document-download">Download</a>',X.appendChild(ee)})}}).catch(function(E){console.log("[ProfileTabs] Media loading error:",E),le.innerHTML='<div class="empty-message">Error loading gallery</div>'})}function rt($){const F=$.split(".").pop().toLowerCase();return{pdf:"\u{1F4D5}",doc:"\u{1F4D8}",docx:"\u{1F4D8}",xls:"\u{1F4CA}",xlsx:"\u{1F4CA}",txt:"\u{1F4C4}",jpg:"\u{1F5BC}\uFE0F",jpeg:"\u{1F5BC}\uFE0F",png:"\u{1F5BC}\uFE0F",gif:"\u{1F5BC}\uFE0F"}[F]||"\u{1F4C4}"}ct.forEach(function($){const F=function(){const le=$.getAttribute("data-tab");console.log("[ProfileTabs] Switching to tab:",le),ct.forEach(function(ue){ue.classList.remove("active")}),Ke.forEach(function(ue){ue.classList.remove("active")}),$.classList.add("active");const U=document.querySelector('[data-tab-content="'+le+'"]');U&&U.classList.add("active"),le==="media"&&!tt&&Pe&&(ut(Pe),tt=!0)};$.addEventListener("click",F),Me.push(function(){$.removeEventListener("click",F)})}),window.addEventListener("popstate",function($){console.log("[ProfileTabs] Popstate event:",$.state,"hash:",window.location.hash);const F=window.location.hash;if(F&&F.startsWith("#chapter=")){const le=F.substring(9);console.log("[ProfileTabs] Restoring chapter from popstate:",le),He(le,!0)}else(!F||F==="#")&&(console.log("[ProfileTabs] No hash, showing introduction"),xe&&xe.main&&He(xe.main.slug,!0))})}ze(),document.addEventListener("nav",function(){ze()})})(),(function(){var Me=Object.create,xe=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyNames,We=Object.getPrototypeOf,Pe=Object.prototype.hasOwnProperty,Ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ct=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ze(t))!Pe.call(e,r)&&r!==n&&xe(e,r,{get:()=>t[r],enumerable:!(i=Ve(t,r))||i.enumerable});return e},Ke=(e,t,n)=>(n=e!=null?Me(We(e)):{},ct(t||!e||!e.__esModule?xe(n,"default",{value:e,enumerable:!0}):n,e)),Ze=Ne(()=>{}),tt=Ne((e,t)=>{"use strict";t.exports=i;function n(o){return o instanceof Buffer?Buffer.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function i(o){if(o=o||{},o.circles)return r(o);let s=new Map;if(s.set(Date,d=>new Date(d)),s.set(Map,(d,C)=>new Map(c(Array.from(d),C))),s.set(Set,(d,C)=>new Set(c(Array.from(d),C))),o.constructorHandlers)for(let d of o.constructorHandlers)s.set(d[0],d[1]);let l=null;return o.proto?g:u;function c(d,C){let f=Object.keys(d),b=new Array(f.length);for(let y=0;y<f.length;y++){let m=f[y],R=d[m];typeof R!="object"||R===null?b[m]=R:R.constructor!==Object&&(l=s.get(R.constructor))?b[m]=l(R,C):ArrayBuffer.isView(R)?b[m]=n(R):b[m]=C(R)}return b}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return c(d,u);if(d.constructor!==Object&&(l=s.get(d.constructor)))return l(d,u);let C={};for(let f in d){if(Object.hasOwnProperty.call(d,f)===!1)continue;let b=d[f];typeof b!="object"||b===null?C[f]=b:b.constructor!==Object&&(l=s.get(b.constructor))?C[f]=l(b,u):ArrayBuffer.isView(b)?C[f]=n(b):C[f]=u(b)}return C}function g(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return c(d,g);if(d.constructor!==Object&&(l=s.get(d.constructor)))return l(d,g);let C={};for(let f in d){let b=d[f];typeof b!="object"||b===null?C[f]=b:b.constructor!==Object&&(l=s.get(b.constructor))?C[f]=l(b,g):ArrayBuffer.isView(b)?C[f]=n(b):C[f]=g(b)}return C}}function r(o){let s=[],l=[],c=new Map;if(c.set(Date,f=>new Date(f)),c.set(Map,(f,b)=>new Map(g(Array.from(f),b))),c.set(Set,(f,b)=>new Set(g(Array.from(f),b))),o.constructorHandlers)for(let f of o.constructorHandlers)c.set(f[0],f[1]);let u=null;return o.proto?C:d;function g(f,b){let y=Object.keys(f),m=new Array(y.length);for(let R=0;R<y.length;R++){let q=y[R],Q=f[q];if(typeof Q!="object"||Q===null)m[q]=Q;else if(Q.constructor!==Object&&(u=c.get(Q.constructor)))m[q]=u(Q,b);else if(ArrayBuffer.isView(Q))m[q]=n(Q);else{let ae=s.indexOf(Q);ae!==-1?m[q]=l[ae]:m[q]=b(Q)}}return m}function d(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return g(f,d);if(f.constructor!==Object&&(u=c.get(f.constructor)))return u(f,d);let b={};s.push(f),l.push(b);for(let y in f){if(Object.hasOwnProperty.call(f,y)===!1)continue;let m=f[y];if(typeof m!="object"||m===null)b[y]=m;else if(m.constructor!==Object&&(u=c.get(m.constructor)))b[y]=u(m,d);else if(ArrayBuffer.isView(m))b[y]=n(m);else{let R=s.indexOf(m);R!==-1?b[y]=l[R]:b[y]=d(m)}}return s.pop(),l.pop(),b}function C(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return g(f,C);if(f.constructor!==Object&&(u=c.get(f.constructor)))return u(f,C);let b={};s.push(f),l.push(b);for(let y in f){let m=f[y];if(typeof m!="object"||m===null)b[y]=m;else if(m.constructor!==Object&&(u=c.get(m.constructor)))b[y]=u(m,C);else if(ArrayBuffer.isView(m))b[y]=n(m);else{let R=s.indexOf(m);R!==-1?b[y]=l[R]:b[y]=C(m)}}return s.pop(),l.pop(),b}}}),H;function _e(e,t,n){let i=typeof n,r=typeof e;if(i!=="undefined"){if(r!=="undefined"){if(n){if(r==="function"&&i===r)return function(l){return e(n(l))};if(t=e.constructor,t===n.constructor){if(t===Array)return n.concat(e);if(t===Map){var o=new Map(n);for(var s of e)o.set(s[0],s[1]);return o}if(t===Set){s=new Set(n);for(o of e.values())s.add(o);return s}}}return e}return n}return r==="undefined"?t:e}function $e(e,t){return typeof e>"u"?t:e}function Se(){return Object.create(null)}function Ue(e){return typeof e=="string"}function He(e){return typeof e=="object"}function nt(e,t){if(Ue(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}var Je=/[^\p{L}\p{N}]+/u,ht=/(\d{3})/g,ut=/(\D)(\d{3})/g,rt=/(\d{3})(\D)/g,$=/[\u0300-\u036f]/g;function F(e={}){if(!this||this.constructor!==F)return new F(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}H=F.prototype,H.assign=function(e){this.normalize=_e(e.normalize,!0,this.normalize);let t=e.include,n=t||e.exclude||e.split,i;if(n||n===""){if(typeof n=="object"&&n.constructor!==RegExp){let r="";i=!t,t||(r+="\\p{Z}"),n.letter&&(r+="\\p{L}"),n.number&&(r+="\\p{N}",i=!!t),n.symbol&&(r+="\\p{S}"),n.punctuation&&(r+="\\p{P}"),n.control&&(r+="\\p{C}"),(n=n.char)&&(r+=typeof n=="object"?n.join(""):n);try{this.split=new RegExp("["+(t?"^":"")+r+"]+","u")}catch{this.split=/\s+/}}else this.split=n,i=n===!1||"a1a".split(n).length<2;this.numeric=_e(e.numeric,i)}else{try{this.split=_e(this.split,Je)}catch{this.split=/\s+/}this.numeric=_e(e.numeric,_e(this.numeric,!0))}if(this.prepare=_e(e.prepare,null,this.prepare),this.finalize=_e(e.finalize,null,this.finalize),n=e.filter,this.filter=typeof n=="function"?n:_e(n&&new Set(n),null,this.filter),this.dedupe=_e(e.dedupe,!0,this.dedupe),this.matcher=_e((n=e.matcher)&&new Map(n),null,this.matcher),this.mapper=_e((n=e.mapper)&&new Map(n),null,this.mapper),this.stemmer=_e((n=e.stemmer)&&new Map(n),null,this.stemmer),this.replacer=_e(e.replacer,null,this.replacer),this.minlength=_e(e.minlength,1,this.minlength),this.maxlength=_e(e.maxlength,1024,this.maxlength),this.rtl=_e(e.rtl,!1,this.rtl),(this.cache=n=_e(e.cache,!0,this.cache))&&(this.F=null,this.L=typeof n=="number"?n:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(let r of this.matcher.keys())this.h+=(this.h?"|":"")+r;if(this.stemmer)for(let r of this.stemmer.keys())this.A+=(this.A?"|":"")+r;return this},H.addStemmer=function(e,t){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(e,t),this.A+=(this.A?"|":"")+e,this.K=null,this.cache&&le(this),this},H.addFilter=function(e){return typeof e=="function"?this.filter=e:(this.filter||(this.filter=new Set),this.filter.add(e)),this.cache&&le(this),this},H.addMapper=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length>1?this.addMatcher(e,t):(this.mapper||(this.mapper=new Map),this.mapper.set(e,t),this.cache&&le(this),this)},H.addMatcher=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length<2&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||(this.matcher=new Map),this.matcher.set(e,t),this.h+=(this.h?"|":"")+e,this.J=null,this.cache&&le(this),this)},H.addReplacer=function(e,t){return typeof e=="string"?this.addMatcher(e,t):(this.replacer||(this.replacer=[]),this.replacer.push(e,t),this.cache&&le(this),this)},H.encode=function(e,t){if(this.cache&&e.length<=this.H)if(this.F){if(this.B.has(e))return this.B.get(e)}else this.F=setTimeout(le,50,this);this.normalize&&(typeof this.normalize=="function"?e=this.normalize(e):e=$?e.normalize("NFKD").replace($,"").toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&e.length>3&&(e=e.replace(ut,"$1 $2").replace(rt,"$1 $2").replace(ht,"$1 "));let n=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),i=[],r=Se(),o,s,l=this.split||this.split===""?e.split(this.split):[e];for(let u=0,g,d;u<l.length;u++)if((g=d=l[u])&&!(g.length<this.minlength||g.length>this.maxlength)){if(t){if(r[g])continue;r[g]=1}else{if(o===g)continue;o=g}if(n)i.push(g);else if(!this.filter||(typeof this.filter=="function"?this.filter(g):!this.filter.has(g))){if(this.cache&&g.length<=this.I)if(this.F){var c=this.D.get(g);if(c||c===""){c&&i.push(c);continue}}else this.F=setTimeout(le,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let C;for(;C!==g&&g.length>2;)C=g,g=g.replace(this.K,f=>this.stemmer.get(f))}if(g&&(this.mapper||this.dedupe&&g.length>1)){c="";for(let C=0,f="",b,y;C<g.length;C++)b=g.charAt(C),b===f&&this.dedupe||((y=this.mapper&&this.mapper.get(b))||y===""?y===f&&this.dedupe||!(f=y)||(c+=y):c+=f=b);g=c}if(this.matcher&&g.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),g=g.replace(this.J,C=>this.matcher.get(C))),g&&this.replacer)for(c=0;g&&c<this.replacer.length;c+=2)g=g.replace(this.replacer[c],this.replacer[c+1]);if(this.cache&&d.length<=this.I&&(this.D.set(d,g),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),g){if(g!==d)if(t){if(r[g])continue;r[g]=1}else{if(s===g)continue;s=g}i.push(g)}}}return this.finalize&&(i=this.finalize(i)||i),this.cache&&e.length<=this.H&&(this.B.set(e,i),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),i};function le(e){e.F=null,e.B.clear(),e.D.clear()}function U(e,t,n){n||(t||typeof e!="object"?typeof t=="object"&&(n=t,t=0):n=e),n&&(e=n.query||e,t=n.limit||t);let i=""+(t||0);n&&(i+=(n.offset||0)+!!n.context+!!n.suggest+(n.resolve!==!1)+(n.resolution||this.resolution)+(n.boost||0)),e=(""+e).toLowerCase(),this.cache||(this.cache=new ue);let r=this.cache.get(e+i);if(!r){let o=n&&n.cache;o&&(n.cache=!1),r=this.search(e,t,n),o&&(n.cache=o),this.cache.set(e+i,r)}return r}function ue(e){this.limit=e&&e!==!0?e:1e3,this.cache=new Map,this.h=""}ue.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},ue.prototype.get=function(e){let t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t},ue.prototype.remove=function(e){for(let t of this.cache){let n=t[0];t[1].includes(e)&&this.cache.delete(n)}},ue.prototype.clear=function(){this.cache.clear(),this.h=""};var ce={normalize:!1,numeric:!1,dedupe:!1},E={},x=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),S=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),_=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],X={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,\u00DF:2,d:3,t:3,l:4,m:5,n:5,r:6},Y={Exact:ce,Default:E,Normalize:E,LatinBalance:{mapper:x},LatinAdvanced:{mapper:x,matcher:S,replacer:_},LatinExtra:{mapper:x,replacer:_.concat([/(?!^)[aeo]/g,""]),matcher:S},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let n=0;n<e.length;n++){var t=e[n];let i=t.charAt(0),r=X[i];for(let o=1,s;o<t.length&&(s=t.charAt(o),s==="h"||s==="w"||!(s=X[s])||s===r||(i+=s,r=s,i.length!==4));o++);e[n]=i}}},CJK:{split:""},LatinExact:ce,LatinDefault:E,LatinSimple:E};function ee(e,t,n,i){let r=[];for(let o=0,s;o<e.index.length;o++)if(s=e.index[o],t>=s.length)t-=s.length;else{t=s[i?"splice":"slice"](t,n);let l=t.length;if(l&&(r=r.length?r.concat(t):t,n-=l,i&&(e.length-=l),!n))break;t=0}return r}function Ce(e){if(!this||this.constructor!==Ce)return new Ce(e);this.index=e?[e]:[],this.length=e?e.length:0;let t=this;return new Proxy([],{get(n,i){if(i==="length")return t.length;if(i==="push")return function(r){t.index[t.index.length-1].push(r),t.length++};if(i==="pop")return function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()};if(i==="indexOf")return function(r){let o=0;for(let s=0,l,c;s<t.index.length;s++){if(l=t.index[s],c=l.indexOf(r),c>=0)return o+c;o+=l.length}return-1};if(i==="includes")return function(r){for(let o=0;o<t.index.length;o++)if(t.index[o].includes(r))return!0;return!1};if(i==="slice")return function(r,o){return ee(t,r||0,o||t.length,!1)};if(i==="splice")return function(r,o){return ee(t,r||0,o||t.length,!0)};if(i==="constructor")return Array;if(typeof i!="symbol")return(n=t.index[i/2**31|0])&&n[i]},set(n,i,r){return n=i/2**31|0,(t.index[n]||(t.index[n]=[]))[i]=r,t.length++,!0}})}Ce.prototype.clear=function(){this.index.length=0},Ce.prototype.push=function(){};function ge(e=8){if(!this||this.constructor!==ge)return new ge(e);this.index=Se(),this.h=[],this.size=0,e>32?(this.B=re,this.A=BigInt(e)):(this.B=Le,this.A=e)}ge.prototype.get=function(e){let t=this.index[this.B(e)];return t&&t.get(e)},ge.prototype.set=function(e,t){var n=this.B(e);let i=this.index[n];i?(n=i.size,i.set(e,t),(n-=i.size)&&this.size++):(this.index[n]=i=new Map([[e,t]]),this.h.push(i),this.size++)};function ye(e=8){if(!this||this.constructor!==ye)return new ye(e);this.index=Se(),this.h=[],this.size=0,e>32?(this.B=re,this.A=BigInt(e)):(this.B=Le,this.A=e)}ye.prototype.add=function(e){var t=this.B(e);let n=this.index[t];n?(t=n.size,n.add(e),(t-=n.size)&&this.size++):(this.index[t]=n=new Set([e]),this.h.push(n),this.size++)},H=ge.prototype,H.has=ye.prototype.has=function(e){let t=this.index[this.B(e)];return t&&t.has(e)},H.delete=ye.prototype.delete=function(e){let t=this.index[this.B(e)];t&&t.delete(e)&&this.size--},H.clear=ye.prototype.clear=function(){this.index=Se(),this.h=[],this.size=0},H.values=ye.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t},H.keys=ye.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t},H.entries=ye.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t};function Le(e){let t=2**this.A-1;if(typeof e=="number")return e&t;let n=0,i=this.A+1;for(let r=0;r<e.length;r++)n=(n*i^e.charCodeAt(r))&t;return this.A===32?n+2**31:n}function re(e){let t=BigInt(2)**this.A-BigInt(1);var n=typeof e;if(n==="bigint")return e&t;if(n==="number")return BigInt(e)&t;n=BigInt(0);let i=this.A+BigInt(1);for(let r=0;r<e.length;r++)n=(n*i^BigInt(e.charCodeAt(r)))&t;return n}var L,T;async function B(e){e=e.data;var t=e.task;let n=e.id,i=e.args;switch(t){case"init":T=e.options||{},(t=e.factory)?(Function("return "+t)()(self),L=new self.FlexSearch.Index(T),delete self.FlexSearch):L=new at(T),postMessage({id:n});break;default:let r;t==="export"&&(i[1]?(i[0]=T.export,i[2]=0,i[3]=1):i=null),t==="import"?i[0]&&(e=await T.import.call(L,i[0]),L.import(i[0],e)):((r=i&&L[t].apply(L,i))&&r.then&&(r=await r),r&&r.await&&(r=await r.await),t==="search"&&r.result&&(r=r.result)),postMessage(t==="search"?{id:n,msg:r}:{id:n})}}function de(e){A.call(e,"add"),A.call(e,"append"),A.call(e,"search"),A.call(e,"update"),A.call(e,"remove"),A.call(e,"searchCache")}var I,we,Fe;function p(){I=Fe=0}function A(e){this[e+"Async"]=function(){let t=arguments;var n=t[t.length-1];let i;if(typeof n=="function"&&(i=n,delete t[t.length-1]),I?Fe||(Fe=Date.now()-we>=this.priority*this.priority*3):(I=setTimeout(p,0),we=Date.now()),Fe){let o=this;return new Promise(s=>{setTimeout(function(){s(o[e+"Async"].apply(o,t))},0)})}let r=this[e].apply(this,t);return n=r.then?r:new Promise(o=>o(r)),i&&n.then(i),n}}var P=0;function W(e={},t){function n(l){function c(u){u=u.data||u;let g=u.id,d=g&&o.h[g];d&&(d(u.msg),delete o.h[g])}if(this.worker=l,this.h=Se(),this.worker)return r?this.worker.on("message",c):this.worker.onmessage=c,e.config?new Promise(function(u){P>1e9&&(P=0),o.h[++P]=function(){u(o)},o.worker.postMessage({id:P,task:"init",factory:i,options:e})}):(this.priority=e.priority||4,this.encoder=t||null,this.worker.postMessage({task:"init",factory:i,options:e}),this)}if(!this||this.constructor!==W)return new W(e);let i=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;i&&(i=i.toString());let r=typeof window>"u",o=this,s=K(i,r,e.worker);return s.then?s.then(function(l){return n.call(o,l)}):n.call(this,s)}te("add"),te("append"),te("search"),te("update"),te("remove"),te("clear"),te("export"),te("import"),W.prototype.searchCache=U,de(W.prototype);function te(e){W.prototype[e]=function(){let t=this,n=[].slice.call(arguments);var i=n[n.length-1];let r;return typeof i=="function"&&(r=i,n.pop()),i=new Promise(function(o){e==="export"&&typeof n[0]=="function"&&(n[0]=null),P>1e9&&(P=0),t.h[++P]=o,t.worker.postMessage({task:e,id:P,args:n})}),r?(i.then(r),this):i}}function K(e,t,n){return t?typeof module<"u"?new(Ze()).Worker(__dirname+"/worker/node.js"):Promise.resolve().then(()=>Ke(Ze())).then(function(i){return new i.Worker(import.meta.dirname+"/node/node.mjs")}):e?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+B.toString()],{type:"text/javascript"}))):new window.Worker(typeof n=="string"?n:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"})}mt.prototype.add=function(e,t,n){if(He(e)&&(t=e,e=nt(t,this.key)),t&&(e||e===0)){if(!n&&this.reg.has(e))return this.update(e,t);for(let l=0,c;l<this.field.length;l++){c=this.B[l];var i=this.index.get(this.field[l]);if(typeof c=="function"){var r=c(t);r&&i.add(e,r,n,!0)}else r=c.G,(!r||r(t))&&(c.constructor===String?c=[""+c]:Ue(c)&&(c=[c]),Ee(t,c,this.D,0,i,e,c[0],n))}if(this.tag)for(i=0;i<this.A.length;i++){var o=this.A[i];r=this.tag.get(this.F[i]);let l=Se();if(typeof o=="function"){if(o=o(t),!o)continue}else{var s=o.G;if(s&&!s(t))continue;o.constructor===String&&(o=""+o),o=nt(t,o)}if(r&&o){Ue(o)&&(o=[o]);for(let c=0,u,g;c<o.length;c++)if(u=o[c],!l[u]&&(l[u]=1,(s=r.get(u))?g=s:r.set(u,g=[]),!n||!g.includes(e))){if(g.length===2**31-1){if(s=new Ce(g),this.fastupdate)for(let d of this.reg.values())d.includes(g)&&(d[d.indexOf(g)]=s);r.set(u,g=s)}g.push(e),this.fastupdate&&((s=this.reg.get(e))?s.push(g):this.reg.set(e,[g]))}}}if(this.store&&(!n||!this.store.has(e))){let l;if(this.h){l=Se();for(let c=0,u;c<this.h.length;c++){if(u=this.h[c],(n=u.G)&&!n(t))continue;let g;if(typeof u=="function"){if(g=u(t),!g)continue;u=[u.O]}else if(Ue(u)||u.constructor===String){l[u]=t[u];continue}J(t,l,u,0,u[0],g)}}this.store.set(e,l||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this};function J(e,t,n,i,r,o){if(e=e[r],i===n.length-1)t[r]=o||e;else if(e)if(e.constructor===Array)for(t=t[r]=Array(e.length),r=0;r<e.length;r++)J(e,t,n,i,r);else t=t[r]||(t[r]=Se()),r=n[++i],J(e,t,n,i,r)}function Ee(e,t,n,i,r,o,s,l){if(e=e[s])if(i===t.length-1){if(e.constructor===Array){if(n[i]){for(t=0;t<e.length;t++)r.add(o,e[t],!0,!0);return}e=e.join(" ")}r.add(o,e,l,!0)}else if(e.constructor===Array)for(s=0;s<e.length;s++)Ee(e,t,n,i,r,o,s,l);else s=t[++i],Ee(e,t,n,i,r,o,s,l)}function Oe(e,t,n,i){if(!e.length)return e;if(e.length===1)return e=e[0],e=n||e.length>t?e.slice(n,n+t):e,i?st.call(this,e):e;let r=[];for(let o=0,s,l;o<e.length;o++)if((s=e[o])&&(l=s.length)){if(n){if(n>=l){n-=l;continue}s=s.slice(n,n+t),l=s.length,n=0}if(l>t&&(s=s.slice(0,t),l=t),!r.length&&l>=t)return i?st.call(this,s):s;if(r.push(s),t-=l,!t)break}return r=r.length>1?[].concat.apply([],r):r[0],i?st.call(this,r):r}function De(e,t,n,i){var r=i[0];if(r[0]&&r[0].query)return e[t].apply(e,r);if(!(t!=="and"&&t!=="not"||e.result.length||e.await||r.suggest))return i.length>1&&(r=i[i.length-1]),(i=r.resolve)?e.await||e.result:e;let o=[],s=0,l=0,c,u,g,d,C;for(t=0;t<i.length;t++)if(r=i[t]){var f=void 0;if(r.constructor===Z)f=r.await||r.result;else if(r.then||r.constructor===Array)f=r;else{s=r.limit||0,l=r.offset||0,g=r.suggest,u=r.resolve,c=((d=r.highlight||e.highlight)||r.enrich)&&u,f=r.queue;let b=r.async||f,y=r.index,m=r.query;if(y?e.index||(e.index=y):y=e.index,m||r.tag){let R=r.field||r.pluck;if(R&&(!m||e.query&&!d||(e.query=m,e.field=R,e.highlight=d),y=y.index.get(R)),f&&(C||e.await)){C=1;let q,Q=e.C.length,ae=new Promise(function(ke){q=ke});(function(ke,pe){ae.h=function(){pe.index=null,pe.resolve=!1;let ve=b?ke.searchAsync(pe):ke.search(pe);return ve.then?ve.then(function(ie){return e.C[Q]=ie=ie.result||ie,q(ie),ie}):(ve=ve.result||ve,q(ve),ve)}})(y,Object.assign({},r)),e.C.push(ae),o[t]=ae;continue}else r.resolve=!1,r.index=null,f=b?y.searchAsync(r):y.search(r),r.resolve=u,r.index=y}else if(r.and)f=Qe(r,"and",y);else if(r.or)f=Qe(r,"or",y);else if(r.not)f=Qe(r,"not",y);else if(r.xor)f=Qe(r,"xor",y);else continue}f.await?(C=1,f=f.await):f.then?(C=1,f=f.then(function(b){return b.result||b})):f=f.result||f,o[t]=f}if(C&&!e.await&&(e.await=new Promise(function(b){e.return=b})),C){let b=Promise.all(o).then(function(y){for(let m=0;m<e.C.length;m++)if(e.C[m]===b){e.C[m]=function(){return n.call(e,y,s,l,c,u,g,d)};break}Ie(e)});e.C.push(b)}else if(e.await)e.C.push(function(){return n.call(e,o,s,l,c,u,g,d)});else return n.call(e,o,s,l,c,u,g,d);return u?e.await||e.result:e}function Qe(e,t,n){e=e[t];let i=e[0]||e;return i.index||(i.index=n),n=new Z(i),e.length>1&&(n=n[t].apply(n,e.slice(1))),n}Z.prototype.or=function(){return De(this,"or",be,arguments)};function be(e,t,n,i,r,o,s){return e.length&&(this.result.length&&e.push(this.result),e.length<2?this.result=e[0]:(this.result=ot(e,t,n,!1,this.h),n=0)),r&&(this.await=null),r?this.resolve(t,n,i,s):this}Z.prototype.and=function(){return De(this,"and",Te,arguments)};function Te(e,t,n,i,r,o,s){if(!o&&!this.result.length)return r?this.result:this;let l;if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{let c=0;for(let u=0,g,d;u<e.length;u++)if((g=e[u])&&(d=g.length))c<d&&(c=d);else if(!o){c=0;break}c?(this.result=it(e,c,t,n,o,this.h,r),l=!0):this.result=[]}else o||(this.result=e);return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}Z.prototype.xor=function(){return De(this,"xor",se,arguments)};function se(e,t,n,i,r,o,s){if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{e:{o=n;var l=this.h;let c=[],u=Se(),g=0;for(let d=0,C;d<e.length;d++)if(C=e[d]){g<C.length&&(g=C.length);for(let f=0,b;f<C.length;f++)if(b=C[f])for(let y=0,m;y<b.length;y++)m=b[y],u[m]=u[m]?2:1}for(let d=0,C,f=0;d<g;d++)for(let b=0,y;b<e.length;b++)if((y=e[b])&&(C=y[d])){for(let m=0,R;m<C.length;m++)if(R=C[m],u[R]===1)if(o)o--;else if(r){if(c.push(R),c.length===t){e=c;break e}}else{let q=d+(b?l:0);if(c[q]||(c[q]=[]),c[q].push(R),++f===t){e=c;break e}}}e=c}this.result=e,l=!0}else o||(this.result=e);return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}Z.prototype.not=function(){return De(this,"not",he,arguments)};function he(e,t,n,i,r,o,s){if(!o&&!this.result.length)return r?this.result:this;if(e.length&&this.result.length){e:{o=n;var l=[];e=new Set(e.flat().flat());for(let c=0,u,g=0;c<this.result.length;c++)if(u=this.result[c]){for(let d=0,C;d<u.length;d++)if(C=u[d],!e.has(C)){if(o)o--;else if(r){if(l.push(C),l.length===t){e=l;break e}}else if(l[c]||(l[c]=[]),l[c].push(C),++g===t){e=l;break e}}}e=l}this.result=e,l=!0}return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}function qe(e,t,n,i,r){let o,s,l;typeof r=="string"?(o=r,r=""):o=r.template,s=o.indexOf("$1"),l=o.substring(s+2),s=o.substring(0,s);let c=r&&r.boundary,u=!r||r.clip!==!1,g=r&&r.merge&&l&&s&&new RegExp(l+" "+s,"g");r=r&&r.ellipsis;var d=0;if(typeof r=="object"){var C=r.template;d=C.length-2,r=r.pattern}typeof r!="string"&&(r=r===!1?"":"..."),d&&(r=C.replace("$1",r)),C=r.length-d;let f,b;typeof c=="object"&&(f=c.before,f===0&&(f=-1),b=c.after,b===0&&(b=-1),c=c.total||9e5),d=new Map;for(let vt=0,Xe,Gt,_t;vt<t.length;vt++){let It;if(i)It=t,_t=i;else{var y=t[vt];if(_t=y.field,!_t)continue;It=y.result}Gt=n.get(_t),Xe=Gt.encoder,y=d.get(Xe),typeof y!="string"&&(y=Xe.encode(e),d.set(Xe,y));for(let Xt=0;Xt<It.length;Xt++){var m=It[Xt].doc;if(!m||(m=nt(m,_t),!m))continue;var R=m.trim().split(/\s+/);if(!R.length)continue;m="";var q=[];let Yt=[];for(var Q=-1,ae=-1,ke=0,pe=0;pe<R.length;pe++){var ve=R[pe],ie=Xe.encode(ve);ie=ie.length>1?ie.join(" "):ie[0];let fe;if(ie&&ve){for(var Ae=ve.length,z=(Xe.split?ve.replace(Xe.split,""):ve).length-ie.length,V="",me=0,Re=0;Re<y.length;Re++){var Be=y[Re];if(Be){var je=Be.length;je+=z,me&&je<=me||(Be=ie.indexOf(Be),Be>-1&&(V=(Be?ve.substring(0,Be):"")+s+ve.substring(Be,Be+je)+l+(Be+je<Ae?ve.substring(Be+je):""),me=je,fe=!0))}}V&&(c&&(Q<0&&(Q=m.length+(m?1:0)),ae=m.length+(m?1:0)+V.length,ke+=Ae,Yt.push(q.length),q.push({match:V})),m+=(m?" ":"")+V)}if(!fe)ve=R[pe],m+=(m?" ":"")+ve,c&&q.push({text:ve});else if(c&&ke>=c)break}if(ke=Yt.length*(o.length-2),f||b||c&&m.length-ke>c)if(ke=c+ke-C*2,pe=ae-Q,f>0&&(pe+=f),b>0&&(pe+=b),pe<=ke)R=f?Q-(f>0?f:0):Q-((ke-pe)/2|0),q=b?ae+(b>0?b:0):R+ke,u||(R>0&&m.charAt(R)!==" "&&m.charAt(R-1)!==" "&&(R=m.indexOf(" ",R),R<0&&(R=0)),q<m.length&&m.charAt(q-1)!==" "&&m.charAt(q)!==" "&&(q=m.lastIndexOf(" ",q),q<ae?q=ae:++q)),m=(R?r:"")+m.substring(R,q)+(q<m.length?r:"");else{for(ae=[],Q={},ke={},pe={},ve={},ie={},V=z=Ae=0,Re=me=1;;){var Ye=void 0;for(let fe=0,Ge;fe<Yt.length;fe++){if(Ge=Yt[fe],V)if(z!==V){if(pe[fe+1])continue;if(Ge+=V,Q[Ge]){Ae-=C,ke[fe+1]=1,pe[fe+1]=1;continue}if(Ge>=q.length-1){if(Ge>=q.length){pe[fe+1]=1,Ge>=R.length&&(ke[fe+1]=1);continue}Ae-=C}if(m=q[Ge].text,je=b&&ie[fe])if(je>0){if(m.length>je)if(pe[fe+1]=1,u)m=m.substring(0,je);else continue;(je-=m.length)||(je=-1),ie[fe]=je}else{pe[fe+1]=1;continue}if(Ae+m.length+1<=c)m=" "+m,ae[fe]+=m;else if(u)Ye=c-Ae-1,Ye>0&&(m=" "+m.substring(0,Ye),ae[fe]+=m),pe[fe+1]=1;else{pe[fe+1]=1;continue}}else{if(pe[fe])continue;if(Ge-=z,Q[Ge]){Ae-=C,pe[fe]=1,ke[fe]=1;continue}if(Ge<=0){if(Ge<0){pe[fe]=1,ke[fe]=1;continue}Ae-=C}if(m=q[Ge].text,je=f&&ve[fe])if(je>0){if(m.length>je)if(pe[fe]=1,u)m=m.substring(m.length-je);else continue;(je-=m.length)||(je=-1),ve[fe]=je}else{pe[fe]=1;continue}if(Ae+m.length+1<=c)m+=" ",ae[fe]=m+ae[fe];else if(u)Ye=m.length+1-(c-Ae),Ye>=0&&Ye<m.length&&(m=m.substring(Ye)+" ",ae[fe]=m+ae[fe]),pe[fe]=1;else{pe[fe]=1;continue}}else{m=q[Ge].match,f&&(ve[fe]=f),b&&(ie[fe]=b),fe&&Ae++;let un;if(Ge?!fe&&C&&(Ae+=C):(ke[fe]=1,pe[fe]=1),Ge>=R.length-1||Ge<q.length-1&&q[Ge+1].match?un=1:C&&(Ae+=C),Ae-=o.length-2,!fe||Ae+m.length<=c)ae[fe]=m;else{Ye=me=Re=ke[fe]=0;break}un&&(ke[fe+1]=1,pe[fe+1]=1)}Ae+=m.length,Ye=Q[Ge]=1}if(Ye)z===V?V++:z++;else{if(z===V?me=0:Re=0,!me&&!Re)break;me?(z++,V=z):V++}}m="";for(let fe=0,Ge;fe<ae.length;fe++)Ge=(fe&&ke[fe]?" ":(fe&&!r?" ":"")+r)+ae[fe],m+=Ge;r&&!ke[ae.length]&&(m+=r)}g&&(m=m.replace(g," ")),It[Xt].highlight=m}if(i)break}return t}function Z(e,t){if(!this||this.constructor!==Z)return new Z(e,t);let n=0,i,r,o,s,l,c;if(e&&e.index){let u=e;if(t=u.index,n=u.boost||0,r=u.query){o=u.field||u.pluck,s=u.highlight;let g=u.resolve;e=u.async||u.queue,u.resolve=!1,u.index=null,e=e?t.searchAsync(u):t.search(u),u.resolve=g,u.index=t,e=e.result||e}else e=[]}if(e&&e.then){let u=this;e=e.then(function(g){u.C[0]=u.result=g.result||g,Ie(u)}),i=[e],e=[],l=new Promise(function(g){c=g})}this.index=t||null,this.result=e||[],this.h=n,this.C=i||[],this.await=l||null,this.return=c||null,this.highlight=s||null,this.query=r||"",this.field=o||""}H=Z.prototype,H.limit=function(e){if(this.await){let t=this;this.C.push(function(){return t.limit(e).result})}else if(this.result.length){let t=[];for(let n=0,i;n<this.result.length;n++)if(i=this.result[n])if(i.length<=e){if(t[n]=i,e-=i.length,!e)break}else{t[n]=i.slice(0,e);break}this.result=t}return this},H.offset=function(e){if(this.await){let t=this;this.C.push(function(){return t.offset(e).result})}else if(this.result.length){let t=[];for(let n=0,i;n<this.result.length;n++)(i=this.result[n])&&(i.length<=e?e-=i.length:(t[n]=i.slice(e),e=0));this.result=t}return this},H.boost=function(e){if(this.await){let t=this;this.C.push(function(){return t.boost(e).result})}else this.h+=e;return this};function Ie(e,t){let n=e.result;var i=e.await;e.await=null;for(let r=0,o;r<e.C.length;r++)if(o=e.C[r]){if(typeof o=="function")n=o(),e.C[r]=n=n.result||n,r--;else if(o.h)n=o.h(),e.C[r]=n=n.result||n,r--;else if(o.then)return e.await=i}return i=e.return,e.C=[],e.return=null,t||i(n),n}H.resolve=function(e,t,n,i,r){let o=this.await?Ie(this,!0):this.result;if(o.then){let s=this;return o.then(function(){return s.resolve(e,t,n,i,r)})}return o.length&&(typeof e=="object"?(i=e.highlight||this.highlight,n=!!i||e.enrich,t=e.offset,e=e.limit):(i=i||this.highlight,n=!!i||n),o=r?n?st.call(this.index,o):o:Oe.call(this.index,o,e||100,t,n)),this.finalize(o,i)},H.finalize=function(e,t){if(e.then){let i=this;return e.then(function(r){return i.finalize(r,t)})}t&&e.length&&this.query&&(e=qe(this.query,e,this.index.index,this.field,t));let n=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",n&&n(e),e};function it(e,t,n,i,r,o,s){let l=e.length,c=[],u,g;u=Se();for(let d=0,C,f,b,y;d<t;d++)for(let m=0;m<l;m++)if(b=e[m],d<b.length&&(C=b[d]))for(let R=0;R<C.length;R++){if(f=C[R],(g=u[f])?u[f]++:(g=0,u[f]=1),y=c[g]||(c[g]=[]),!s){let q=d+(m||!r?0:o||0);y=y[q]||(y[q]=[])}if(y.push(f),s&&n&&g===l-1&&y.length-i===n)return i?y.slice(i):y}if(e=c.length)if(r)c=c.length>1?ot(c,n,i,s,o):(c=c[0])&&n&&c.length>n||i?c.slice(i,n+i):c;else{if(e<l)return[];if(c=c[e-1],n||i)if(s)(c.length>n||i)&&(c=c.slice(i,n+i));else{r=[];for(let d=0,C;d<c.length;d++)if(C=c[d]){if(i&&C.length>i)i-=C.length;else if((n&&C.length>n||i)&&(C=C.slice(i,n+i),n-=C.length,i&&(i-=C.length)),r.push(C),!n)break}c=r}}return c}function ot(e,t,n,i,r){let o=[],s=Se(),l;var c=e.length;let u;if(i){for(r=c-1;r>=0;r--)if(u=(i=e[r])&&i.length){for(c=0;c<u;c++)if(l=i[c],!s[l]){if(s[l]=1,n)n--;else if(o.push(l),o.length===t)return o}}}else for(let g=c-1,d,C=0;g>=0;g--){d=e[g];for(let f=0;f<d.length;f++)if(u=(i=d[f])&&i.length){for(let b=0;b<u;b++)if(l=i[b],!s[l])if(s[l]=1,n)n--;else{let y=(f+(g<c-1&&r||0))/(g+1)|0;if((o[y]||(o[y]=[])).push(l),++C===t)return o}}}return o}function dt(e,t,n){let i=Se(),r=[];for(let o=0,s;o<t.length;o++){s=t[o];for(let l=0;l<s.length;l++)i[s[l]]=1}if(n)for(let o=0,s;o<e.length;o++)s=e[o],i[s]&&(r.push(s),i[s]=0);else for(let o=0,s,l;o<e.result.length;o++)for(s=e.result[o],t=0;t<s.length;t++)l=s[t],i[l]&&((r[o]||(r[o]=[])).push(l),i[l]=0);return r}Se(),mt.prototype.search=function(e,t,n,i){n||(!t&&He(e)?(n=e,e=""):He(t)&&(n=t,t=0));let r=[];var o=[];let s,l,c,u,g,d,C=0,f=!0,b;if(n){n.constructor===Array&&(n={index:n}),e=n.query||e,s=n.pluck,l=n.merge,u=n.boost,d=s||n.field||(d=n.index)&&(d.index?null:d);var y=this.tag&&n.tag;c=n.suggest,f=n.resolve!==!1,g=n.cache,b=f&&this.store&&n.highlight;var m=!!b||f&&this.store&&n.enrich;t=n.limit||t;var R=n.offset||0;if(t||(t=f?100:0),y&&(!this.db||!i)){y.constructor!==Array&&(y=[y]);var q=[];for(let ve=0,ie;ve<y.length;ve++)if(ie=y[ve],ie.field&&ie.tag){var Q=ie.tag;if(Q.constructor===Array)for(var ae=0;ae<Q.length;ae++)q.push(ie.field,Q[ae]);else q.push(ie.field,Q)}else{Q=Object.keys(ie);for(let Ae=0,z,V;Ae<Q.length;Ae++)if(z=Q[Ae],V=ie[z],V.constructor===Array)for(ae=0;ae<V.length;ae++)q.push(z,V[ae]);else q.push(z,V)}if(y=q,!e){if(o=[],q.length)for(y=0;y<q.length;y+=2){if(this.db){if(i=this.index.get(q[y]),!i)continue;o.push(i=i.db.tag(q[y+1],t,R,m))}else i=kt.call(this,q[y],q[y+1],t,R,m);r.push(f?{field:q[y],tag:q[y+1],result:i}:[i])}if(o.length){let ve=this;return Promise.all(o).then(function(ie){for(let Ae=0;Ae<ie.length;Ae++)f?r[Ae].result=ie[Ae]:r[Ae]=ie[Ae];return f?r:new Z(r.length>1?it(r,1,0,0,c,u):r[0],ve)})}return f?r:new Z(r.length>1?it(r,1,0,0,c,u):r[0],this)}}f||s||!(d=d||this.field)||(Ue(d)?s=d:(d.constructor===Array&&d.length===1&&(d=d[0]),s=d.field||d.index)),d&&d.constructor!==Array&&(d=[d])}d||(d=this.field);let ke;q=(this.worker||this.db)&&!i&&[];for(let ve=0,ie,Ae,z;ve<d.length;ve++){if(Ae=d[ve],this.db&&this.tag&&!this.B[ve])continue;let V;if(Ue(Ae)||(V=Ae,Ae=V.field,e=V.query||e,t=$e(V.limit,t),R=$e(V.offset,R),c=$e(V.suggest,c),b=f&&this.store&&$e(V.highlight,b),m=!!b||f&&this.store&&$e(V.enrich,m),g=$e(V.cache,g)),i)ie=i[ve];else{Q=V||n||{},ae=Q.enrich;var pe=this.index.get(Ae);if(y&&(this.db&&(Q.tag=y,ke=pe.db.support_tag_search,Q.field=d),!ke&&ae&&(Q.enrich=!1)),ie=g?pe.searchCache(e,t,Q):pe.search(e,t,Q),ae&&(Q.enrich=ae),q){q[ve]=ie;continue}}if(z=(ie=ie.result||ie)&&ie.length,y&&z){if(Q=[],ae=0,this.db&&i){if(!ke)for(pe=d.length;pe<i.length;pe++){let me=i[pe];if(me&&me.length)ae++,Q.push(me);else if(!c)return f?r:new Z(r,this)}}else for(let me=0,Re,Be;me<y.length;me+=2){if(Re=this.tag.get(y[me]),!Re){if(c)continue;return f?r:new Z(r,this)}if(Be=(Re=Re&&Re.get(y[me+1]))&&Re.length)ae++,Q.push(Re);else if(!c)return f?r:new Z(r,this)}if(ae){if(ie=dt(ie,Q,f),z=ie.length,!z&&!c)return f?ie:new Z(ie,this);ae--}}if(z)o[C]=Ae,r.push(ie),C++;else if(d.length===1)return f?r:new Z(r,this)}if(q){if(this.db&&y&&y.length&&!ke)for(m=0;m<y.length;m+=2){if(o=this.index.get(y[m]),!o){if(c)continue;return f?r:new Z(r,this)}q.push(o.db.tag(y[m+1],t,R,!1))}let ve=this;return Promise.all(q).then(function(ie){return n&&(n.resolve=f),ie.length&&(ie=ve.search(e,t,n,ie)),ie})}if(!C)return f?r:new Z(r,this);if(s&&(!m||!this.store))return r=r[0],f?r:new Z(r,this);for(q=[],R=0;R<o.length;R++){if(y=r[R],m&&y.length&&typeof y[0].doc>"u"&&(this.db?q.push(y=this.index.get(this.field[0]).db.enrich(y)):y=st.call(this,y)),s)return f?b?qe(e,y,this.index,s,b):y:new Z(y,this);r[R]={field:o[R],result:y}}if(m&&this.db&&q.length){let ve=this;return Promise.all(q).then(function(ie){for(let Ae=0;Ae<ie.length;Ae++)r[Ae].result=ie[Ae];return b&&(r=qe(e,r,ve.index,s,b)),l?lt(r):r})}return b&&(r=qe(e,r,this.index,s,b)),l?lt(r):r};function lt(e){let t=[],n=Se(),i=Se();for(let r=0,o,s,l,c,u,g,d;r<e.length;r++){o=e[r],s=o.field,l=o.result;for(let C=0;C<l.length;C++)u=l[C],typeof u!="object"?u={id:c=u}:c=u.id,(g=n[c])?g.push(s):(u.field=n[c]=[s],t.push(u)),(d=u.highlight)&&(g=i[c],g||(i[c]=g={},u.highlight=g),g[s]=d)}return t}function kt(e,t,n,i,r){return e=this.tag.get(e),e?(e=e.get(t),e?(t=e.length-i,t>0&&((n&&t>n||i)&&(e=e.slice(i,i+n)),r&&(e=st.call(this,e))),e):[]):[]}function st(e){if(!this||!this.store)return e;if(this.db)return this.index.get(this.field[0]).db.enrich(e);let t=Array(e.length);for(let n=0,i;n<e.length;n++)i=e[n],t[n]={id:i,doc:this.store.get(i)};return t}function mt(e){if(!this||this.constructor!==mt)return new mt(e);let t=e.document||e.doc||e,n,i;if(this.B=[],this.field=[],this.D=[],this.key=(n=t.key||t.id)&&xt(n,this.D)||"id",(i=e.keystore||0)&&(this.keystore=i),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?i?new ye(i):new Set:i?new ge(i):new Map,this.h=(n=t.store||null)&&n&&n!==!0&&[],this.store=n?i?new ge(i):new Map:null,this.cache=(n=e.cache||null)&&new ue(n),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=Nt.call(this,e,t),this.tag=null,(n=t.tag)&&(typeof n=="string"&&(n=[n]),n.length)){this.tag=new Map,this.A=[],this.F=[];for(let r=0,o,s;r<n.length;r++){if(o=n[r],s=o.field||o,!s)throw Error("The tag field from the document descriptor is undefined.");o.custom?this.A[r]=o.custom:(this.A[r]=xt(s,this.D),o.filter&&(typeof this.A[r]=="string"&&(this.A[r]=new String(this.A[r])),this.A[r].G=o.filter)),this.F[r]=s,this.tag.set(s,new Map)}}if(this.worker){this.fastupdate=!1,e=[];for(let r of this.index.values())r.then&&e.push(r);if(e.length){let r=this;return Promise.all(e).then(function(o){let s=0;for(let l of r.index.entries()){let c=l[0],u=l[1];u.then&&(u=o[s],r.index.set(c,u),s++)}return r})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}H=mt.prototype,H.mount=function(e){let t=this.field;if(this.tag)for(let o=0,s;o<this.F.length;o++){s=this.F[o];var n=void 0;this.index.set(s,n=new at({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(s),n.tag=this.tag.get(s)}n=[];let i={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let o=0,s,l;o<t.length;o++){i.field=l=t[o],s=this.index.get(l);let c=new e.constructor(e.id,i);c.id=e.id,n[o]=c.mount(s),s.document=!0,o?s.bypass=!0:s.store=this.store}let r=this;return this.db=Promise.all(n).then(function(){r.db=!0})},H.commit=async function(){let e=[];for(let t of this.index.values())e.push(t.commit());await Promise.all(e),this.reg.clear()},H.destroy=function(){let e=[];for(let t of this.index.values())e.push(t.destroy());return Promise.all(e)};function Nt(e,t){let n=new Map,i=t.index||t.field||t;Ue(i)&&(i=[i]);for(let o=0,s,l;o<i.length;o++){if(s=i[o],Ue(s)||(l=s,s=s.field),l=He(l)?Object.assign({},e,l):e,this.worker){var r=void 0;r=(r=l.encoder)&&r.encode?r:new F(typeof r=="string"?Y[r]:r||{}),r=new W(l,r),n.set(s,r)}this.worker||n.set(s,new at(l,this.reg)),l.custom?this.B[o]=l.custom:(this.B[o]=xt(s,this.D),l.filter&&(typeof this.B[o]=="string"&&(this.B[o]=new String(this.B[o])),this.B[o].G=l.filter)),this.field[o]=s}if(this.h){e=t.store,Ue(e)&&(e=[e]);for(let o=0,s,l;o<e.length;o++)s=e[o],l=s.field||s,s.custom?(this.h[o]=s.custom,s.custom.O=l):(this.h[o]=xt(l,this.D),s.filter&&(typeof this.h[o]=="string"&&(this.h[o]=new String(this.h[o])),this.h[o].G=s.filter))}return n}function xt(e,t){let n=e.split(":"),i=0;for(let r=0;r<n.length;r++)e=n[r],e[e.length-1]==="]"&&(e=e.substring(0,e.length-2))&&(t[i]=!0),e&&(n[i++]=e);return i<n.length&&(n.length=i),i>1?n:n[0]}H.append=function(e,t){return this.add(e,t,!0)},H.update=function(e,t){return this.remove(e).add(e,t)},H.remove=function(e){He(e)&&(e=nt(e,this.key));for(var t of this.index.values())t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let n of this.tag.values())for(let i of n){t=i[0];let r=i[1],o=r.indexOf(e);o>-1&&(r.length>1?r.splice(o,1):n.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this},H.clear=function(){let e=[];for(let t of this.index.values()){let n=t.clear();n.then&&e.push(n)}if(this.tag)for(let t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this},H.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)},H.cleanup=function(){for(let e of this.index.values())e.cleanup();return this},H.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(e)||null},H.set=function(e,t){return typeof e=="object"&&(t=e,e=nt(t,this.key)),this.store.set(e,t),this},H.searchCache=U,H.export=Lt,H.import=Ft,de(mt.prototype);function Et(e,t=0){let n=[],i=[];t&&(t=25e4/t*5e3|0);for(let r of e.entries())i.push(r),i.length===t&&(n.push(i),i=[]);return i.length&&n.push(i),n}function jt(e,t){t||(t=new Map);for(let n=0,i;n<e.length;n++)i=e[n],t.set(i[0],i[1]);return t}function bt(e,t=0){let n=[],i=[];t&&(t=25e4/t*1e3|0);for(let r of e.entries())i.push([r[0],Et(r[1])[0]]),i.length===t&&(n.push(i),i=[]);return i.length&&n.push(i),n}function $t(e,t){t||(t=new Map);for(let n=0,i,r;n<e.length;n++)i=e[n],r=t.get(i[0]),t.set(i[0],jt(i[1],r));return t}function qt(e){let t=[],n=[];for(let i of e.keys())n.push(i),n.length===25e4&&(t.push(n),n=[]);return n.length&&t.push(n),t}function Ht(e,t){t||(t=new Set);for(let n=0;n<e.length;n++)t.add(e[n]);return t}function yt(e,t,n,i,r,o,s=0){let l=i&&i.constructor===Array;var c=l?i.shift():i;if(!c)return this.export(e,t,r,o+1);if((c=e((t?t+".":"")+(s+1)+"."+n,JSON.stringify(c)))&&c.then){let u=this;return c.then(function(){return yt.call(u,e,t,n,l?i:null,r,o,s+1)})}return yt.call(this,e,t,n,l?i:null,r,o,s+1)}function Lt(e,t,n=0,i=0){if(n<this.field.length){let s=this.field[n];if((t=this.index.get(s).export(e,s,n,i=1))&&t.then){let l=this;return t.then(function(){return l.export(e,s,n+1)})}return this.export(e,s,n+1)}let r,o;switch(i){case 0:r="reg",o=qt(this.reg),t=null;break;case 1:r="tag",o=this.tag&&bt(this.tag,this.reg.size),t=null;break;case 2:r="doc",o=this.store&&Et(this.store),t=null;break;default:return}return yt.call(this,e,t,r,o||null,n,i)}function Ft(e,t){var n=e.split(".");n[n.length-1]==="json"&&n.pop();let i=n.length>2?n[0]:"";if(n=n.length>2?n[2]:n[1],this.worker&&i)return this.index.get(i).import(e);if(t){if(typeof t=="string"&&(t=JSON.parse(t)),i)return this.index.get(i).import(n,t);switch(n){case"reg":this.fastupdate=!1,this.reg=Ht(t,this.reg);for(let r=0,o;r<this.field.length;r++)o=this.index.get(this.field[r]),o.fastupdate=!1,o.reg=this.reg;if(this.worker){t=[];for(let r of this.index.values())t.push(r.import(e));return Promise.all(t)}break;case"tag":this.tag=$t(t,this.tag);break;case"doc":this.store=jt(t,this.store)}}}function Dt(e,t){let n="";for(let i of e.entries()){e=i[0];let r=i[1],o="";for(let s=0,l;s<r.length;s++){l=r[s]||[""];let c="";for(let u=0;u<l.length;u++)c+=(c?",":"")+(t==="string"?'"'+l[u]+'"':l[u]);c="["+c+"]",o+=(o?",":"")+c}o='["'+e+'",['+o+"]]",n+=(n?",":"")+o}return n}at.prototype.remove=function(e,t){let n=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(n){if(this.fastupdate){for(let i=0,r,o;i<n.length;i++)if((r=n[i])&&(o=r.length))if(r[o-1]===e)r.pop();else{let s=r.indexOf(e);s>=0&&r.splice(s,1)}}else Ct(this.map,e),this.depth&&Ct(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.M&&Wt(this)),this.cache&&this.cache.remove(e),this};function Ct(e,t){let n=0;var i=typeof t>"u";if(e.constructor===Array){for(let r=0,o,s,l;r<e.length;r++)if((o=e[r])&&o.length){if(i)return 1;if(s=o.indexOf(t),s>=0){if(o.length>1)return o.splice(s,1),1;if(delete e[r],n)return 1;l=1}else{if(l)return 1;n++}}}else for(let r of e.entries())i=r[0],Ct(r[1],t)?n++:e.delete(i);return n}var Zt={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};at.prototype.add=function(e,t,n,i){if(t&&(e||e===0)){if(!i&&!n&&this.reg.has(e))return this.update(e,t);i=this.depth,t=this.encoder.encode(t,!i);let u=t.length;if(u){let g=Se(),d=Se(),C=this.resolution;for(let f=0;f<u;f++){let b=t[this.rtl?u-1-f:f];var r=b.length;if(r&&(i||!d[b])){var o=this.score?this.score(t,b,f,null,0):Ot(C,u,f),s="";switch(this.tokenize){case"tolerant":if(ft(this,d,b,o,e,n),r>2){for(let y=1,m,R,q,Q;y<r-1;y++)m=b.charAt(y),R=b.charAt(y+1),q=b.substring(0,y)+R,Q=b.substring(y+2),s=q+m+Q,ft(this,d,s,o,e,n),s=q+Q,ft(this,d,s,o,e,n);ft(this,d,b.substring(0,b.length-1),o,e,n)}break;case"full":if(r>2){for(let y=0,m;y<r;y++)for(o=r;o>y;o--){s=b.substring(y,o),m=this.rtl?r-1-y:y;var l=this.score?this.score(t,b,f,s,m):Ot(C,u,f,r,m);ft(this,d,s,l,e,n)}break}case"bidirectional":case"reverse":if(r>1){for(l=r-1;l>0;l--){s=b[this.rtl?r-1-l:l]+s;var c=this.score?this.score(t,b,f,s,l):Ot(C,u,f,r,l);ft(this,d,s,c,e,n)}s=""}case"forward":if(r>1){for(l=0;l<r;l++)s+=b[this.rtl?r-1-l:l],ft(this,d,s,o,e,n);break}default:if(ft(this,d,b,o,e,n),i&&u>1&&f<u-1)for(r=this.N,s=b,o=Math.min(i+1,this.rtl?f+1:u-f),l=1;l<o;l++){b=t[this.rtl?u-1-f-l:f+l],c=this.bidirectional&&b>s;let y=this.score?this.score(t,s,f,b,l-1):Ot(r+(u/2>r?0:1),u,f,o-1,l-1);ft(this,g,c?s:b,y,e,n,c?b:s)}}}}this.fastupdate||this.reg.add(e)}}return this.db&&(this.commit_task.push(n?{ins:e}:{del:e}),this.M&&Wt(this)),this};function ft(e,t,n,i,r,o,s){let l,c;if(!(l=t[n])||s&&!l[s]){if(s?(t=l||(t[n]=Se()),t[s]=1,c=e.ctx,(l=c.get(s))?c=l:c.set(s,c=e.keystore?new ge(e.keystore):new Map)):(c=e.map,t[n]=1),(l=c.get(n))?c=l:c.set(n,c=l=[]),o){for(let u=0,g;u<l.length;u++)if((g=l[u])&&g.includes(r)){if(u<=i)return;g.splice(g.indexOf(r),1),e.fastupdate&&(t=e.reg.get(r))&&t.splice(t.indexOf(g),1);break}}if(c=c[i]||(c[i]=[]),c.push(r),c.length===2**31-1){if(t=new Ce(c),e.fastupdate)for(let u of e.reg.values())u.includes(c)&&(u[u.indexOf(c)]=t);l[i]=c=t}e.fastupdate&&((i=e.reg.get(r))?i.push(c):e.reg.set(r,[c]))}}function Ot(e,t,n,i,r){return n&&e>1?t+(i||0)<=e?n+(r||0):(e-1)/(t+(i||0))*(n+(r||0))+1|0:0}at.prototype.search=function(e,t,n){if(n||(t||typeof e!="object"?typeof t=="object"&&(n=t,t=0):(n=e,e="")),n&&n.cache)return n.cache=!1,e=this.searchCache(e,t,n),n.cache=!0,e;let i=[],r,o,s,l=0,c,u,g,d,C;n&&(e=n.query||e,t=n.limit||t,l=n.offset||0,o=n.context,s=n.suggest,C=(c=n.resolve)&&n.enrich,g=n.boost,d=n.resolution,u=this.db&&n.tag),typeof c>"u"&&(c=this.resolve),o=this.depth&&o!==!1;let f=this.encoder.encode(e,!o);if(r=f.length,t=t||(c?100:0),r===1)return zt.call(this,f[0],"",t,l,c,C,u);if(r===2&&o&&!s)return zt.call(this,f[1],f[0],t,l,c,C,u);let b=Se(),y=0,m;if(o&&(m=f[0],y=1),d||d===0||(d=m?this.N:this.resolution),this.db){if(this.db.search&&(n=this.db.search(this,f,t,l,s,c,C,u),n!==!1))return n;let R=this;return(async function(){for(let q,Q;y<r;y++){if((Q=f[y])&&!b[Q]){if(b[Q]=1,q=await St(R,Q,m,0,0,!1,!1),q=Rt(q,i,s,d)){i=q;break}m&&(s&&q&&i.length||(m=Q))}s&&m&&y===r-1&&!i.length&&(d=R.resolution,m="",y=-1,b=Se())}return Vt(i,d,t,l,s,g,c)})()}for(let R,q;y<r;y++){if((q=f[y])&&!b[q]){if(b[q]=1,R=St(this,q,m,0,0,!1,!1),R=Rt(R,i,s,d)){i=R;break}m&&(s&&R&&i.length||(m=q))}s&&m&&y===r-1&&!i.length&&(d=this.resolution,m="",y=-1,b=Se())}return Vt(i,d,t,l,s,g,c)};function Vt(e,t,n,i,r,o,s){let l=e.length,c=e;if(l>1)c=it(e,t,n,i,r,o,s);else if(l===1)return s?Oe.call(null,e[0],n,i):new Z(e[0],this);return s?c:new Z(c,this)}function zt(e,t,n,i,r,o,s){return e=St(this,e,t,n,i,r,o,s),this.db?e.then(function(l){return r?l||[]:new Z(l,this)}):e&&e.length?r?Oe.call(this,e,n,i):new Z(e,this):r?[]:new Z([],this)}function Rt(e,t,n,i){let r=[];if(e&&e.length){if(e.length<=i){t.push(e);return}for(let o=0,s;o<i;o++)(s=e[o])&&(r[o]=s);if(r.length){t.push(r);return}}if(!n)return r}function St(e,t,n,i,r,o,s,l){let c;return n&&(c=e.bidirectional&&t>n)&&(c=n,n=t,t=c),e.db?e.db.get(t,n,i,r,o,s,l):(e=n?(e=e.ctx.get(n))&&e.get(t):e.map.get(t),e)}function at(e,t){if(!this||this.constructor!==at)return new at(e);if(e){var n=Ue(e)?e:e.preset;n&&(e=Object.assign({},Zt[n],e))}else e={};n=e.context;let i=n===!0?{depth:1}:n||{},r=Ue(e.encoder)?Y[e.encoder]:e.encode||e.encoder||{};this.encoder=r.encode?r:typeof r=="object"?new F(r):{encode:r},this.resolution=e.resolution||9,this.tokenize=n=(n=e.tokenize)&&n!=="default"&&n!=="exact"&&n||"strict",this.depth=n==="strict"&&i.depth||0,this.bidirectional=i.bidirectional!==!1,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(n=e.keystore||0)&&(this.keystore=n),this.map=n?new ge(n):new Map,this.ctx=n?new ge(n):new Map,this.reg=t||(this.fastupdate?n?new ge(n):new Map:n?new ye(n):new Set),this.N=i.resolution||3,this.rtl=r.rtl||e.rtl||!1,this.cache=(n=e.cache||null)&&new ue(n),this.resolve=e.resolve!==!1,(n=e.db)&&(this.db=this.mount(n)),this.M=e.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}H=at.prototype,H.mount=function(e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),e.mount(this)},H.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)},H.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function Wt(e){e.commit_timer||(e.commit_timer=setTimeout(function(){e.commit_timer=null,e.db.commit(e)},1))}H.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},H.append=function(e,t){return this.add(e,t,!0)},H.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)},H.update=function(e,t){let n=this,i=this.remove(e);return i&&i.then?i.then(()=>n.add(e,t)):this.add(e,t)},H.cleanup=function(){return this.fastupdate?(Ct(this.map),this.depth&&Ct(this.ctx),this):this},H.searchCache=U,H.export=function(e,t,n=0,i=0){let r,o;switch(i){case 0:r="reg",o=qt(this.reg);break;case 1:r="cfg",o=null;break;case 2:r="map",o=Et(this.map,this.reg.size);break;case 3:r="ctx",o=bt(this.ctx,this.reg.size);break;default:return}return yt.call(this,e,t,r,o,n,i)},H.import=function(e,t){if(t)switch(typeof t=="string"&&(t=JSON.parse(t)),e=e.split("."),e[e.length-1]==="json"&&e.pop(),e.length===3&&e.shift(),e=e.length>1?e[1]:e[0],e){case"reg":this.fastupdate=!1,this.reg=Ht(t,this.reg);break;case"map":this.map=jt(t,this.map);break;case"ctx":this.ctx=$t(t,this.ctx)}},H.serialize=function(e=!0){let t="",n="",i="";if(this.reg.size){let o;for(var r of this.reg.keys())o||(o=typeof r),t+=(t?",":"")+(o==="string"?'"'+r+'"':r);t="index.reg=new Set(["+t+"]);",n=Dt(this.map,o),n="index.map=new Map(["+n+"]);";for(let s of this.ctx.entries()){r=s[0];let l=Dt(s[1],o);l="new Map(["+l+"])",l='["'+r+'",'+l+"]",i+=(i?",":"")+l}i="index.ctx=new Map(["+i+"]);"}return e?"function inject(index){"+t+n+i+"}":t+n+i},de(at.prototype);var Kt=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Tt=["map","ctx","tag","reg","cfg"],pt=Se();function At(e,t={}){if(!this||this.constructor!==At)return new At(e,t);typeof e=="object"&&(t=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}H=At.prototype,H.mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())},H.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist(),pt[e.id]||(pt[e.id]=[]),pt[e.id].push(e.field);let t=Kt.open(e.id,1);return t.onupgradeneeded=function(){let n=e.db=this.result;for(let i=0,r;i<Tt.length;i++){r=Tt[i];for(let o=0,s;o<pt[e.id].length;o++)s=pt[e.id][o],n.objectStoreNames.contains(r+(r!=="reg"&&s?":"+s:""))||n.createObjectStore(r+(r!=="reg"&&s?":"+s:""))}},e.db=wt(t,function(n){e.db=n,e.db.onversionchange=function(){e.close()}})},H.close=function(){this.db&&this.db.close(),this.db=null},H.destroy=function(){let e=Kt.deleteDatabase(this.id);return wt(e)},H.clear=function(){let e=[];for(let n=0,i;n<Tt.length;n++){i=Tt[n];for(let r=0,o;r<pt[this.id].length;r++)o=pt[this.id][r],e.push(i+(i!=="reg"&&o?":"+o:""))}let t=this.db.transaction(e,"readwrite");for(let n=0;n<e.length;n++)t.objectStore(e[n]).clear();return wt(t)},H.get=function(e,t,n=0,i=0,r=!0,o=!1){e=this.db.transaction((t?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((t?"ctx":"map")+(this.field?":"+this.field:"")).get(t?t+":"+e:e);let s=this;return wt(e).then(function(l){let c=[];if(!l||!l.length)return c;if(r){if(!n&&!i&&l.length===1)return l[0];for(let u=0,g;u<l.length;u++)if((g=l[u])&&g.length){if(i>=g.length){i-=g.length;continue}let d=n?i+Math.min(g.length-i,n):g.length;for(let C=i;C<d;C++)c.push(g[C]);if(i=0,c.length===n)break}return o?s.enrich(c):c}return l})},H.tag=function(e,t=0,n=0,i=!1){e=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(e);let r=this;return wt(e).then(function(o){return!o||!o.length||n>=o.length?[]:!t&&!n?o:(o=o.slice(n,n+t),i?r.enrich(o):o)})},H.enrich=function(e){typeof e!="object"&&(e=[e]);let t=this.db.transaction("reg","readonly").objectStore("reg"),n=[];for(let i=0;i<e.length;i++)n[i]=wt(t.get(e[i]));return Promise.all(n).then(function(i){for(let r=0;r<i.length;r++)i[r]={id:e[r],doc:i[r]?JSON.parse(i[r]):null};return i})},H.has=function(e){return e=this.db.transaction("reg","readonly").objectStore("reg").getKey(e),wt(e).then(function(t){return!!t})},H.search=null,H.info=function(){},H.transaction=function(e,t,n){e+=e!=="reg"&&this.field?":"+this.field:"";let i=this.h[e+":"+t];if(i)return n.call(this,i);let r=this.db.transaction(e,t);this.h[e+":"+t]=i=r.objectStore(e);let o=n.call(this,i);return this.h[e+":"+t]=null,wt(r).finally(function(){return r=i=null,o})},H.commit=async function(e){let t=e.commit_task,n=[];e.commit_task=[];for(let i=0,r;i<t.length;i++)r=t[i],r.del&&n.push(r.del);n.length&&await this.remove(n),e.reg.size&&(await this.transaction("map","readwrite",function(i){for(let r of e.map){let o=r[0],s=r[1];s.length&&(i.get(o).onsuccess=function(){let l=this.result;var c;if(l&&l.length){let u=Math.max(l.length,s.length);for(let g=0,d,C;g<u;g++)if((C=s[g])&&C.length){if((d=l[g])&&d.length)for(c=0;c<C.length;c++)d.push(C[c]);else l[g]=C;c=1}}else l=s,c=1;c&&i.put(l,o)})}}),await this.transaction("ctx","readwrite",function(i){for(let r of e.ctx){let o=r[0],s=r[1];for(let l of s){let c=l[0],u=l[1];u.length&&(i.get(o+":"+c).onsuccess=function(){let g=this.result;var d;if(g&&g.length){let C=Math.max(g.length,u.length);for(let f=0,b,y;f<C;f++)if((y=u[f])&&y.length){if((b=g[f])&&b.length)for(d=0;d<y.length;d++)b.push(y[d]);else g[f]=y;d=1}}else g=u,d=1;d&&i.put(g,o+":"+c)})}}}),e.store?await this.transaction("reg","readwrite",function(i){for(let r of e.store){let o=r[0],s=r[1];i.put(typeof s=="object"?JSON.stringify(s):1,o)}}):e.bypass||await this.transaction("reg","readwrite",function(i){for(let r of e.reg.keys())i.put(1,r)}),e.tag&&await this.transaction("tag","readwrite",function(i){for(let r of e.tag){let o=r[0],s=r[1];s.length&&(i.get(o).onsuccess=function(){let l=this.result;l=l&&l.length?l.concat(s):s,i.put(l,o)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())};function Pt(e,t,n){let i=e.value,r,o=0;for(let s=0,l;s<i.length;s++){if(l=n?i:i[s]){for(let c=0,u,g;c<t.length;c++)if(g=t[c],u=l.indexOf(g),u>=0)if(r=1,l.length>1)l.splice(u,1);else{i[s]=[];break}o+=l.length}if(n)break}o?r&&e.update(i):e.delete(),e.continue()}H.remove=function(e){return typeof e!="object"&&(e=[e]),Promise.all([this.transaction("map","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e)}}),this.transaction("ctx","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e)}}),this.transaction("tag","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e,!0)}}),this.transaction("reg","readwrite",function(t){for(let n=0;n<e.length;n++)t.delete(e[n])})])};function wt(e,t){return new Promise((n,i)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,n(this.result)},e.onerror=e.onblocked=i,e=null})}var Qt={Index:at,Charset:Y,Encoder:F,Document:mt,Worker:W,Resolver:Z,IndexedDB:At,Language:{}};function en(e,t){if(!e)return;function n(r){r.target===this&&(r.preventDefault(),r.stopPropagation(),t())}function i(r){r.key.startsWith("Esc")&&(r.preventDefault(),t())}e?.addEventListener("click",n),window.addCleanup(()=>e?.removeEventListener("click",n)),document.addEventListener("keydown",i),window.addCleanup(()=>document.removeEventListener("keydown",i))}function Bt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var an=Object.hasOwnProperty,tn=Ke(tt(),1),cn=(0,tn.default)();function hn(e){let t=Mt(sn(e,"index"),!0);return t.length===0?"/":t}var Ut=(e,t,n)=>{let i=new URL(e.getAttribute(t),n);e.setAttribute(t,i.pathname+i.hash)};function fn(e,t){e.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(n=>Ut(n,"href",t)),e.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(n=>Ut(n,"src",t))}function Jt(e){let t=e.split("/").filter(n=>n!=="").slice(0,-1).map(n=>"..").join("/");return t.length===0&&(t="."),t}function nn(e,t){return rn(Jt(e),hn(t))}function rn(...e){if(e.length===0)return"";let t=e.filter(n=>n!==""&&n!=="/").map(n=>Mt(n)).join("/");return e[0].startsWith("/")&&(t="/"+t),e[e.length-1].endsWith("/")&&(t=t+"/"),t}function on(e,t){return e===t||e.endsWith("/"+t)}function sn(e,t){return on(e,t)&&(e=e.slice(0,-t.length)),e}function Mt(e,t){return e.startsWith("/")&&(e=e.substring(1)),!t&&e.endsWith("/")&&(e=e.slice(0,-1)),e}var gt="basic",et="",a=e=>e.toLowerCase().split(/\s+/).filter(t=>t.length>0),h=new Qt.Document({encode:a,document:{id:"id",tag:"tags",index:[{field:"title",tokenize:"forward"},{field:"content",tokenize:"forward"},{field:"tags",tokenize:"forward"}]}}),w=new DOMParser,v=new Map,j=30,k=8,O=5,M=e=>{let t=e.split(/\s+/).filter(i=>i.trim()!==""),n=t.length;if(n>1)for(let i=1;i<n;i++)t.push(t.slice(0,i+1).join(" "));return t.sort((i,r)=>r.length-i.length)};function D(e,t,n){let i=M(e),r=t.split(/\s+/).filter(c=>c!==""),o=0,s=r.length-1;if(n){let c=C=>i.some(f=>C.toLowerCase().startsWith(f.toLowerCase())),u=r.map(c),g=0,d=0;for(let C=0;C<Math.max(r.length-j,0);C++){let f=u.slice(C,C+j).reduce((b,y)=>b+(y?1:0),0);f>=g&&(g=f,d=C)}o=Math.max(d-j,0),s=Math.min(o+2*j,r.length-1),r=r.slice(o,s)}let l=r.map(c=>{for(let u of i)if(c.toLowerCase().includes(u.toLowerCase())){let g=new RegExp(u.toLowerCase(),"gi");return c.replace(g,'<span class="highlight">$&</span>')}return c}).join(" ");return`${o===0?"":"..."}${l}${s===r.length-1?"":"..."}`}function G(e,t){let n=new DOMParser,i=M(e),r=n.parseFromString(t.innerHTML,"text/html"),o=l=>{let c=document.createElement("span");return c.className="highlight",c.textContent=l,c},s=(l,c)=>{if(l.nodeType===Node.TEXT_NODE){let u=l.nodeValue??"",g=new RegExp(c.toLowerCase(),"gi"),d=u.match(g);if(!d||d.length===0)return;let C=document.createElement("span"),f=0;for(let b of d){let y=u.indexOf(b,f);C.appendChild(document.createTextNode(u.slice(f,y))),C.appendChild(o(b)),f=y+b.length}C.appendChild(document.createTextNode(u.slice(f))),l.parentNode?.replaceChild(C,l)}else if(l.nodeType===Node.ELEMENT_NODE){if(l.classList.contains("highlight"))return;Array.from(l.childNodes).forEach(u=>s(u,c))}};for(let l of i)s(r.body,l);return r.body}async function oe(e,t,n){let i=e.querySelector(".search-container");if(!i)return;let r=i.closest(".sidebar"),o=e.querySelector(".search-button");if(!o)return;let s=e.querySelector(".search-bar");if(!s)return;let l=e.querySelector(".search-layout");if(!l)return;let c=Object.keys(n),u=z=>{l.appendChild(z)},g=l.dataset.preview==="true",d,C,f=document.createElement("div");f.className="results-container",u(f),g&&(d=document.createElement("div"),d.className="preview-container",u(d));function b(){i.classList.remove("active"),s.value="",r&&(r.style.zIndex=""),Bt(f),d&&Bt(d),l.classList.remove("display-results"),gt="basic",o.focus()}function y(z){gt=z,r&&(r.style.zIndex="1"),i.classList.add("active"),s.focus()}let m=null;async function R(z){if(z.key==="k"&&(z.ctrlKey||z.metaKey)&&!z.shiftKey){z.preventDefault(),i.classList.contains("active")?b():y("basic");return}else if(z.shiftKey&&(z.ctrlKey||z.metaKey)&&z.key.toLowerCase()==="k"){z.preventDefault(),i.classList.contains("active")?b():y("tags"),s.value="#";return}if(m&&m.classList.remove("focus"),!!i.classList.contains("active")){if(z.key==="Enter"&&!z.isComposing)if(f.contains(document.activeElement)){let V=document.activeElement;if(V.classList.contains("no-match"))return;await ie(V),V.click()}else{let V=document.getElementsByClassName("result-card")[0];if(!V||V.classList.contains("no-match"))return;await ie(V),V.click()}else if(z.key==="ArrowUp"||z.shiftKey&&z.key==="Tab"){if(z.preventDefault(),f.contains(document.activeElement)){let V=m||document.activeElement,me=V?.previousElementSibling;V?.classList.remove("focus"),me?.focus(),me&&(m=me),await ie(me)}}else if((z.key==="ArrowDown"||z.key==="Tab")&&(z.preventDefault(),document.activeElement===s||m!==null)){let V=m||document.getElementsByClassName("result-card")[0],me=V?.nextElementSibling;V?.classList.remove("focus"),me?.focus(),me&&(m=me),await ie(me)}}}let q=(z,V)=>{let me=c[V];return{id:V,slug:me,title:gt==="tags"?n[me].title:D(z,n[me].title??""),content:D(z,n[me].content??"",!0),tags:Q(z.substring(1),n[me].tags)}};function Q(z,V){return!V||gt!=="tags"?[]:V.map(me=>me.toLowerCase().includes(z.toLowerCase())?`<li><p class="match-tag">#${me}</p></li>`:`<li><p>#${me}</p></li>`).slice(0,O)}function ae(z){return new URL(nn(t,z),location.toString())}let ke=({slug:z,title:V,content:me,tags:Re})=>{let Be=Re.length>0?`<ul class="tags">${Re.join("")}</ul>`:"",je=document.createElement("a");je.classList.add("result-card"),je.id=z,je.href=ae(z).toString(),je.innerHTML=`
      <h3 class="card-title">${V}</h3>
      ${Be}
      <p class="card-description">${me}</p>
    `,je.addEventListener("click",Xe=>{Xe.altKey||Xe.ctrlKey||Xe.metaKey||Xe.shiftKey||b()});let Ye=Xe=>{Xe.altKey||Xe.ctrlKey||Xe.metaKey||Xe.shiftKey||b()};async function vt(Xe){if(!Xe.target)return;let Gt=Xe.target;await ie(Gt)}return je.addEventListener("mouseenter",vt),window.addCleanup(()=>je.removeEventListener("mouseenter",vt)),je.addEventListener("click",Ye),window.addCleanup(()=>je.removeEventListener("click",Ye)),je};async function pe(z){if(Bt(f),z.length===0?f.innerHTML=`<a class="result-card no-match">
          <h3>No results.</h3>
          <p>Try another search term?</p>
      </a>`:f.append(...z.map(ke)),z.length===0&&d)Bt(d);else{let V=f.firstElementChild;V.classList.add("focus"),m=V,await ie(V)}}async function ve(z){if(v.has(z))return v.get(z);let V=ae(z).toString(),me=await fetch(V).then(Re=>Re.text()).then(Re=>{if(Re===void 0)throw new Error(`Could not fetch ${V}`);let Be=w.parseFromString(Re??"","text/html");return fn(Be,V),[...Be.getElementsByClassName("popover-hint")]});return v.set(z,me),me}async function ie(z){if(!l||!g||!z||!d)return;let V=z.id,me=await ve(V).then(Re=>Re.flatMap(Be=>[...G(et,Be).children]));C=document.createElement("div"),C.classList.add("preview-inner"),C.append(...me),d.replaceChildren(C),[...d.getElementsByClassName("highlight")].sort((Re,Be)=>Be.innerHTML.length-Re.innerHTML.length)[0]?.scrollIntoView({block:"start"})}async function Ae(z){if(!l||!h)return;et=z.target.value,l.classList.toggle("display-results",et!==""),gt=et.startsWith("#")?"tags":"basic";let V;if(gt==="tags"){et=et.substring(1).trim();let Be=et.indexOf(" ");if(Be!=-1){let je=et.substring(0,Be),Ye=et.substring(Be+1).trim();V=await h.searchAsync({query:Ye,limit:Math.max(k,1e4),index:["title","content"],tag:{tags:je}});for(let vt of V)vt.result=vt.result.slice(0,k);gt="basic",et=Ye}else V=await h.searchAsync({query:et,limit:k,index:["tags"]})}else gt==="basic"&&(V=await h.searchAsync({query:et,limit:k,index:["title","content"]}));let me=Be=>{let je=V.filter(Ye=>Ye.field===Be);return je.length===0?[]:[...je[0].result]},Re=[...new Set([...me("title"),...me("content"),...me("tags")])].map(Be=>q(et,Be));await pe(Re)}document.addEventListener("keydown",R),window.addCleanup(()=>document.removeEventListener("keydown",R)),o.addEventListener("click",()=>y("basic")),window.addCleanup(()=>o.removeEventListener("click",()=>y("basic"))),s.addEventListener("input",Ae),window.addCleanup(()=>s.removeEventListener("input",Ae)),en(i,b),await ne(n)}var N=!1;async function ne(e){if(N)return;let t=0,n=[];for(let[i,r]of Object.entries(e))n.push(h.addAsync(t++,{id:t,slug:i,title:r.title,content:r.content,tags:r.tags}));await Promise.all(n),N=!0}document.addEventListener("nav",async e=>{let t=e.detail.url,n=await fetchData,i=document.getElementsByClassName("search");for(let r of i)await oe(r,t,n)})})(),(function(){var Me=Object.create,xe=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyNames,We=Object.getPrototypeOf,Pe=Object.prototype.hasOwnProperty,Ne=(E,x)=>()=>(x||E((x={exports:{}}).exports,x),x.exports),ct=(E,x,S,_)=>{if(x&&typeof x=="object"||typeof x=="function")for(let X of ze(x))!Pe.call(E,X)&&X!==S&&xe(E,X,{get:()=>x[X],enumerable:!(_=Ve(x,X))||_.enumerable});return E},Ke=(E,x,S)=>(S=E!=null?Me(We(E)):{},ct(x||!E||!E.__esModule?xe(S,"default",{value:E,enumerable:!0}):S,E)),Ze=Ne((E,x)=>{"use strict";x.exports=_;function S(Y){return Y instanceof Buffer?Buffer.from(Y):new Y.constructor(Y.buffer.slice(),Y.byteOffset,Y.length)}function _(Y){if(Y=Y||{},Y.circles)return X(Y);let ee=new Map;if(ee.set(Date,re=>new Date(re)),ee.set(Map,(re,L)=>new Map(ge(Array.from(re),L))),ee.set(Set,(re,L)=>new Set(ge(Array.from(re),L))),Y.constructorHandlers)for(let re of Y.constructorHandlers)ee.set(re[0],re[1]);let Ce=null;return Y.proto?Le:ye;function ge(re,L){let T=Object.keys(re),B=new Array(T.length);for(let de=0;de<T.length;de++){let I=T[de],we=re[I];typeof we!="object"||we===null?B[I]=we:we.constructor!==Object&&(Ce=ee.get(we.constructor))?B[I]=Ce(we,L):ArrayBuffer.isView(we)?B[I]=S(we):B[I]=L(we)}return B}function ye(re){if(typeof re!="object"||re===null)return re;if(Array.isArray(re))return ge(re,ye);if(re.constructor!==Object&&(Ce=ee.get(re.constructor)))return Ce(re,ye);let L={};for(let T in re){if(Object.hasOwnProperty.call(re,T)===!1)continue;let B=re[T];typeof B!="object"||B===null?L[T]=B:B.constructor!==Object&&(Ce=ee.get(B.constructor))?L[T]=Ce(B,ye):ArrayBuffer.isView(B)?L[T]=S(B):L[T]=ye(B)}return L}function Le(re){if(typeof re!="object"||re===null)return re;if(Array.isArray(re))return ge(re,Le);if(re.constructor!==Object&&(Ce=ee.get(re.constructor)))return Ce(re,Le);let L={};for(let T in re){let B=re[T];typeof B!="object"||B===null?L[T]=B:B.constructor!==Object&&(Ce=ee.get(B.constructor))?L[T]=Ce(B,Le):ArrayBuffer.isView(B)?L[T]=S(B):L[T]=Le(B)}return L}}function X(Y){let ee=[],Ce=[],ge=new Map;if(ge.set(Date,T=>new Date(T)),ge.set(Map,(T,B)=>new Map(Le(Array.from(T),B))),ge.set(Set,(T,B)=>new Set(Le(Array.from(T),B))),Y.constructorHandlers)for(let T of Y.constructorHandlers)ge.set(T[0],T[1]);let ye=null;return Y.proto?L:re;function Le(T,B){let de=Object.keys(T),I=new Array(de.length);for(let we=0;we<de.length;we++){let Fe=de[we],p=T[Fe];if(typeof p!="object"||p===null)I[Fe]=p;else if(p.constructor!==Object&&(ye=ge.get(p.constructor)))I[Fe]=ye(p,B);else if(ArrayBuffer.isView(p))I[Fe]=S(p);else{let A=ee.indexOf(p);A!==-1?I[Fe]=Ce[A]:I[Fe]=B(p)}}return I}function re(T){if(typeof T!="object"||T===null)return T;if(Array.isArray(T))return Le(T,re);if(T.constructor!==Object&&(ye=ge.get(T.constructor)))return ye(T,re);let B={};ee.push(T),Ce.push(B);for(let de in T){if(Object.hasOwnProperty.call(T,de)===!1)continue;let I=T[de];if(typeof I!="object"||I===null)B[de]=I;else if(I.constructor!==Object&&(ye=ge.get(I.constructor)))B[de]=ye(I,re);else if(ArrayBuffer.isView(I))B[de]=S(I);else{let we=ee.indexOf(I);we!==-1?B[de]=Ce[we]:B[de]=re(I)}}return ee.pop(),Ce.pop(),B}function L(T){if(typeof T!="object"||T===null)return T;if(Array.isArray(T))return Le(T,L);if(T.constructor!==Object&&(ye=ge.get(T.constructor)))return ye(T,L);let B={};ee.push(T),Ce.push(B);for(let de in T){let I=T[de];if(typeof I!="object"||I===null)B[de]=I;else if(I.constructor!==Object&&(ye=ge.get(I.constructor)))B[de]=ye(I,L);else if(ArrayBuffer.isView(I))B[de]=S(I);else{let we=ee.indexOf(I);we!==-1?B[de]=Ce[we]:B[de]=L(I)}}return ee.pop(),Ce.pop(),B}}}),tt=Object.hasOwnProperty,H=Ke(Ze(),1),_e=(0,H.default)();function $e(E){let x=ht(Je(E,"index"),!0);return x.length===0?"/":x}function Se(E){let x=E.split("/").filter(S=>S!=="").slice(0,-1).map(S=>"..").join("/");return x.length===0&&(x="."),x}function Ue(E,x){return He(Se(E),$e(x))}function He(...E){if(E.length===0)return"";let x=E.filter(S=>S!==""&&S!=="/").map(S=>ht(S)).join("/");return E[0].startsWith("/")&&(x="/"+x),E[E.length-1].endsWith("/")&&(x=x+"/"),x}function nt(E,x){return E===x||E.endsWith("/"+x)}function Je(E,x){return nt(E,x)&&(E=E.slice(0,-x.length)),E}function ht(E,x){return E.startsWith("/")&&(E=E.substring(1)),!x&&E.endsWith("/")&&(E=E.slice(0,-1)),E}var ut=class ln{isFolder;children;slugSegments;fileSegmentHint;displayNameOverride;data;constructor(x,S){this.children=[],this.slugSegments=x,this.data=S??null,this.isFolder=!1,this.displayNameOverride=void 0}get displayName(){let x=this.data?.title==="index"?void 0:this.data?.title;return this.displayNameOverride??x??this.fileSegmentHint??this.slugSegment??""}set displayName(x){this.displayNameOverride=x}get slug(){let x=He(...this.slugSegments);return this.isFolder?He(x,"index"):x}get slugSegment(){return this.slugSegments[this.slugSegments.length-1]}makeChild(x,S){let _=[...this.slugSegments,x[0]],X=new ln(_,S);return this.children.push(X),X}insert(x,S){if(x.length===0)throw new Error("path is empty");this.isFolder=!0;let _=x[0];if(x.length===1)_==="index"?this.data??=S:this.makeChild(x,S);else if(x.length>1){let X=this.children.find(ee=>ee.slugSegment===_)??this.makeChild(x,void 0),Y=S.filePath.split("/");X.fileSegmentHint=Y.at(-x.length),X.insert(x.slice(1),S)}}add(x){this.insert(x.slug.split("/"),x)}findNode(x){return x.length===0||x.length===1&&x[0]==="index"?this:this.children.find(S=>S.slugSegment===x[0])?.findNode(x.slice(1))}ancestryChain(x){if(x.length===0||x.length===1&&x[0]==="index")return[this];let S=this.children.find(X=>X.slugSegment===x[0]);if(!S)return;let _=S.ancestryChain(x.slice(1));if(_)return[this,..._]}filter(x){this.children=this.children.filter(x),this.children.forEach(S=>S.filter(x))}map(x){x(this),this.children.forEach(S=>S.map(x))}sort(x){this.children=this.children.sort(x),this.children.forEach(S=>S.sort(x))}static fromEntries(x){let S=new ln([]);return x.forEach(([,_])=>S.add(_)),S}entries(){let x=S=>[[S.slug,S]].concat(...S.children.map(x));return x(this)}getFolderPaths(){return this.entries().filter(([x,S])=>S.isFolder).map(([x,S])=>x)}},rt;function $(){let E=this.closest(".explorer");if(!E)return;let x=E.classList.toggle("collapsed");E.setAttribute("aria-expanded",E.getAttribute("aria-expanded")==="true"?"false":"true"),x?document.documentElement.classList.remove("mobile-no-scroll"):document.documentElement.classList.add("mobile-no-scroll")}function F(E){E.stopPropagation();let x=E.target;if(!x)return;let S=x.nodeName==="svg"?x.parentElement:x.parentElement?.parentElement;if(!S)return;let _=S.nextElementSibling;if(!_)return;_.classList.toggle("open");let X=!_.classList.contains("open");ce(_,X);let Y=rt.find(Ce=>Ce.path===S.dataset.folderpath);Y?Y.collapsed=X:rt.push({path:S.dataset.folderpath,collapsed:X});let ee=JSON.stringify(rt);localStorage.setItem("fileTree",ee)}function le(E,x){let S=document.getElementById("template-file").content.cloneNode(!0).querySelector("li"),_=S.querySelector("a");return _.href=Ue(E,x.slug),_.dataset.for=x.slug,_.textContent=x.displayName,E===x.slug&&_.classList.add("active"),S}function U(E,x,S){let _=document.getElementById("template-folder").content.cloneNode(!0).querySelector("li"),X=_.querySelector(".folder-container"),Y=X.querySelector("div"),ee=_.querySelector(".folder-outer"),Ce=ee.querySelector("ul"),ge=x.slug;if(X.dataset.folderpath=ge,S.folderClickBehavior==="link"){let L=Y.querySelector(".folder-button"),T=document.createElement("a");T.href=Ue(E,ge),T.dataset.for=ge,T.className="folder-title",T.textContent=x.displayName,L.replaceWith(T)}else{let L=Y.querySelector(".folder-title");L.textContent=x.displayName}let ye=rt.find(L=>L.path===ge)?.collapsed??S.folderDefaultState==="collapsed",Le=$e(ge),re=Le===E.slice(0,Le.length);(!ye||re)&&ee.classList.add("open");for(let L of x.children){let T=L.isFolder?U(E,L,S):le(E,L);Ce.appendChild(T)}return _}async function ue(E){let x=document.querySelectorAll("div.explorer");for(let S of x){let _=JSON.parse(S.dataset.dataFns||"{}"),X={folderClickBehavior:S.dataset.behavior||"collapse",folderDefaultState:S.dataset.collapsed||"collapsed",useSavedState:S.dataset.savestate==="true",order:_.order||["filter","map","sort"],sortFn:new Function("return "+(_.sortFn||"undefined"))(),filterFn:new Function("return "+(_.filterFn||"undefined"))(),mapFn:new Function("return "+(_.mapFn||"undefined"))()},Y=localStorage.getItem("fileTree"),ee=Y&&X.useSavedState?JSON.parse(Y):[],Ce=new Map(ee.map(I=>[I.path,I.collapsed])),ge=await fetchData,ye=[...Object.entries(ge)],Le=ut.fromEntries(ye);for(let I of X.order)switch(I){case"filter":X.filterFn&&Le.filter(X.filterFn);break;case"map":X.mapFn&&Le.map(X.mapFn);break;case"sort":X.sortFn&&Le.sort(X.sortFn);break}rt=Le.getFolderPaths().map(I=>{let we=Ce.get(I);return{path:I,collapsed:we===void 0?X.folderDefaultState==="collapsed":we}});let re=S.querySelector(".explorer-ul");if(!re)continue;let L=document.createDocumentFragment();for(let I of Le.children){let we=I.isFolder?U(E,I,X):le(E,I);L.appendChild(we)}re.insertBefore(L,re.firstChild);let T=sessionStorage.getItem("explorerScrollTop");if(T)re.scrollTop=parseInt(T);else{let I=re.querySelector(".active");I&&I.scrollIntoView({behavior:"smooth"})}let B=S.getElementsByClassName("explorer-toggle");for(let I of B)I.addEventListener("click",$),window.addCleanup(()=>I.removeEventListener("click",$));if(X.folderClickBehavior==="collapse"){let I=S.getElementsByClassName("folder-button");for(let we of I)we.addEventListener("click",F),window.addCleanup(()=>we.removeEventListener("click",F))}let de=S.getElementsByClassName("folder-icon");for(let I of de)I.addEventListener("click",F),window.addCleanup(()=>I.removeEventListener("click",F))}}document.addEventListener("prenav",async()=>{let E=document.querySelector(".explorer-ul");E&&sessionStorage.setItem("explorerScrollTop",E.scrollTop.toString())}),document.addEventListener("nav",async E=>{let x=E.detail.url;await ue(x);for(let S of document.getElementsByClassName("explorer")){let _=S.querySelector(".mobile-explorer");if(!_)return;_.checkVisibility()&&(S.classList.add("collapsed"),S.setAttribute("aria-expanded","false"),document.documentElement.classList.remove("mobile-no-scroll")),_.classList.remove("hide-until-loaded")}}),window.addEventListener("resize",function(){let E=document.querySelector(".explorer");if(E&&!E.classList.contains("collapsed")){document.documentElement.classList.add("mobile-no-scroll");return}});function ce(E,x){return x?E.classList.remove("open"):E.classList.add("open")}})(),(function(){document.addEventListener("nav",Me=>{const xe=new IntersectionObserver(We=>{for(const Pe of We){const Ne=Pe.target.parentElement;if(!Ne)return;Pe.isIntersecting?Ne.classList.remove("gradient-active"):Ne.classList.add("gradient-active")}}),Ve=document.getElementById("list-0");if(!Ve)return;const ze=Ve.querySelector(".overflow-end");ze&&(xe.observe(ze),window.addCleanup(()=>xe.disconnect()))})})(),(function(){document.addEventListener("nav",Me=>{const xe=new IntersectionObserver(We=>{for(const Pe of We){const Ne=Pe.target.parentElement;if(!Ne)return;Pe.isIntersecting?Ne.classList.remove("gradient-active"):Ne.classList.add("gradient-active")}}),Ve=document.getElementById("list-1");if(!Ve)return;const ze=Ve.querySelector(".overflow-end");ze&&(xe.observe(ze),window.addCleanup(()=>xe.disconnect()))})})(),(function(){var Me=Object.create,xe=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyNames,We=Object.getPrototypeOf,Pe=Object.prototype.hasOwnProperty,Ne=(a,h)=>()=>(h||a((h={exports:{}}).exports,h),h.exports),ct=(a,h,w,v)=>{if(h&&typeof h=="object"||typeof h=="function")for(let j of ze(h))!Pe.call(a,j)&&j!==w&&xe(a,j,{get:()=>h[j],enumerable:!(v=Ve(h,j))||v.enumerable});return a},Ke=(a,h,w)=>(w=a!=null?Me(We(a)):{},ct(h||!a||!a.__esModule?xe(w,"default",{value:a,enumerable:!0}):w,a)),Ze=Ne((a,h)=>{"use strict";h.exports=v;function w(k){return k instanceof Buffer?Buffer.from(k):new k.constructor(k.buffer.slice(),k.byteOffset,k.length)}function v(k){if(k=k||{},k.circles)return j(k);let O=new Map;if(O.set(Date,N=>new Date(N)),O.set(Map,(N,ne)=>new Map(D(Array.from(N),ne))),O.set(Set,(N,ne)=>new Set(D(Array.from(N),ne))),k.constructorHandlers)for(let N of k.constructorHandlers)O.set(N[0],N[1]);let M=null;return k.proto?oe:G;function D(N,ne){let e=Object.keys(N),t=new Array(e.length);for(let n=0;n<e.length;n++){let i=e[n],r=N[i];typeof r!="object"||r===null?t[i]=r:r.constructor!==Object&&(M=O.get(r.constructor))?t[i]=M(r,ne):ArrayBuffer.isView(r)?t[i]=w(r):t[i]=ne(r)}return t}function G(N){if(typeof N!="object"||N===null)return N;if(Array.isArray(N))return D(N,G);if(N.constructor!==Object&&(M=O.get(N.constructor)))return M(N,G);let ne={};for(let e in N){if(Object.hasOwnProperty.call(N,e)===!1)continue;let t=N[e];typeof t!="object"||t===null?ne[e]=t:t.constructor!==Object&&(M=O.get(t.constructor))?ne[e]=M(t,G):ArrayBuffer.isView(t)?ne[e]=w(t):ne[e]=G(t)}return ne}function oe(N){if(typeof N!="object"||N===null)return N;if(Array.isArray(N))return D(N,oe);if(N.constructor!==Object&&(M=O.get(N.constructor)))return M(N,oe);let ne={};for(let e in N){let t=N[e];typeof t!="object"||t===null?ne[e]=t:t.constructor!==Object&&(M=O.get(t.constructor))?ne[e]=M(t,oe):ArrayBuffer.isView(t)?ne[e]=w(t):ne[e]=oe(t)}return ne}}function j(k){let O=[],M=[],D=new Map;if(D.set(Date,e=>new Date(e)),D.set(Map,(e,t)=>new Map(oe(Array.from(e),t))),D.set(Set,(e,t)=>new Set(oe(Array.from(e),t))),k.constructorHandlers)for(let e of k.constructorHandlers)D.set(e[0],e[1]);let G=null;return k.proto?ne:N;function oe(e,t){let n=Object.keys(e),i=new Array(n.length);for(let r=0;r<n.length;r++){let o=n[r],s=e[o];if(typeof s!="object"||s===null)i[o]=s;else if(s.constructor!==Object&&(G=D.get(s.constructor)))i[o]=G(s,t);else if(ArrayBuffer.isView(s))i[o]=w(s);else{let l=O.indexOf(s);l!==-1?i[o]=M[l]:i[o]=t(s)}}return i}function N(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return oe(e,N);if(e.constructor!==Object&&(G=D.get(e.constructor)))return G(e,N);let t={};O.push(e),M.push(t);for(let n in e){if(Object.hasOwnProperty.call(e,n)===!1)continue;let i=e[n];if(typeof i!="object"||i===null)t[n]=i;else if(i.constructor!==Object&&(G=D.get(i.constructor)))t[n]=G(i,N);else if(ArrayBuffer.isView(i))t[n]=w(i);else{let r=O.indexOf(i);r!==-1?t[n]=M[r]:t[n]=N(i)}}return O.pop(),M.pop(),t}function ne(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return oe(e,ne);if(e.constructor!==Object&&(G=D.get(e.constructor)))return G(e,ne);let t={};O.push(e),M.push(t);for(let n in e){let i=e[n];if(typeof i!="object"||i===null)t[n]=i;else if(i.constructor!==Object&&(G=D.get(i.constructor)))t[n]=G(i,ne);else if(ArrayBuffer.isView(i))t[n]=w(i);else{let r=O.indexOf(i);r!==-1?t[n]=M[r]:t[n]=ne(i)}}return O.pop(),M.pop(),t}}}),tt=Math.min,H=Math.max,_e=Math.round,$e=a=>({x:a,y:a}),Se={left:"right",right:"left",bottom:"top",top:"bottom"},Ue={start:"end",end:"start"};function He(a,h,w){return H(a,tt(h,w))}function nt(a,h){return typeof a=="function"?a(h):a}function Je(a){return a.split("-")[0]}function ht(a){return a.split("-")[1]}function ut(a){return a==="x"?"y":"x"}function rt(a){return a==="y"?"height":"width"}var $=new Set(["top","bottom"]);function F(a){return $.has(Je(a))?"y":"x"}function le(a){return ut(F(a))}function U(a,h,w){w===void 0&&(w=!1);let v=ht(a),j=le(a),k=rt(j),O=j==="x"?v===(w?"end":"start")?"right":"left":v==="start"?"bottom":"top";return h.reference[k]>h.floating[k]&&(O=ee(O)),[O,ee(O)]}function ue(a){let h=ee(a);return[ce(a),h,ce(h)]}function ce(a){return a.replace(/start|end/g,h=>Ue[h])}var E=["left","right"],x=["right","left"],S=["top","bottom"],_=["bottom","top"];function X(a,h,w){switch(a){case"top":case"bottom":return w?h?x:E:h?E:x;case"left":case"right":return h?S:_;default:return[]}}function Y(a,h,w,v){let j=ht(a),k=X(Je(a),w==="start",v);return j&&(k=k.map(O=>O+"-"+j),h&&(k=k.concat(k.map(ce)))),k}function ee(a){return a.replace(/left|right|bottom|top/g,h=>Se[h])}function Ce(a){return{top:0,right:0,bottom:0,left:0,...a}}function ge(a){return typeof a!="number"?Ce(a):{top:a,right:a,bottom:a,left:a}}function ye(a){let{x:h,y:w,width:v,height:j}=a;return{width:v,height:j,top:w,left:h,right:h+v,bottom:w+j,x:h,y:w}}function Le(a,h,w){let{reference:v,floating:j}=a,k=F(h),O=le(h),M=rt(O),D=Je(h),G=k==="y",oe=v.x+v.width/2-j.width/2,N=v.y+v.height/2-j.height/2,ne=v[M]/2-j[M]/2,e;switch(D){case"top":e={x:oe,y:v.y-j.height};break;case"bottom":e={x:oe,y:v.y+v.height};break;case"right":e={x:v.x+v.width,y:N};break;case"left":e={x:v.x-j.width,y:N};break;default:e={x:v.x,y:v.y}}switch(ht(h)){case"start":e[O]-=ne*(w&&G?-1:1);break;case"end":e[O]+=ne*(w&&G?-1:1);break}return e}var re=async(a,h,w)=>{let{placement:v="bottom",strategy:j="absolute",middleware:k=[],platform:O}=w,M=k.filter(Boolean),D=await(O.isRTL==null?void 0:O.isRTL(h)),G=await O.getElementRects({reference:a,floating:h,strategy:j}),{x:oe,y:N}=Le(G,v,D),ne=v,e={},t=0;for(let n=0;n<M.length;n++){let{name:i,fn:r}=M[n],{x:o,y:s,data:l,reset:c}=await r({x:oe,y:N,initialPlacement:v,placement:ne,strategy:j,middlewareData:e,rects:G,platform:O,elements:{reference:a,floating:h}});oe=o??oe,N=s??N,e={...e,[i]:{...e[i],...l}},c&&t<=50&&(t++,typeof c=="object"&&(c.placement&&(ne=c.placement),c.rects&&(G=c.rects===!0?await O.getElementRects({reference:a,floating:h,strategy:j}):c.rects),{x:oe,y:N}=Le(G,ne,D)),n=-1)}return{x:oe,y:N,placement:ne,strategy:j,middlewareData:e}};async function L(a,h){var w;h===void 0&&(h={});let{x:v,y:j,platform:k,rects:O,elements:M,strategy:D}=a,{boundary:G="clippingAncestors",rootBoundary:oe="viewport",elementContext:N="floating",altBoundary:ne=!1,padding:e=0}=nt(h,a),t=ge(e),n=M[ne?N==="floating"?"reference":"floating":N],i=ye(await k.getClippingRect({element:(w=await(k.isElement==null?void 0:k.isElement(n)))==null||w?n:n.contextElement||await(k.getDocumentElement==null?void 0:k.getDocumentElement(M.floating)),boundary:G,rootBoundary:oe,strategy:D})),r=N==="floating"?{x:v,y:j,width:O.floating.width,height:O.floating.height}:O.reference,o=await(k.getOffsetParent==null?void 0:k.getOffsetParent(M.floating)),s=await(k.isElement==null?void 0:k.isElement(o))?await(k.getScale==null?void 0:k.getScale(o))||{x:1,y:1}:{x:1,y:1},l=ye(k.convertOffsetParentRelativeRectToViewportRelativeRect?await k.convertOffsetParentRelativeRectToViewportRelativeRect({elements:M,rect:r,offsetParent:o,strategy:D}):r);return{top:(i.top-l.top+t.top)/s.y,bottom:(l.bottom-i.bottom+t.bottom)/s.y,left:(i.left-l.left+t.left)/s.x,right:(l.right-i.right+t.right)/s.x}}var T=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(h){var w,v;let{placement:j,middlewareData:k,rects:O,initialPlacement:M,platform:D,elements:G}=h,{mainAxis:oe=!0,crossAxis:N=!0,fallbackPlacements:ne,fallbackStrategy:e="bestFit",fallbackAxisSideDirection:t="none",flipAlignment:n=!0,...i}=nt(a,h);if((w=k.arrow)!=null&&w.alignmentOffset)return{};let r=Je(j),o=F(M),s=Je(M)===M,l=await(D.isRTL==null?void 0:D.isRTL(G.floating)),c=ne||(s||!n?[ee(M)]:ue(M)),u=t!=="none";!ne&&u&&c.push(...Y(M,n,t,l));let g=[M,...c],d=await L(h,i),C=[],f=((v=k.flip)==null?void 0:v.overflows)||[];if(oe&&C.push(d[r]),N){let R=U(j,O,l);C.push(d[R[0]],d[R[1]])}if(f=[...f,{placement:j,overflows:C}],!C.every(R=>R<=0)){var b,y;let R=(((b=k.flip)==null?void 0:b.index)||0)+1,q=g[R];if(q&&(!(N==="alignment"&&o!==F(q))||f.every(ae=>F(ae.placement)===o?ae.overflows[0]>0:!0)))return{data:{index:R,overflows:f},reset:{placement:q}};let Q=(y=f.filter(ae=>ae.overflows[0]<=0).sort((ae,ke)=>ae.overflows[1]-ke.overflows[1])[0])==null?void 0:y.placement;if(!Q)switch(e){case"bestFit":{var m;let ae=(m=f.filter(ke=>{if(u){let pe=F(ke.placement);return pe===o||pe==="y"}return!0}).map(ke=>[ke.placement,ke.overflows.filter(pe=>pe>0).reduce((pe,ve)=>pe+ve,0)]).sort((ke,pe)=>ke[1]-pe[1])[0])==null?void 0:m[0];ae&&(Q=ae);break}case"initialPlacement":Q=M;break}if(j!==Q)return{reset:{placement:Q}}}return{}}}};function B(a){let h=tt(...a.map(k=>k.left)),w=tt(...a.map(k=>k.top)),v=H(...a.map(k=>k.right)),j=H(...a.map(k=>k.bottom));return{x:h,y:w,width:v-h,height:j-w}}function de(a){let h=a.slice().sort((j,k)=>j.y-k.y),w=[],v=null;for(let j=0;j<h.length;j++){let k=h[j];!v||k.y-v.y>v.height/2?w.push([k]):w[w.length-1].push(k),v=k}return w.map(j=>ye(B(j)))}var I=function(a){return a===void 0&&(a={}),{name:"inline",options:a,async fn(h){let{placement:w,elements:v,rects:j,platform:k,strategy:O}=h,{padding:M=2,x:D,y:G}=nt(a,h),oe=Array.from(await(k.getClientRects==null?void 0:k.getClientRects(v.reference))||[]),N=de(oe),ne=ye(B(oe)),e=ge(M);function t(){if(N.length===2&&N[0].left>N[1].right&&D!=null&&G!=null)return N.find(i=>D>i.left-e.left&&D<i.right+e.right&&G>i.top-e.top&&G<i.bottom+e.bottom)||ne;if(N.length>=2){if(F(w)==="y"){let f=N[0],b=N[N.length-1],y=Je(w)==="top",m=f.top,R=b.bottom,q=y?f.left:b.left,Q=y?f.right:b.right,ae=Q-q,ke=R-m;return{top:m,bottom:R,left:q,right:Q,width:ae,height:ke,x:q,y:m}}let i=Je(w)==="left",r=H(...N.map(f=>f.right)),o=tt(...N.map(f=>f.left)),s=N.filter(f=>i?f.left===o:f.right===r),l=s[0].top,c=s[s.length-1].bottom,u=o,g=r,d=g-u,C=c-l;return{top:l,bottom:c,left:u,right:g,width:d,height:C,x:u,y:l}}return ne}let n=await k.getElementRects({reference:{getBoundingClientRect:t},floating:v.floating,strategy:O});return j.reference.x!==n.reference.x||j.reference.y!==n.reference.y||j.reference.width!==n.reference.width||j.reference.height!==n.reference.height?{reset:{rects:n}}:{}}}},we=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(h){let{x:w,y:v,placement:j}=h,{mainAxis:k=!0,crossAxis:O=!1,limiter:M={fn:i=>{let{x:r,y:o}=i;return{x:r,y:o}}},...D}=nt(a,h),G={x:w,y:v},oe=await L(h,D),N=F(Je(j)),ne=ut(N),e=G[ne],t=G[N];if(k){let i=ne==="y"?"top":"left",r=ne==="y"?"bottom":"right",o=e+oe[i],s=e-oe[r];e=He(o,e,s)}if(O){let i=N==="y"?"top":"left",r=N==="y"?"bottom":"right",o=t+oe[i],s=t-oe[r];t=He(o,t,s)}let n=M.fn({...h,[ne]:e,[N]:t});return{...n,data:{x:n.x-w,y:n.y-v,enabled:{[ne]:k,[N]:O}}}}}};function Fe(){return typeof window<"u"}function p(a){return W(a)?(a.nodeName||"").toLowerCase():"#document"}function A(a){var h;return(a==null||(h=a.ownerDocument)==null?void 0:h.defaultView)||window}function P(a){var h;return(h=(W(a)?a.ownerDocument:a.document)||window.document)==null?void 0:h.documentElement}function W(a){return Fe()?a instanceof Node||a instanceof A(a).Node:!1}function te(a){return Fe()?a instanceof Element||a instanceof A(a).Element:!1}function K(a){return Fe()?a instanceof HTMLElement||a instanceof A(a).HTMLElement:!1}function J(a){return!Fe()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof A(a).ShadowRoot}var Ee=new Set(["inline","contents"]);function Oe(a){let{overflow:h,overflowX:w,overflowY:v,display:j}=lt(a);return/auto|scroll|overlay|hidden|clip/.test(h+v+w)&&!Ee.has(j)}var De=new Set(["table","td","th"]);function Qe(a){return De.has(p(a))}var be=[":popover-open",":modal"];function Te(a){return be.some(h=>{try{return a.matches(h)}catch{return!1}})}var se=["transform","translate","scale","rotate","perspective"],he=["transform","translate","scale","rotate","perspective","filter"],qe=["paint","layout","strict","content"];function Z(a){let h=it(),w=te(a)?lt(a):a;return se.some(v=>w[v]?w[v]!=="none":!1)||(w.containerType?w.containerType!=="normal":!1)||!h&&(w.backdropFilter?w.backdropFilter!=="none":!1)||!h&&(w.filter?w.filter!=="none":!1)||he.some(v=>(w.willChange||"").includes(v))||qe.some(v=>(w.contain||"").includes(v))}function Ie(a){let h=st(a);for(;K(h)&&!dt(h);){if(Z(h))return h;if(Te(h))return null;h=st(h)}return null}function it(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var ot=new Set(["html","body","#document"]);function dt(a){return ot.has(p(a))}function lt(a){return A(a).getComputedStyle(a)}function kt(a){return te(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function st(a){if(p(a)==="html")return a;let h=a.assignedSlot||a.parentNode||J(a)&&a.host||P(a);return J(h)?h.host:h}function mt(a){let h=st(a);return dt(h)?a.ownerDocument?a.ownerDocument.body:a.body:K(h)&&Oe(h)?h:mt(h)}function Nt(a,h,w){var v;h===void 0&&(h=[]),w===void 0&&(w=!0);let j=mt(a),k=j===((v=a.ownerDocument)==null?void 0:v.body),O=A(j);if(k){let M=xt(O);return h.concat(O,O.visualViewport||[],Oe(j)?j:[],M&&w?Nt(M):[])}return h.concat(j,Nt(j,[],w))}function xt(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function Et(a){let h=lt(a),w=parseFloat(h.width)||0,v=parseFloat(h.height)||0,j=K(a),k=j?a.offsetWidth:w,O=j?a.offsetHeight:v,M=_e(w)!==k||_e(v)!==O;return M&&(w=k,v=O),{width:w,height:v,$:M}}function jt(a){return te(a)?a:a.contextElement}function bt(a){let h=jt(a);if(!K(h))return $e(1);let w=h.getBoundingClientRect(),{width:v,height:j,$:k}=Et(h),O=(k?_e(w.width):w.width)/v,M=(k?_e(w.height):w.height)/j;return(!O||!Number.isFinite(O))&&(O=1),(!M||!Number.isFinite(M))&&(M=1),{x:O,y:M}}var $t=$e(0);function qt(a){let h=A(a);return!it()||!h.visualViewport?$t:{x:h.visualViewport.offsetLeft,y:h.visualViewport.offsetTop}}function Ht(a,h,w){return h===void 0&&(h=!1),!w||h&&w!==A(a)?!1:h}function yt(a,h,w,v){h===void 0&&(h=!1),w===void 0&&(w=!1);let j=a.getBoundingClientRect(),k=jt(a),O=$e(1);h&&(v?te(v)&&(O=bt(v)):O=bt(a));let M=Ht(k,w,v)?qt(k):$e(0),D=(j.left+M.x)/O.x,G=(j.top+M.y)/O.y,oe=j.width/O.x,N=j.height/O.y;if(k){let ne=A(k),e=v&&te(v)?A(v):v,t=ne,n=xt(t);for(;n&&v&&e!==t;){let i=bt(n),r=n.getBoundingClientRect(),o=lt(n),s=r.left+(n.clientLeft+parseFloat(o.paddingLeft))*i.x,l=r.top+(n.clientTop+parseFloat(o.paddingTop))*i.y;D*=i.x,G*=i.y,oe*=i.x,N*=i.y,D+=s,G+=l,t=A(n),n=xt(t)}}return ye({width:oe,height:N,x:D,y:G})}function Lt(a,h){let w=kt(a).scrollLeft;return h?h.left+w:yt(P(a)).left+w}function Ft(a,h){let w=a.getBoundingClientRect(),v=w.left+h.scrollLeft-Lt(a,w),j=w.top+h.scrollTop;return{x:v,y:j}}function Dt(a){let{elements:h,rect:w,offsetParent:v,strategy:j}=a,k=j==="fixed",O=P(v),M=h?Te(h.floating):!1;if(v===O||M&&k)return w;let D={scrollLeft:0,scrollTop:0},G=$e(1),oe=$e(0),N=K(v);if((N||!N&&!k)&&((p(v)!=="body"||Oe(O))&&(D=kt(v)),K(v))){let e=yt(v);G=bt(v),oe.x=e.x+v.clientLeft,oe.y=e.y+v.clientTop}let ne=O&&!N&&!k?Ft(O,D):$e(0);return{width:w.width*G.x,height:w.height*G.y,x:w.x*G.x-D.scrollLeft*G.x+oe.x+ne.x,y:w.y*G.y-D.scrollTop*G.y+oe.y+ne.y}}function Ct(a){return Array.from(a.getClientRects())}function Zt(a){let h=P(a),w=kt(a),v=a.ownerDocument.body,j=H(h.scrollWidth,h.clientWidth,v.scrollWidth,v.clientWidth),k=H(h.scrollHeight,h.clientHeight,v.scrollHeight,v.clientHeight),O=-w.scrollLeft+Lt(a),M=-w.scrollTop;return lt(v).direction==="rtl"&&(O+=H(h.clientWidth,v.clientWidth)-j),{width:j,height:k,x:O,y:M}}var ft=25;function Ot(a,h){let w=A(a),v=P(a),j=w.visualViewport,k=v.clientWidth,O=v.clientHeight,M=0,D=0;if(j){k=j.width,O=j.height;let oe=it();(!oe||oe&&h==="fixed")&&(M=j.offsetLeft,D=j.offsetTop)}let G=Lt(v);if(G<=0){let oe=v.ownerDocument,N=oe.body,ne=getComputedStyle(N),e=oe.compatMode==="CSS1Compat"&&parseFloat(ne.marginLeft)+parseFloat(ne.marginRight)||0,t=Math.abs(v.clientWidth-N.clientWidth-e);t<=ft&&(k-=t)}else G<=ft&&(k+=G);return{width:k,height:O,x:M,y:D}}var Vt=new Set(["absolute","fixed"]);function zt(a,h){let w=yt(a,!0,h==="fixed"),v=w.top+a.clientTop,j=w.left+a.clientLeft,k=K(a)?bt(a):$e(1),O=a.clientWidth*k.x,M=a.clientHeight*k.y,D=j*k.x,G=v*k.y;return{width:O,height:M,x:D,y:G}}function Rt(a,h,w){let v;if(h==="viewport")v=Ot(a,w);else if(h==="document")v=Zt(P(a));else if(te(h))v=zt(h,w);else{let j=qt(a);v={x:h.x-j.x,y:h.y-j.y,width:h.width,height:h.height}}return ye(v)}function St(a,h){let w=st(a);return w===h||!te(w)||dt(w)?!1:lt(w).position==="fixed"||St(w,h)}function at(a,h){let w=h.get(a);if(w)return w;let v=Nt(a,[],!1).filter(M=>te(M)&&p(M)!=="body"),j=null,k=lt(a).position==="fixed",O=k?st(a):a;for(;te(O)&&!dt(O);){let M=lt(O),D=Z(O);!D&&M.position==="fixed"&&(j=null),(k?!D&&!j:!D&&M.position==="static"&&j&&Vt.has(j.position)||Oe(O)&&!D&&St(a,O))?v=v.filter(G=>G!==O):j=M,O=st(O)}return h.set(a,v),v}function Wt(a){let{element:h,boundary:w,rootBoundary:v,strategy:j}=a,k=[...w==="clippingAncestors"?Te(h)?[]:at(h,this._c):[].concat(w),v],O=k[0],M=k.reduce((D,G)=>{let oe=Rt(h,G,j);return D.top=H(oe.top,D.top),D.right=tt(oe.right,D.right),D.bottom=tt(oe.bottom,D.bottom),D.left=H(oe.left,D.left),D},Rt(h,O,j));return{width:M.right-M.left,height:M.bottom-M.top,x:M.left,y:M.top}}function Kt(a){let{width:h,height:w}=Et(a);return{width:h,height:w}}function Tt(a,h,w){let v=K(h),j=P(h),k=w==="fixed",O=yt(a,!0,k,h),M={scrollLeft:0,scrollTop:0},D=$e(0);function G(){D.x=Lt(j)}if(v||!v&&!k)if((p(h)!=="body"||Oe(j))&&(M=kt(h)),v){let e=yt(h,!0,k,h);D.x=e.x+h.clientLeft,D.y=e.y+h.clientTop}else j&&G();k&&!v&&j&&G();let oe=j&&!v&&!k?Ft(j,M):$e(0),N=O.left+M.scrollLeft-D.x-oe.x,ne=O.top+M.scrollTop-D.y-oe.y;return{x:N,y:ne,width:O.width,height:O.height}}function pt(a){return lt(a).position==="static"}function At(a,h){if(!K(a)||lt(a).position==="fixed")return null;if(h)return h(a);let w=a.offsetParent;return P(a)===w&&(w=w.ownerDocument.body),w}function Pt(a,h){let w=A(a);if(Te(a))return w;if(!K(a)){let j=st(a);for(;j&&!dt(j);){if(te(j)&&!pt(j))return j;j=st(j)}return w}let v=At(a,h);for(;v&&Qe(v)&&pt(v);)v=At(v,h);return v&&dt(v)&&pt(v)&&!Z(v)?w:v||Ie(a)||w}var wt=async function(a){let h=this.getOffsetParent||Pt,w=this.getDimensions,v=await w(a.floating);return{reference:Tt(a.reference,await h(a.floating),a.strategy),floating:{x:0,y:0,width:v.width,height:v.height}}};function Qt(a){return lt(a).direction==="rtl"}var en={convertOffsetParentRelativeRectToViewportRelativeRect:Dt,getDocumentElement:P,getClippingRect:Wt,getOffsetParent:Pt,getElementRects:wt,getClientRects:Ct,getDimensions:Kt,getScale:bt,isElement:te,isRTL:Qt},Bt=we,an=T,tn=I,cn=(a,h,w)=>{let v=new Map,j={platform:en,...w},k={...j.platform,_c:v};return re(a,h,{...j,platform:k})},hn=Object.hasOwnProperty,Ut=Ke(Ze(),1),fn=(0,Ut.default)(),Jt=(a,h,w)=>{let v=new URL(a.getAttribute(h),w);a.setAttribute(h,v.pathname+v.hash)};function nn(a,h){a.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(w=>Jt(w,"href",h)),a.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(w=>Jt(w,"src",h))}var rn=/<link rel="canonical" href="([^"]*)">/;async function on(a){let h=new URL(a);h.searchParams.set("_t",Date.now().toString());let w=await fetch(`${h}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!w.headers.get("content-type")?.startsWith("text/html"))return w;let v=await w.clone().text(),[j,k]=v.match(rn)??[];if(k){let O=new URL(k,a);return O.searchParams.set("_t",Date.now().toString()),fetch(`${O}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}})}return w}var sn=new DOMParser,Mt=null;async function gt({clientX:a,clientY:h}){let w=Mt=this;if(w.dataset.noPopover==="true")return;async function v(n){let{x:i,y:r}=await cn(w,n,{strategy:"fixed",middleware:[tn({x:a,y:h}),Bt(),an()]});Object.assign(n.style,{transform:`translate(${i.toFixed()}px, ${r.toFixed()}px)`})}function j(n){if(et(),n.classList.add("active-popover"),v(n),O!==""){let i=`#popover-internal-${O.slice(1)}`,r=t.querySelector(i);r&&t.scroll({top:r.offsetTop-12,behavior:"instant"})}}let k=new URL(w.href),O=decodeURIComponent(k.hash);k.hash="",k.search="";let M=`popover-${w.pathname}`,D=document.getElementById(M);if(document.getElementById(M)){j(D);return}let G=await on(k).catch(n=>{console.error(n)});if(!G)return;let[oe]=G.headers.get("Content-Type").split(";"),[N,ne]=oe.split("/"),e=document.createElement("div");e.id=M,e.classList.add("popover");let t=document.createElement("div");switch(t.classList.add("popover-inner"),t.dataset.contentType=oe??void 0,e.appendChild(t),N){case"image":let n=document.createElement("img");n.src=k.toString(),n.alt=k.pathname,t.appendChild(n);break;case"application":switch(ne){case"pdf":let s=document.createElement("iframe");s.src=k.toString(),t.appendChild(s);break;default:break}break;default:let i=await G.text(),r=sn.parseFromString(i,"text/html");nn(r,k),r.querySelectorAll("[id]").forEach(s=>{let l=`popover-internal-${s.id}`;s.id=l});let o=[...r.getElementsByClassName("popover-hint")];if(o.length===0)return;o.forEach(s=>t.appendChild(s))}document.getElementById(M)||(document.body.appendChild(e),Mt===this&&j(e))}function et(){Mt=null,document.querySelectorAll(".popover").forEach(a=>a.classList.remove("active-popover"))}document.addEventListener("nav",()=>{let a=[...document.querySelectorAll("a.internal")];for(let h of a)h.addEventListener("mouseenter",gt),h.addEventListener("mouseleave",et),window.addCleanup(()=>{h.removeEventListener("mouseenter",gt),h.removeEventListener("mouseleave",et)})})})(),(function(){const Me=document.createElement("script");Me.src="https://plausible.io/js/script.manual.js",Me.setAttribute("data-domain",location.hostname),Me.defer=!0,Me.onload=()=>{window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},plausible("pageview"),document.addEventListener("nav",()=>{plausible("pageview")})},document.head.appendChild(Me)})(),(function(){var Me=Object.create,xe=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyNames,We=Object.getPrototypeOf,Pe=Object.prototype.hasOwnProperty,Ne=(p,A)=>()=>(A||p((A={exports:{}}).exports,A),A.exports),ct=(p,A,P,W)=>{if(A&&typeof A=="object"||typeof A=="function")for(let te of ze(A))!Pe.call(p,te)&&te!==P&&xe(p,te,{get:()=>A[te],enumerable:!(W=Ve(A,te))||W.enumerable});return p},Ke=(p,A,P)=>(P=p!=null?Me(We(p)):{},ct(A||!p||!p.__esModule?xe(P,"default",{value:p,enumerable:!0}):P,p)),Ze=Ne((p,A)=>{"use strict";A.exports=W;function P(K){return K instanceof Buffer?Buffer.from(K):new K.constructor(K.buffer.slice(),K.byteOffset,K.length)}function W(K){if(K=K||{},K.circles)return te(K);let J=new Map;if(J.set(Date,be=>new Date(be)),J.set(Map,(be,Te)=>new Map(Oe(Array.from(be),Te))),J.set(Set,(be,Te)=>new Set(Oe(Array.from(be),Te))),K.constructorHandlers)for(let be of K.constructorHandlers)J.set(be[0],be[1]);let Ee=null;return K.proto?Qe:De;function Oe(be,Te){let se=Object.keys(be),he=new Array(se.length);for(let qe=0;qe<se.length;qe++){let Z=se[qe],Ie=be[Z];typeof Ie!="object"||Ie===null?he[Z]=Ie:Ie.constructor!==Object&&(Ee=J.get(Ie.constructor))?he[Z]=Ee(Ie,Te):ArrayBuffer.isView(Ie)?he[Z]=P(Ie):he[Z]=Te(Ie)}return he}function De(be){if(typeof be!="object"||be===null)return be;if(Array.isArray(be))return Oe(be,De);if(be.constructor!==Object&&(Ee=J.get(be.constructor)))return Ee(be,De);let Te={};for(let se in be){if(Object.hasOwnProperty.call(be,se)===!1)continue;let he=be[se];typeof he!="object"||he===null?Te[se]=he:he.constructor!==Object&&(Ee=J.get(he.constructor))?Te[se]=Ee(he,De):ArrayBuffer.isView(he)?Te[se]=P(he):Te[se]=De(he)}return Te}function Qe(be){if(typeof be!="object"||be===null)return be;if(Array.isArray(be))return Oe(be,Qe);if(be.constructor!==Object&&(Ee=J.get(be.constructor)))return Ee(be,Qe);let Te={};for(let se in be){let he=be[se];typeof he!="object"||he===null?Te[se]=he:he.constructor!==Object&&(Ee=J.get(he.constructor))?Te[se]=Ee(he,Qe):ArrayBuffer.isView(he)?Te[se]=P(he):Te[se]=Qe(he)}return Te}}function te(K){let J=[],Ee=[],Oe=new Map;if(Oe.set(Date,se=>new Date(se)),Oe.set(Map,(se,he)=>new Map(Qe(Array.from(se),he))),Oe.set(Set,(se,he)=>new Set(Qe(Array.from(se),he))),K.constructorHandlers)for(let se of K.constructorHandlers)Oe.set(se[0],se[1]);let De=null;return K.proto?Te:be;function Qe(se,he){let qe=Object.keys(se),Z=new Array(qe.length);for(let Ie=0;Ie<qe.length;Ie++){let it=qe[Ie],ot=se[it];if(typeof ot!="object"||ot===null)Z[it]=ot;else if(ot.constructor!==Object&&(De=Oe.get(ot.constructor)))Z[it]=De(ot,he);else if(ArrayBuffer.isView(ot))Z[it]=P(ot);else{let dt=J.indexOf(ot);dt!==-1?Z[it]=Ee[dt]:Z[it]=he(ot)}}return Z}function be(se){if(typeof se!="object"||se===null)return se;if(Array.isArray(se))return Qe(se,be);if(se.constructor!==Object&&(De=Oe.get(se.constructor)))return De(se,be);let he={};J.push(se),Ee.push(he);for(let qe in se){if(Object.hasOwnProperty.call(se,qe)===!1)continue;let Z=se[qe];if(typeof Z!="object"||Z===null)he[qe]=Z;else if(Z.constructor!==Object&&(De=Oe.get(Z.constructor)))he[qe]=De(Z,be);else if(ArrayBuffer.isView(Z))he[qe]=P(Z);else{let Ie=J.indexOf(Z);Ie!==-1?he[qe]=Ee[Ie]:he[qe]=be(Z)}}return J.pop(),Ee.pop(),he}function Te(se){if(typeof se!="object"||se===null)return se;if(Array.isArray(se))return Qe(se,Te);if(se.constructor!==Object&&(De=Oe.get(se.constructor)))return De(se,Te);let he={};J.push(se),Ee.push(he);for(let qe in se){let Z=se[qe];if(typeof Z!="object"||Z===null)he[qe]=Z;else if(Z.constructor!==Object&&(De=Oe.get(Z.constructor)))he[qe]=De(Z,Te);else if(ArrayBuffer.isView(Z))he[qe]=P(Z);else{let Ie=J.indexOf(Z);Ie!==-1?he[qe]=Ee[Ie]:he[qe]=Te(Z)}}return J.pop(),Ee.pop(),he}}}),tt=p=>(A,P)=>A[`node${p}`]===P[`node${p}`],H=tt("Name"),_e=tt("Type"),$e=tt("Value");function Se(p,A){if(p.attributes.length===0&&A.attributes.length===0)return[];let P=[],W=new Map,te=new Map;for(let K of p.attributes)W.set(K.name,K.value);for(let K of A.attributes){let J=W.get(K.name);K.value===J?W.delete(K.name):(typeof J<"u"&&W.delete(K.name),te.set(K.name,K.value))}for(let K of W.keys())P.push({type:5,name:K});for(let[K,J]of te.entries())P.push({type:4,name:K,value:J});return P}function Ue(p,A=!0){let P=`${p.localName}`;for(let{name:W,value:te}of p.attributes)A&&W.startsWith("data-")||(P+=`[${W}=${te}]`);return P+=p.innerHTML,P}function He(p){switch(p.tagName){case"BASE":case"TITLE":return p.localName;case"META":{if(p.hasAttribute("name"))return`meta[name="${p.getAttribute("name")}"]`;if(p.hasAttribute("property"))return`meta[name="${p.getAttribute("property")}"]`;break}case"LINK":{if(p.hasAttribute("rel")&&p.hasAttribute("href"))return`link[rel="${p.getAttribute("rel")}"][href="${p.getAttribute("href")}"]`;if(p.hasAttribute("href"))return`link[href="${p.getAttribute("href")}"]`;break}}return Ue(p)}function nt(p){let[A,P=""]=p.split("?");return`${A}?t=${Date.now()}&${P.replace(/t=\d+/g,"")}`}function Je(p){if(p.nodeType===1&&p.hasAttribute("data-persist"))return p;if(p.nodeType===1&&p.localName==="script"){let A=document.createElement("script");for(let{name:P,value:W}of p.attributes)P==="src"&&(W=nt(W)),A.setAttribute(P,W);return A.innerHTML=p.innerHTML,A}return p.cloneNode(!0)}function ht(p,A){if(p.children.length===0&&A.children.length===0)return[];let P=[],W=new Map,te=new Map,K=new Map;for(let J of p.children)W.set(He(J),J);for(let J of A.children){let Ee=He(J),Oe=W.get(Ee);Oe?Ue(J,!1)!==Ue(Oe,!1)&&te.set(Ee,Je(J)):K.set(Ee,Je(J)),W.delete(Ee)}for(let J of p.childNodes){if(J.nodeType===1){let Ee=He(J);if(W.has(Ee)){P.push({type:1});continue}else if(te.has(Ee)){let Oe=te.get(Ee);P.push({type:3,attributes:Se(J,Oe),children:ut(J,Oe)});continue}}P.push(void 0)}for(let J of K.values())P.push({type:0,node:Je(J)});return P}function ut(p,A){let P=[],W=Math.max(p.childNodes.length,A.childNodes.length);for(let te=0;te<W;te++){let K=p.childNodes.item(te),J=A.childNodes.item(te);P[te]=rt(K,J)}return P}function rt(p,A){if(!p)return{type:0,node:Je(A)};if(!A)return{type:1};if(_e(p,A)){if(p.nodeType===3){let P=p.nodeValue,W=A.nodeValue;if(P.trim().length===0&&W.trim().length===0)return}if(p.nodeType===1){if(H(p,A)){let P=p.tagName==="HEAD"?ht:ut;return{type:3,attributes:Se(p,A),children:P(p,A)}}return{type:2,node:Je(A)}}else return p.nodeType===9?rt(p.documentElement,A.documentElement):$e(p,A)?void 0:{type:2,value:A.nodeValue}}return{type:2,node:Je(A)}}function $(p,A){if(A.length!==0)for(let{type:P,name:W,value:te}of A)P===5?p.removeAttribute(W):P===4&&p.setAttribute(W,te)}async function F(p,A,P){if(!A)return;let W;switch(p.nodeType===9?(p=p.documentElement,W=p):P?W=P:W=p,A.type){case 0:{let{node:te}=A;p.appendChild(te);return}case 1:{if(!W)return;p.removeChild(W);return}case 2:{if(!W)return;let{node:te,value:K}=A;if(typeof K=="string"){W.nodeValue=K;return}W.replaceWith(te);return}case 3:{if(!W)return;let{attributes:te,children:K}=A;$(W,te);let J=Array.from(W.childNodes);await Promise.all(K.map((Ee,Oe)=>F(W,Ee,J[Oe])));return}}}function le(p,A){let P=rt(p,A);return F(p,P)}var U=Object.hasOwnProperty,ue=Ke(Ze(),1),ce=(0,ue.default)();function E(p){return p.document.body.dataset.slug}var x=(p,A,P)=>{let W=new URL(p.getAttribute(A),P);p.setAttribute(A,W.pathname+W.hash)};function S(p,A){p.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(P=>x(P,"href",A)),p.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(P=>x(P,"src",A))}var _=/<link rel="canonical" href="([^"]*)">/;async function X(p){let A=new URL(p);A.searchParams.set("_t",Date.now().toString());let P=await fetch(`${A}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!P.headers.get("content-type")?.startsWith("text/html"))return P;let W=await P.clone().text(),[te,K]=W.match(_)??[];if(K){let J=new URL(K,p);return J.searchParams.set("_t",Date.now().toString()),fetch(`${J}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}})}return P}var Y=1,ee=document.createElement("route-announcer"),Ce=p=>p?.nodeType===Y,ge=p=>{try{let A=new URL(p);if(window.location.origin===A.origin)return!0}catch{}return!1},ye=p=>{let A=p.origin===window.location.origin,P=p.pathname===window.location.pathname;return A&&P},Le=({target:p})=>{if(!Ce(p)||p.attributes.getNamedItem("target")?.value==="_blank")return;let A=p.closest("a");if(!A||"routerIgnore"in A.dataset)return;let{href:P}=A;if(ge(P))return{url:new URL(P),scroll:"routerNoscroll"in A.dataset?!1:void 0}};function re(p){let A=new CustomEvent("nav",{detail:{url:p}});document.dispatchEvent(A)}var L=new Set;window.addCleanup=p=>L.add(p);function T(){let p=document.createElement("div");p.className="navigation-progress",p.style.width="0",document.body.contains(p)||document.body.appendChild(p),setTimeout(()=>{p.style.width="80%"},100)}var B=!1,de;async function I(p,A=!1){B=!0,T(),de=de||new DOMParser;let P=await X(p).then(J=>{if(J.headers.get("content-type")?.startsWith("text/html"))return J.text();window.location.assign(p)}).catch(()=>{window.location.assign(p)});if(!P)return;let W=new CustomEvent("prenav",{detail:{}});document.dispatchEvent(W),L.forEach(J=>J()),L.clear();let te=de.parseFromString(P,"text/html");S(te,p);let K=te.querySelector("title")?.textContent;if(K)document.title=K;else{let J=document.querySelector("h1");K=J?.innerText??J?.textContent??p.pathname}ee.textContent!==K&&(ee.textContent=K),ee.dataset.persist="",te.body.appendChild(ee),le(document.body,te.body),A||(p.hash?document.getElementById(decodeURIComponent(p.hash.substring(1)))?.scrollIntoView():window.scrollTo({top:0})),document.head.querySelectorAll(":not([spa-preserve])").forEach(J=>J.remove()),te.head.querySelectorAll(":not([spa-preserve])").forEach(J=>document.head.appendChild(J)),A||history.pushState({},"",p),re(E(window)),delete ee.dataset.persist}async function we(p,A=!1){if(!B){B=!0;try{await I(p,A)}catch(P){console.error(P),window.location.assign(p)}finally{B=!1}}}window.spaNavigate=we;function Fe(){return typeof window<"u"&&(window.addEventListener("click",async p=>{let{url:A}=Le(p)??{};if(!(!A||p.ctrlKey||p.metaKey)){if(p.preventDefault(),ye(A)&&A.hash){document.getElementById(decodeURIComponent(A.hash.substring(1)))?.scrollIntoView(),history.pushState({},"",A);return}we(A,!1)}}),window.addEventListener("popstate",p=>{let{url:A}=Le(p)??{};window.location.hash&&window.location.pathname===A?.pathname||we(new URL(window.location.toString()),!0)})),new class{go(p){let A=new URL(p,window.location.toString());return we(A,!1)}back(){return window.history.back()}forward(){return window.history.forward()}}}if(Fe(),re(E(window)),!customElements.get("route-announcer")){let p={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[A,P]of Object.entries(p))this.setAttribute(A,P)}})}})();
