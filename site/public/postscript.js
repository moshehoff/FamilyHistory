(function(){var Me='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',ve='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>';document.addEventListener("nav",()=>{let De=document.getElementsByTagName("pre");for(let Ge=0;Ge<De.length;Ge++){let We=De[Ge].getElementsByTagName("code")[0];if(We){let Fe=function(){navigator.clipboard.writeText(Ze).then(()=>{Le.blur(),Le.innerHTML=ve,setTimeout(()=>{Le.innerHTML=Me,Le.style.borderColor=""},2e3)},Ve=>console.error(Ve))};var $e=Fe;let Ze=(We.dataset.clipboard?JSON.parse(We.dataset.clipboard):We.innerText).replace(/\n\n/g,`
`),Le=document.createElement("button");Le.className="clipboard-button",Le.type="button",Le.innerHTML=Me,Le.ariaLabel="Copy source",Le.addEventListener("click",Fe),window.addCleanup(()=>Le.removeEventListener("click",Fe)),De[Ge].prepend(Le)}}})})(),(function(){const Me=document.querySelector(".navbar-toggle"),ve=document.querySelector(".navbar-menu");Me&&ve&&(Me.addEventListener("click",function(){this.classList.toggle("active"),ve.classList.toggle("active")}),document.addEventListener("click",function($e){!(Me.contains($e.target)||ve.contains($e.target))&&ve.classList.contains("active")&&(Me.classList.remove("active"),ve.classList.remove("active"))}),ve.querySelectorAll("a").forEach(function($e){$e.addEventListener("click",function(){Me.classList.remove("active"),ve.classList.remove("active")})}))})(),(function(){let Me=[],ve=null,De={},$e=!0;function Ge(Ze){return/[÷ê-◊ø]/.test(Ze)}function We(){document.querySelectorAll(".chapter-tab-pane p, .chapter-tab-pane strong, .chapter-tab-pane em, article p, article strong, article em").forEach(function(Le){const Ve=Le.textContent||"";Ge(Ve)&&(Le.setAttribute("dir","rtl"),Le.style.textAlign="right")})}function Fe(){console.log("[ProfileTabs] initProfileTabs() called"),setTimeout(We,100),$e=!0,Me.forEach(function(R){R()}),Me=[];const Ze=document.querySelector(".profile-tabs");if(console.log("[ProfileTabs] profileTabs element:",Ze),!Ze){console.log("[ProfileTabs] No profileTabs found, skipping");return}const Le=Ze.getAttribute("data-profile-id");let Ve=Ze.getAttribute("data-base-path")||"";Ve&&!Ve.endsWith("/")&&(Ve=Ve+"/");const Qe=document.querySelectorAll(".tab-button"),F=document.querySelectorAll(".tab-pane"),Oe=document.getElementById("media-tab-button");window.innerWidth<=768&&Qe.forEach(function(R){const K=R.textContent.trim();R.textContent=K.replace(/üìñ|üñºÔ∏è/g,"").trim()});let Re=!1;if(console.log("[ProfileTabs] Initializing, profileId:",Le,"basePath:",Ve),!Le)return;function Te(){fetch(Ve+"static/chapters-index.json").then(function(R){return R.ok?R.json():(console.log("[ProfileTabs] No chapters index found"),null)}).then(function(R){R&&(ve=R[Le]||null,ve&&(console.log("[ProfileTabs] Found chapters for profile",Le,ve),setTimeout(function(){Ke(ve)},200)))}).catch(function(R){console.log("[ProfileTabs] Error loading chapters index:",R)})}function ze(){fetch(Ve+"static/media-index.json").then(function(R){return R.ok?R.json():(console.log("[ProfileTabs] No media index found"),null)}).then(function(R){if(!R)return;const K=R.images[Le]||[],ye=R.documents[Le]||[];console.log("[ProfileTabs] Found",K.length,"images and",ye.length,"documents for profile",Le),K.length>0||ye.length>0?Oe&&(Oe.style.display="block"):Oe&&(Oe.style.display="none")}).catch(function(R){console.log("[ProfileTabs] Error checking media content:",R),Oe&&(Oe.style.display="none")})}ze();function Xe(){const R=document.querySelector(".profile-tabs"),K=document.querySelector("article");R&&K&&R.parentElement!==K&&(K.appendChild(R),console.log("[ProfileTabs] Moved ProfileTabs to article"))}function ot(){const R=document.querySelector(".profile-tabs"),K=document.querySelector('[data-tab-content="biography"]'),ye=document.querySelector("article");if(!R||!K||!ye){console.log("[ProfileTabs] Cannot find required elements");return}R.parentElement!==ye&&(ye.appendChild(R),console.log("[ProfileTabs] Moved ProfileTabs to article"));const j=Array.from(ye.children);let d=-1;for(let k=0;k<j.length;k++)if(j[k]===R){d=k;break}if(d>0){const k=[];for(let S=0;S<d;S++)k.push(j[S]);const M=[];let Z=!1;console.log("[ProfileTabs] elementsToMove count:",k.length),k.forEach(function(S,N){if(console.log("[ProfileTabs] Processing element",N,":",S.tagName,S.textContent?S.textContent.substring(0,50):""),Z){Z=!1;return}if(S.tagName&&S.tagName.toLowerCase()==="h2"&&S.textContent&&S.textContent.trim()==="Biography"){const de=S.nextElementSibling;if(de&&de.textContent&&de.textContent.includes("chapters will be loaded")){console.log("[ProfileTabs] Removing placeholder Biography heading and text"),Z=!0,de.remove(),S.remove();return}else{console.log("[ProfileTabs] Removing Biography heading (keeping content after)"),S.remove();return}}if(S.tagName&&S.tagName.toLowerCase()==="p"&&S.textContent&&S.textContent.includes("chapters will be loaded")){console.log("[ProfileTabs] Removing placeholder paragraph"),S.remove();return}console.log("[ProfileTabs] Keeping element:",S.tagName),M.push(S)});const ge=M.filter(function(S){return S.parentElement!==null}),D=[],oe=[],Q=[],X=[];ge.forEach(function(S){const N=S.tagName?S.tagName.toLowerCase():"",de=S.className?S.className.toString():"";N==="dl"||N==="div"&&S.querySelector("dl")?D.push(S):N==="h2"&&S.getAttribute("id")&&!S.getAttribute("id").includes("biography")||de.includes("mermaid")||S.querySelector(".mermaid")||S.querySelector("mermaid")||N==="code"&&S.textContent&&S.textContent.includes("graph")?oe.push(S):N==="p"||N==="ul"||N==="ol"||N==="blockquote"||N==="div"||N==="pre"?Q.push(S):X.push(S)});const xe=D.concat(oe).concat(Q).concat(X),V=K.querySelector("h2");if(V&&V.textContent&&(V.textContent.trim()==="Biography"||V.textContent.trim().includes("Biography"))){const S=V.nextElementSibling;S&&S.textContent&&S.textContent.includes("chapters will be loaded")&&S.remove(),V.remove()}K.querySelectorAll("p").forEach(function(S){S.textContent&&S.textContent.includes("chapters will be loaded")&&S.remove()});const H=K.querySelector(".chapter-tabs-container");Array.from(K.children).forEach(function(S){S!==H&&S.remove()}),xe.forEach(function(S){H?K.insertBefore(S,H):K.appendChild(S)}),console.log("[ProfileTabs] Moved",xe.length,"elements to Biography tab (sorted)"),setTimeout(function(){window.mermaid&&(K.querySelectorAll(".mermaid, mermaid, code.language-mermaid").forEach(function(N){try{if(!N.hasAttribute("data-processed"))if(N.tagName&&N.tagName.toLowerCase()==="code"){const de=N.textContent;if(de){const Pe=document.createElement("div");Pe.className="mermaid",Pe.textContent=de,N.parentElement.replaceChild(Pe,N),window.mermaid.init(void 0,Pe),Pe.setAttribute("data-processed","true")}}else window.mermaid.init(void 0,N),N.setAttribute("data-processed","true")}catch(de){console.log("[ProfileTabs] Error initializing Mermaid:",de)}}),window.mermaid&&typeof window.mermaid.run=="function"&&window.mermaid.run())},500)}}setTimeout(function(){Xe(),ot()},100),Te();function Ke(R){const K=document.querySelector('[data-tab-content="biography"]');if(!K)return;const ye=K.querySelector(".chapter-tabs-container");ye&&ye.remove();const j=document.createElement("div");j.className="chapter-tabs-container";const d=document.createElement("h2");d.className="biography-heading",d.textContent="Biography",j.appendChild(d);const k=document.createElement("div");k.className="chapter-tabs-header";const M=document.createElement("div");if(M.className="chapter-tabs-content",R.main){const D=document.createElement("button");D.className="chapter-tab-button active",D.setAttribute("data-chapter-tab","introduction"),D.setAttribute("data-chapter-slug",R.main.slug),D.textContent=window.innerWidth<=768?"Introduction":"\u{1F4D6} Introduction",k.appendChild(D);const oe=document.createElement("div");oe.className="chapter-tab-pane active",oe.setAttribute("data-chapter-tab-content","introduction"),oe.setAttribute("data-chapter-slug",R.main.slug),oe.innerHTML='<div class="loading-message">Loading chapter...</div>',M.appendChild(oe)}R.chapters.forEach(function(D,oe){const Q=document.createElement("button");Q.className="chapter-tab-button",Q.setAttribute("data-chapter-tab","chapter-"+(oe+1)),Q.setAttribute("data-chapter-slug",D.slug),Q.textContent=window.innerWidth<=768?D.title:"\u{1F4C4} "+D.title,k.appendChild(Q);const X=document.createElement("div");X.className="chapter-tab-pane",X.setAttribute("data-chapter-tab-content","chapter-"+(oe+1)),X.setAttribute("data-chapter-slug",D.slug),X.innerHTML='<div class="loading-message">Loading chapter...</div>',M.appendChild(X)}),j.appendChild(k),j.appendChild(M);const Z=Array.from(K.children).filter(function(D){return!D.classList.contains("chapter-tabs-container")});if(Z.length>0){const D=Z[Z.length-1];K.insertBefore(j,D.nextSibling)}else K.appendChild(j);setTimeout(function(){document.querySelectorAll(".chapter-tab-button").forEach(function(D){const oe=function(){const Q=D.getAttribute("data-chapter-slug");Q&&et(Q)};D.addEventListener("click",oe),Me.push(function(){D.removeEventListener("click",oe)})})},50);const ge=window.location.hash;if(ge&&ge.startsWith("#chapter=")){const D=ge.substring(9);setTimeout(function(){et(D)},100)}else R.main&&setTimeout(function(){et(R.main.slug)},100)}function et(R,K){console.log("[ProfileTabs] Switching to chapter:",R,"fromPopstate:",K),document.querySelectorAll(".chapter-tab-button").forEach(function(M){M.classList.remove("active")}),document.querySelectorAll(".chapter-tab-pane").forEach(function(M){M.classList.remove("active")});const ye=document.querySelector('.chapter-tab-button[data-chapter-slug="'+R+'"]');ye&&ye.classList.add("active");const j=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+R+'"]');j&&j.classList.add("active");const d=document.querySelector('[data-tab="biography"]'),k=document.querySelector('[data-tab-content="biography"]');if(d&&k&&(document.querySelectorAll(".tab-button").forEach(function(M){M.classList.remove("active")}),document.querySelectorAll(".tab-pane").forEach(function(M){M.classList.remove("active")}),d.classList.add("active"),k.classList.add("active")),ft(R),!K){const M=window.location.pathname+"#chapter="+R;$e?(history.replaceState({chapter:R,tab:"biography"},"",M),$e=!1):history.pushState({chapter:R,tab:"biography"},"",M)}setTimeout(function(){const M=document.querySelector(".biography-heading");if(M)M.scrollIntoView({behavior:"smooth",block:"start"});else{const Z=document.querySelector(".chapter-tabs-container");Z&&Z.scrollIntoView({behavior:"smooth",block:"start"})}},100)}function ft(R){if(De[R]){tt(R,De[R]);return}var K=null;if(ve){if(ve.main&&ve.main.slug===R)K=ve.main.filename;else for(var ye=0;ye<ve.chapters.length;ye++)if(ve.chapters[ye].slug===R){K=ve.chapters[ye].filename;break}}var j=K||R+".md";const d=Ve+"static/chapters/"+Le+"/"+j;console.log("[ProfileTabs] Loading chapter:",d,"(slug:",R+")"),fetch(d+"?t="+Date.now()).then(function(k){if(!k.ok)throw console.log("[ProfileTabs] Chapter not found:",d,"status:",k.status),new Error("Chapter not found: "+d);return k.text()}).then(function(k){const M=ut(k,ve,Le,Ve);De[R]=M,tt(R,M)}).catch(function(k){console.log("[ProfileTabs] Error loading chapter:",k);const M=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+R+'"]');M&&(M.innerHTML='<div class="empty-message">Error loading chapter: '+k.message+"</div>")})}function tt(R,K){const ye=document.querySelector('.chapter-tab-pane[data-chapter-slug="'+R+'"]');if(ye){ye.innerHTML=K,setTimeout(We,50);const j=ye.querySelectorAll(".chapter-link");console.log("[ProfileTabs] Found",j.length,"chapter links in",R),j.forEach(function(d){d.addEventListener("click",function(k){k.preventDefault(),k.stopPropagation();const M=d.getAttribute("data-chapter-slug");console.log("[ProfileTabs] Chapter link clicked, target:",M),M&&et(M,!1)})}),setTimeout(function(){window.mermaid&&ye.querySelectorAll(".mermaid, mermaid, code.language-mermaid").forEach(function(k){try{if(!k.hasAttribute("data-processed"))if(k.tagName&&k.tagName.toLowerCase()==="code"){const M=k.textContent;if(M){const Z=document.createElement("div");Z.className="mermaid",Z.textContent=M,k.parentElement.replaceChild(Z,k),window.mermaid.init(void 0,Z),Z.setAttribute("data-processed","true")}}else window.mermaid.init(void 0,k),k.setAttribute("data-processed","true")}catch(M){console.log("[ProfileTabs] Error initializing Mermaid:",M)}})},100)}}function ut(R,K,ye,j){var d=R,k="`",M=k+k+k+"(\\w+)?\\s*([\\s\\S]*?)"+k+k+k,Z=new RegExp(M,"g");d=d.replace(Z,function(_,$,ue){ue=ue.replace(/^\n+|\n+$/g,""),ue=ue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var ke=$?' class="language-'+$+'"':"";return"<pre><code"+ke+">"+ue+"</code></pre>"}),d=d.replace(/!\[\[([^\]]+)\]\]/g,function(_,$){var ue=$.split("/").pop(),ke=ue.replace(/[ _]/g,"-"),Ne=j||"",_e=Ne+ke,ae=Ne+encodeURIComponent(ue),Ee=ue.replace(/"/g,"&quot;");return'<img src="'+_e+'" alt="'+Ee+'" onerror="this.src=&quot;'+ae+'&quot;">'});var ge="";if(typeof window<"u"){var D=window.location.pathname;if(D.indexOf("/profiles/")>0){var oe=D.substring(0,D.indexOf("/profiles/"));oe&&oe!==""&&oe!=="/"&&(ge=oe)}}var Q=new RegExp("\\[([^\\]]+)\\]\\((\\/profiles\\/[^)]+)\\)","g");d=d.replace(Q,function(_,$,ue){return'<a href="'+ge+ue+'">'+$+"</a>"}),d=d.replace(/\[\[([^\]]+)\]\]/g,function(_,$){var ue=$.split("|"),ke=ue[0].trim(),Ne=ue.length>1?ue[1].trim():ke,_e=null;if(K){var ae=ke.toLowerCase().replace(/_/g,"-");if(K.main&&(K.main.slug===ae||K.main.name.toLowerCase()===ae||K.main.filename.toLowerCase().replace(".md","")===ae))_e=K.main.slug;else for(var Ee=0;Ee<K.chapters.length;Ee++){var ee=K.chapters[Ee],he=ee.name.toLowerCase().replace(/_/g,"-"),Se=ee.filename.toLowerCase().replace(".md","").replace(/_/g,"-");if(ee.slug===ae||he===ae||Se===ae||ee.title.toLowerCase()===ae){_e=ee.slug;break}var G=ae.replace(/^\d+-/,""),Ie=he.replace(/^\d+-/,""),rt=Se.replace(/^\d+-/,"");if(G===Ie||G===rt){_e=ee.slug;break}}_e||(_e=ae)}else _e=ke.replace(/_/g,"-").toLowerCase();return'<a href="javascript:void(0)" class="chapter-link" data-chapter-slug="'+_e+'">'+Ne+"</a>"});var Pe=[],X=0;d=d.replace(/<img[^>]*>/g,function(_){var $="___HTML_BLOCK_"+X+"___";return Pe[X]=_,X++,$}),d=d.replace(/<(a|pre|code)([^>]*)>([\s\S]*?)<\/\1>/g,function(_){var $="___HTML_BLOCK_"+X+"___";return Pe[X]=_,X++,$}),d=d.replace(/^### (.*$)/gim,"<h3>$1</h3>"),d=d.replace(/^## (.*$)/gim,"<h2>$1</h2>"),d=d.replace(/^# (.*$)/gim,"<h1>$1</h1>");for(var xe=d.split(/(___HTML_BLOCK_\d+___)/),V=0;V<xe.length;V++)xe[V].match(/^___HTML_BLOCK_\d+___$/)||(xe[V]=xe[V].replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),xe[V]=xe[V].replace(/\*(.*?)\*/g,"<em>$1</em>"),xe[V]=xe[V].replace(/\b_(.*?)_\b/g,"<em>$1</em>"));d=xe.join(""),d=d.replace(/___HTML_BLOCK_(\d+)___/g,function(_,$){return Pe[parseInt($)]});for(var ce=d.split(`
`),H=!1,U="",S=[],V=0;V<ce.length;V++){var N=ce[V],de=N.match(/^(\d+)\.\s+(.*)$/);de?(H||(H=!0,U="<ol>"),U+="<li>"+de[2]+"</li>"):(H&&(U+="</ol>",S.push(U),U="",H=!1),S.push(N))}H&&(U+="</ol>",S.push(U)),d=S.join(`
`),d=d.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),d=d.replace(/  \n/g,`<br>
`);var Pe=[],y=0,L="___HTML_BLOCK_PLACEHOLDER___",T=new RegExp("<((div|blockquote|pre|ul|ol|table)[^>]*)>([sS]*?)</(div|blockquote|pre|ul|ol|table)>","gi");d=d.replace(T,function(_,$,ue,ke,Ne){var _e=L+y+"___";return Pe[y]=_,y++,_e});var ne=d.split(/\n\n/);d=ne.map(function(_){if(_=_.trim(),!_)return"";var $=_.match(new RegExp(L+"(d+)___"));if($){var ue=parseInt($[1]);return Pe[ue]}return _.match(/^<(div|blockquote|pre|ul|ol|table|h[1-6]|hr)/i)||_.match(/^<\//)||_.match(/^<[^>]+>.*<\/[^>]+>$/)?_:_&&!_.match(/^<[h|d|u|o|l]/)?"<p>"+_+"</p>":_}).join(`
`);var re=/`([^`]+)`/g;return d=d.replace(re,"<code>$1</code>"),d}function He(R){console.log("[ProfileTabs] Loading media for profile:",R);const K=document.querySelector('[data-tab-content="media"]'),ye=K?K.querySelector("#media-content"):document.getElementById("media-content");if(!ye){console.log("[ProfileTabs] media-content not found");return}const j=document.querySelector(".profile-tabs");let d=j&&j.getAttribute("data-base-path")||"";d&&!d.endsWith("/")&&(d=d+"/");const k=d+"static/documents/"+R+"/";fetch(d+"static/media-index.json").then(function(M){if(!M.ok)throw new Error("No media index");return M.json()}).then(function(M){const Z=M.images[R]||[],ge=M.documents[R]||[];if(console.log("[ProfileTabs] Found",Z.length,"images and",ge.length,"documents"),Z.length===0&&ge.length===0){ye.innerHTML='<div class="empty-message">No images or documents available</div>';return}if(ye.innerHTML="",Z.length>0){const D=document.createElement("div");D.className="media-section",D.innerHTML='<h3>Images</h3><div class="gallery-grid"></div>',ye.appendChild(D);const oe=D.querySelector(".gallery-grid");Z.forEach(function(Q){const X=document.createElement("div");X.className="gallery-item",X.innerHTML='<img src="'+k+Q.filename+'" alt="'+(Q.caption||"")+'">'+(Q.caption?'<div class="image-caption">'+Q.caption+"</div>":""),X.addEventListener("click",function(){window.open(k+Q.filename,"_blank")}),oe.appendChild(X)})}if(ge.length>0){const D=document.createElement("div");D.className="media-section",D.innerHTML='<h3>Documents</h3><div class="documents-list"></div>',ye.appendChild(D);const oe=D.querySelector(".documents-list");ge.forEach(function(Q){const X=document.createElement("div");X.className="document-item";const xe=nt(Q.filename);X.innerHTML='<div class="document-icon">'+xe+'</div><div class="document-info"><div class="document-name">'+(Q.title||Q.filename)+'</div><div class="document-meta">'+(Q.description||"")+'</div></div><a href="'+k+Q.filename+'" download class="document-download">Download</a>',oe.appendChild(X)})}}).catch(function(M){console.log("[ProfileTabs] Media loading error:",M),ye.innerHTML='<div class="empty-message">Error loading gallery</div>'})}function nt(R){const K=R.split(".").pop().toLowerCase();return{pdf:"\u{1F4D5}",doc:"\u{1F4D8}",docx:"\u{1F4D8}",xls:"\u{1F4CA}",xlsx:"\u{1F4CA}",txt:"\u{1F4C4}",jpg:"\u{1F5BC}\uFE0F",jpeg:"\u{1F5BC}\uFE0F",png:"\u{1F5BC}\uFE0F",gif:"\u{1F5BC}\uFE0F"}[K]||"\u{1F4C4}"}Qe.forEach(function(R){const K=function(){const ye=R.getAttribute("data-tab");console.log("[ProfileTabs] Switching to tab:",ye),Qe.forEach(function(d){d.classList.remove("active")}),F.forEach(function(d){d.classList.remove("active")}),R.classList.add("active");const j=document.querySelector('[data-tab-content="'+ye+'"]');j&&j.classList.add("active"),ye==="media"&&!Re&&Le&&(He(Le),Re=!0)};R.addEventListener("click",K),Me.push(function(){R.removeEventListener("click",K)})}),window.addEventListener("popstate",function(R){console.log("[ProfileTabs] Popstate event:",R.state,"hash:",window.location.hash);const K=window.location.hash;if(K&&K.startsWith("#chapter=")){const ye=K.substring(9);console.log("[ProfileTabs] Restoring chapter from popstate:",ye),et(ye,!0)}else(!K||K==="#")&&(console.log("[ProfileTabs] No hash, showing introduction"),ve&&ve.main&&et(ve.main.slug,!0))})}Fe(),document.addEventListener("nav",function(){Fe()})})(),(function(){var Me=Object.create,ve=Object.defineProperty,De=Object.getOwnPropertyDescriptor,$e=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty,Fe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ze=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of $e(t))!We.call(e,r)&&r!==n&&ve(e,r,{get:()=>t[r],enumerable:!(i=De(t,r))||i.enumerable});return e},Le=(e,t,n)=>(n=e!=null?Me(Ge(e)):{},Ze(t||!e||!e.__esModule?ve(n,"default",{value:e,enumerable:!0}):n,e)),Ve=Fe(()=>{}),Qe=Fe((e,t)=>{"use strict";t.exports=i;function n(o){return o instanceof Buffer?Buffer.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function i(o){if(o=o||{},o.circles)return r(o);let s=new Map;if(s.set(Date,p=>new Date(p)),s.set(Map,(p,C)=>new Map(c(Array.from(p),C))),s.set(Set,(p,C)=>new Set(c(Array.from(p),C))),o.constructorHandlers)for(let p of o.constructorHandlers)s.set(p[0],p[1]);let l=null;return o.proto?g:u;function c(p,C){let f=Object.keys(p),v=new Array(f.length);for(let w=0;w<f.length;w++){let m=f[w],I=p[m];typeof I!="object"||I===null?v[m]=I:I.constructor!==Object&&(l=s.get(I.constructor))?v[m]=l(I,C):ArrayBuffer.isView(I)?v[m]=n(I):v[m]=C(I)}return v}function u(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,u);if(p.constructor!==Object&&(l=s.get(p.constructor)))return l(p,u);let C={};for(let f in p){if(Object.hasOwnProperty.call(p,f)===!1)continue;let v=p[f];typeof v!="object"||v===null?C[f]=v:v.constructor!==Object&&(l=s.get(v.constructor))?C[f]=l(v,u):ArrayBuffer.isView(v)?C[f]=n(v):C[f]=u(v)}return C}function g(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,g);if(p.constructor!==Object&&(l=s.get(p.constructor)))return l(p,g);let C={};for(let f in p){let v=p[f];typeof v!="object"||v===null?C[f]=v:v.constructor!==Object&&(l=s.get(v.constructor))?C[f]=l(v,g):ArrayBuffer.isView(v)?C[f]=n(v):C[f]=g(v)}return C}}function r(o){let s=[],l=[],c=new Map;if(c.set(Date,f=>new Date(f)),c.set(Map,(f,v)=>new Map(g(Array.from(f),v))),c.set(Set,(f,v)=>new Set(g(Array.from(f),v))),o.constructorHandlers)for(let f of o.constructorHandlers)c.set(f[0],f[1]);let u=null;return o.proto?C:p;function g(f,v){let w=Object.keys(f),m=new Array(w.length);for(let I=0;I<w.length;I++){let q=w[I],te=f[q];if(typeof te!="object"||te===null)m[q]=te;else if(te.constructor!==Object&&(u=c.get(te.constructor)))m[q]=u(te,v);else if(ArrayBuffer.isView(te))m[q]=n(te);else{let fe=s.indexOf(te);fe!==-1?m[q]=l[fe]:m[q]=v(te)}}return m}function p(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return g(f,p);if(f.constructor!==Object&&(u=c.get(f.constructor)))return u(f,p);let v={};s.push(f),l.push(v);for(let w in f){if(Object.hasOwnProperty.call(f,w)===!1)continue;let m=f[w];if(typeof m!="object"||m===null)v[w]=m;else if(m.constructor!==Object&&(u=c.get(m.constructor)))v[w]=u(m,p);else if(ArrayBuffer.isView(m))v[w]=n(m);else{let I=s.indexOf(m);I!==-1?v[w]=l[I]:v[w]=p(m)}}return s.pop(),l.pop(),v}function C(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return g(f,C);if(f.constructor!==Object&&(u=c.get(f.constructor)))return u(f,C);let v={};s.push(f),l.push(v);for(let w in f){let m=f[w];if(typeof m!="object"||m===null)v[w]=m;else if(m.constructor!==Object&&(u=c.get(m.constructor)))v[w]=u(m,C);else if(ArrayBuffer.isView(m))v[w]=n(m);else{let I=s.indexOf(m);I!==-1?v[w]=l[I]:v[w]=C(m)}}return s.pop(),l.pop(),v}}}),F;function Oe(e,t,n){let i=typeof n,r=typeof e;if(i!=="undefined"){if(r!=="undefined"){if(n){if(r==="function"&&i===r)return function(l){return e(n(l))};if(t=e.constructor,t===n.constructor){if(t===Array)return n.concat(e);if(t===Map){var o=new Map(n);for(var s of e)o.set(s[0],s[1]);return o}if(t===Set){s=new Set(n);for(o of e.values())s.add(o);return s}}}return e}return n}return r==="undefined"?t:e}function Re(e,t){return typeof e>"u"?t:e}function Te(){return Object.create(null)}function ze(e){return typeof e=="string"}function Xe(e){return typeof e=="object"}function ot(e,t){if(ze(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}var Ke=/[^\p{L}\p{N}]+/u,et=/(\d{3})/g,ft=/(\D)(\d{3})/g,tt=/(\d{3})(\D)/g,ut=/[\u0300-\u036f]/g;function He(e={}){if(!this||this.constructor!==He)return new He(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}F=He.prototype,F.assign=function(e){this.normalize=Oe(e.normalize,!0,this.normalize);let t=e.include,n=t||e.exclude||e.split,i;if(n||n===""){if(typeof n=="object"&&n.constructor!==RegExp){let r="";i=!t,t||(r+="\\p{Z}"),n.letter&&(r+="\\p{L}"),n.number&&(r+="\\p{N}",i=!!t),n.symbol&&(r+="\\p{S}"),n.punctuation&&(r+="\\p{P}"),n.control&&(r+="\\p{C}"),(n=n.char)&&(r+=typeof n=="object"?n.join(""):n);try{this.split=new RegExp("["+(t?"^":"")+r+"]+","u")}catch{this.split=/\s+/}}else this.split=n,i=n===!1||"a1a".split(n).length<2;this.numeric=Oe(e.numeric,i)}else{try{this.split=Oe(this.split,Ke)}catch{this.split=/\s+/}this.numeric=Oe(e.numeric,Oe(this.numeric,!0))}if(this.prepare=Oe(e.prepare,null,this.prepare),this.finalize=Oe(e.finalize,null,this.finalize),n=e.filter,this.filter=typeof n=="function"?n:Oe(n&&new Set(n),null,this.filter),this.dedupe=Oe(e.dedupe,!0,this.dedupe),this.matcher=Oe((n=e.matcher)&&new Map(n),null,this.matcher),this.mapper=Oe((n=e.mapper)&&new Map(n),null,this.mapper),this.stemmer=Oe((n=e.stemmer)&&new Map(n),null,this.stemmer),this.replacer=Oe(e.replacer,null,this.replacer),this.minlength=Oe(e.minlength,1,this.minlength),this.maxlength=Oe(e.maxlength,1024,this.maxlength),this.rtl=Oe(e.rtl,!1,this.rtl),(this.cache=n=Oe(e.cache,!0,this.cache))&&(this.F=null,this.L=typeof n=="number"?n:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(let r of this.matcher.keys())this.h+=(this.h?"|":"")+r;if(this.stemmer)for(let r of this.stemmer.keys())this.A+=(this.A?"|":"")+r;return this},F.addStemmer=function(e,t){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(e,t),this.A+=(this.A?"|":"")+e,this.K=null,this.cache&&nt(this),this},F.addFilter=function(e){return typeof e=="function"?this.filter=e:(this.filter||(this.filter=new Set),this.filter.add(e)),this.cache&&nt(this),this},F.addMapper=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length>1?this.addMatcher(e,t):(this.mapper||(this.mapper=new Map),this.mapper.set(e,t),this.cache&&nt(this),this)},F.addMatcher=function(e,t){return typeof e=="object"?this.addReplacer(e,t):e.length<2&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||(this.matcher=new Map),this.matcher.set(e,t),this.h+=(this.h?"|":"")+e,this.J=null,this.cache&&nt(this),this)},F.addReplacer=function(e,t){return typeof e=="string"?this.addMatcher(e,t):(this.replacer||(this.replacer=[]),this.replacer.push(e,t),this.cache&&nt(this),this)},F.encode=function(e,t){if(this.cache&&e.length<=this.H)if(this.F){if(this.B.has(e))return this.B.get(e)}else this.F=setTimeout(nt,50,this);this.normalize&&(typeof this.normalize=="function"?e=this.normalize(e):e=ut?e.normalize("NFKD").replace(ut,"").toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&e.length>3&&(e=e.replace(ft,"$1 $2").replace(tt,"$1 $2").replace(et,"$1 "));let n=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),i=[],r=Te(),o,s,l=this.split||this.split===""?e.split(this.split):[e];for(let u=0,g,p;u<l.length;u++)if((g=p=l[u])&&!(g.length<this.minlength||g.length>this.maxlength)){if(t){if(r[g])continue;r[g]=1}else{if(o===g)continue;o=g}if(n)i.push(g);else if(!this.filter||(typeof this.filter=="function"?this.filter(g):!this.filter.has(g))){if(this.cache&&g.length<=this.I)if(this.F){var c=this.D.get(g);if(c||c===""){c&&i.push(c);continue}}else this.F=setTimeout(nt,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let C;for(;C!==g&&g.length>2;)C=g,g=g.replace(this.K,f=>this.stemmer.get(f))}if(g&&(this.mapper||this.dedupe&&g.length>1)){c="";for(let C=0,f="",v,w;C<g.length;C++)v=g.charAt(C),v===f&&this.dedupe||((w=this.mapper&&this.mapper.get(v))||w===""?w===f&&this.dedupe||!(f=w)||(c+=w):c+=f=v);g=c}if(this.matcher&&g.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),g=g.replace(this.J,C=>this.matcher.get(C))),g&&this.replacer)for(c=0;g&&c<this.replacer.length;c+=2)g=g.replace(this.replacer[c],this.replacer[c+1]);if(this.cache&&p.length<=this.I&&(this.D.set(p,g),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),g){if(g!==p)if(t){if(r[g])continue;r[g]=1}else{if(s===g)continue;s=g}i.push(g)}}}return this.finalize&&(i=this.finalize(i)||i),this.cache&&e.length<=this.H&&(this.B.set(e,i),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),i};function nt(e){e.F=null,e.B.clear(),e.D.clear()}function R(e,t,n){n||(t||typeof e!="object"?typeof t=="object"&&(n=t,t=0):n=e),n&&(e=n.query||e,t=n.limit||t);let i=""+(t||0);n&&(i+=(n.offset||0)+!!n.context+!!n.suggest+(n.resolve!==!1)+(n.resolution||this.resolution)+(n.boost||0)),e=(""+e).toLowerCase(),this.cache||(this.cache=new K);let r=this.cache.get(e+i);if(!r){let o=n&&n.cache;o&&(n.cache=!1),r=this.search(e,t,n),o&&(n.cache=o),this.cache.set(e+i,r)}return r}function K(e){this.limit=e&&e!==!0?e:1e3,this.cache=new Map,this.h=""}K.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},K.prototype.get=function(e){let t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t},K.prototype.remove=function(e){for(let t of this.cache){let n=t[0];t[1].includes(e)&&this.cache.delete(n)}},K.prototype.clear=function(){this.cache.clear(),this.h=""};var ye={normalize:!1,numeric:!1,dedupe:!1},j={},d=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),k=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),M=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],Z={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,\u00DF:2,d:3,t:3,l:4,m:5,n:5,r:6},ge={Exact:ye,Default:j,Normalize:j,LatinBalance:{mapper:d},LatinAdvanced:{mapper:d,matcher:k,replacer:M},LatinExtra:{mapper:d,replacer:M.concat([/(?!^)[aeo]/g,""]),matcher:k},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let n=0;n<e.length;n++){var t=e[n];let i=t.charAt(0),r=Z[i];for(let o=1,s;o<t.length&&(s=t.charAt(o),s==="h"||s==="w"||!(s=Z[s])||s===r||(i+=s,r=s,i.length!==4));o++);e[n]=i}}},CJK:{split:""},LatinExact:ye,LatinDefault:j,LatinSimple:j};function D(e,t,n,i){let r=[];for(let o=0,s;o<e.index.length;o++)if(s=e.index[o],t>=s.length)t-=s.length;else{t=s[i?"splice":"slice"](t,n);let l=t.length;if(l&&(r=r.length?r.concat(t):t,n-=l,i&&(e.length-=l),!n))break;t=0}return r}function oe(e){if(!this||this.constructor!==oe)return new oe(e);this.index=e?[e]:[],this.length=e?e.length:0;let t=this;return new Proxy([],{get(n,i){if(i==="length")return t.length;if(i==="push")return function(r){t.index[t.index.length-1].push(r),t.length++};if(i==="pop")return function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()};if(i==="indexOf")return function(r){let o=0;for(let s=0,l,c;s<t.index.length;s++){if(l=t.index[s],c=l.indexOf(r),c>=0)return o+c;o+=l.length}return-1};if(i==="includes")return function(r){for(let o=0;o<t.index.length;o++)if(t.index[o].includes(r))return!0;return!1};if(i==="slice")return function(r,o){return D(t,r||0,o||t.length,!1)};if(i==="splice")return function(r,o){return D(t,r||0,o||t.length,!0)};if(i==="constructor")return Array;if(typeof i!="symbol")return(n=t.index[i/2**31|0])&&n[i]},set(n,i,r){return n=i/2**31|0,(t.index[n]||(t.index[n]=[]))[i]=r,t.length++,!0}})}oe.prototype.clear=function(){this.index.length=0},oe.prototype.push=function(){};function Q(e=8){if(!this||this.constructor!==Q)return new Q(e);this.index=Te(),this.h=[],this.size=0,e>32?(this.B=V,this.A=BigInt(e)):(this.B=xe,this.A=e)}Q.prototype.get=function(e){let t=this.index[this.B(e)];return t&&t.get(e)},Q.prototype.set=function(e,t){var n=this.B(e);let i=this.index[n];i?(n=i.size,i.set(e,t),(n-=i.size)&&this.size++):(this.index[n]=i=new Map([[e,t]]),this.h.push(i),this.size++)};function X(e=8){if(!this||this.constructor!==X)return new X(e);this.index=Te(),this.h=[],this.size=0,e>32?(this.B=V,this.A=BigInt(e)):(this.B=xe,this.A=e)}X.prototype.add=function(e){var t=this.B(e);let n=this.index[t];n?(t=n.size,n.add(e),(t-=n.size)&&this.size++):(this.index[t]=n=new Set([e]),this.h.push(n),this.size++)},F=Q.prototype,F.has=X.prototype.has=function(e){let t=this.index[this.B(e)];return t&&t.has(e)},F.delete=X.prototype.delete=function(e){let t=this.index[this.B(e)];t&&t.delete(e)&&this.size--},F.clear=X.prototype.clear=function(){this.index=Te(),this.h=[],this.size=0},F.values=X.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t},F.keys=X.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t},F.entries=X.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t};function xe(e){let t=2**this.A-1;if(typeof e=="number")return e&t;let n=0,i=this.A+1;for(let r=0;r<e.length;r++)n=(n*i^e.charCodeAt(r))&t;return this.A===32?n+2**31:n}function V(e){let t=BigInt(2)**this.A-BigInt(1);var n=typeof e;if(n==="bigint")return e&t;if(n==="number")return BigInt(e)&t;n=BigInt(0);let i=this.A+BigInt(1);for(let r=0;r<e.length;r++)n=(n*i^BigInt(e.charCodeAt(r)))&t;return n}var ce,H;async function U(e){e=e.data;var t=e.task;let n=e.id,i=e.args;switch(t){case"init":H=e.options||{},(t=e.factory)?(Function("return "+t)()(self),ce=new self.FlexSearch.Index(H),delete self.FlexSearch):ce=new ct(H),postMessage({id:n});break;default:let r;t==="export"&&(i[1]?(i[0]=H.export,i[2]=0,i[3]=1):i=null),t==="import"?i[0]&&(e=await H.import.call(ce,i[0]),ce.import(i[0],e)):((r=i&&ce[t].apply(ce,i))&&r.then&&(r=await r),r&&r.await&&(r=await r.await),t==="search"&&r.result&&(r=r.result)),postMessage(t==="search"?{id:n,msg:r}:{id:n})}}function S(e){L.call(e,"add"),L.call(e,"append"),L.call(e,"search"),L.call(e,"update"),L.call(e,"remove"),L.call(e,"searchCache")}var N,de,Pe;function y(){N=Pe=0}function L(e){this[e+"Async"]=function(){let t=arguments;var n=t[t.length-1];let i;if(typeof n=="function"&&(i=n,delete t[t.length-1]),N?Pe||(Pe=Date.now()-de>=this.priority*this.priority*3):(N=setTimeout(y,0),de=Date.now()),Pe){let o=this;return new Promise(s=>{setTimeout(function(){s(o[e+"Async"].apply(o,t))},0)})}let r=this[e].apply(this,t);return n=r.then?r:new Promise(o=>o(r)),i&&n.then(i),n}}var T=0;function ne(e={},t){function n(l){function c(u){u=u.data||u;let g=u.id,p=g&&o.h[g];p&&(p(u.msg),delete o.h[g])}if(this.worker=l,this.h=Te(),this.worker)return r?this.worker.on("message",c):this.worker.onmessage=c,e.config?new Promise(function(u){T>1e9&&(T=0),o.h[++T]=function(){u(o)},o.worker.postMessage({id:T,task:"init",factory:i,options:e})}):(this.priority=e.priority||4,this.encoder=t||null,this.worker.postMessage({task:"init",factory:i,options:e}),this)}if(!this||this.constructor!==ne)return new ne(e);let i=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;i&&(i=i.toString());let r=typeof window>"u",o=this,s=_(i,r,e.worker);return s.then?s.then(function(l){return n.call(o,l)}):n.call(this,s)}re("add"),re("append"),re("search"),re("update"),re("remove"),re("clear"),re("export"),re("import"),ne.prototype.searchCache=R,S(ne.prototype);function re(e){ne.prototype[e]=function(){let t=this,n=[].slice.call(arguments);var i=n[n.length-1];let r;return typeof i=="function"&&(r=i,n.pop()),i=new Promise(function(o){e==="export"&&typeof n[0]=="function"&&(n[0]=null),T>1e9&&(T=0),t.h[++T]=o,t.worker.postMessage({task:e,id:T,args:n})}),r?(i.then(r),this):i}}function _(e,t,n){return t?typeof module<"u"?new(Ve()).Worker(__dirname+"/worker/node.js"):Promise.resolve().then(()=>Le(Ve())).then(function(i){return new i.Worker(import.meta.dirname+"/node/node.mjs")}):e?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+U.toString()],{type:"text/javascript"}))):new window.Worker(typeof n=="string"?n:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"})}mt.prototype.add=function(e,t,n){if(Xe(e)&&(t=e,e=ot(t,this.key)),t&&(e||e===0)){if(!n&&this.reg.has(e))return this.update(e,t);for(let l=0,c;l<this.field.length;l++){c=this.B[l];var i=this.index.get(this.field[l]);if(typeof c=="function"){var r=c(t);r&&i.add(e,r,n,!0)}else r=c.G,(!r||r(t))&&(c.constructor===String?c=[""+c]:ze(c)&&(c=[c]),ue(t,c,this.D,0,i,e,c[0],n))}if(this.tag)for(i=0;i<this.A.length;i++){var o=this.A[i];r=this.tag.get(this.F[i]);let l=Te();if(typeof o=="function"){if(o=o(t),!o)continue}else{var s=o.G;if(s&&!s(t))continue;o.constructor===String&&(o=""+o),o=ot(t,o)}if(r&&o){ze(o)&&(o=[o]);for(let c=0,u,g;c<o.length;c++)if(u=o[c],!l[u]&&(l[u]=1,(s=r.get(u))?g=s:r.set(u,g=[]),!n||!g.includes(e))){if(g.length===2**31-1){if(s=new oe(g),this.fastupdate)for(let p of this.reg.values())p.includes(g)&&(p[p.indexOf(g)]=s);r.set(u,g=s)}g.push(e),this.fastupdate&&((s=this.reg.get(e))?s.push(g):this.reg.set(e,[g]))}}}if(this.store&&(!n||!this.store.has(e))){let l;if(this.h){l=Te();for(let c=0,u;c<this.h.length;c++){if(u=this.h[c],(n=u.G)&&!n(t))continue;let g;if(typeof u=="function"){if(g=u(t),!g)continue;u=[u.O]}else if(ze(u)||u.constructor===String){l[u]=t[u];continue}$(t,l,u,0,u[0],g)}}this.store.set(e,l||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this};function $(e,t,n,i,r,o){if(e=e[r],i===n.length-1)t[r]=o||e;else if(e)if(e.constructor===Array)for(t=t[r]=Array(e.length),r=0;r<e.length;r++)$(e,t,n,i,r);else t=t[r]||(t[r]=Te()),r=n[++i],$(e,t,n,i,r)}function ue(e,t,n,i,r,o,s,l){if(e=e[s])if(i===t.length-1){if(e.constructor===Array){if(n[i]){for(t=0;t<e.length;t++)r.add(o,e[t],!0,!0);return}e=e.join(" ")}r.add(o,e,l,!0)}else if(e.constructor===Array)for(s=0;s<e.length;s++)ue(e,t,n,i,r,o,s,l);else s=t[++i],ue(e,t,n,i,r,o,s,l)}function ke(e,t,n,i){if(!e.length)return e;if(e.length===1)return e=e[0],e=n||e.length>t?e.slice(n,n+t):e,i?lt.call(this,e):e;let r=[];for(let o=0,s,l;o<e.length;o++)if((s=e[o])&&(l=s.length)){if(n){if(n>=l){n-=l;continue}s=s.slice(n,n+t),l=s.length,n=0}if(l>t&&(s=s.slice(0,t),l=t),!r.length&&l>=t)return i?lt.call(this,s):s;if(r.push(s),t-=l,!t)break}return r=r.length>1?[].concat.apply([],r):r[0],i?lt.call(this,r):r}function Ne(e,t,n,i){var r=i[0];if(r[0]&&r[0].query)return e[t].apply(e,r);if(!(t!=="and"&&t!=="not"||e.result.length||e.await||r.suggest))return i.length>1&&(r=i[i.length-1]),(i=r.resolve)?e.await||e.result:e;let o=[],s=0,l=0,c,u,g,p,C;for(t=0;t<i.length;t++)if(r=i[t]){var f=void 0;if(r.constructor===G)f=r.await||r.result;else if(r.then||r.constructor===Array)f=r;else{s=r.limit||0,l=r.offset||0,g=r.suggest,u=r.resolve,c=((p=r.highlight||e.highlight)||r.enrich)&&u,f=r.queue;let v=r.async||f,w=r.index,m=r.query;if(w?e.index||(e.index=w):w=e.index,m||r.tag){let I=r.field||r.pluck;if(I&&(!m||e.query&&!p||(e.query=m,e.field=I,e.highlight=p),w=w.index.get(I)),f&&(C||e.await)){C=1;let q,te=e.C.length,fe=new Promise(function(Ae){q=Ae});(function(Ae,me){fe.h=function(){me.index=null,me.resolve=!1;let be=v?Ae.searchAsync(me):Ae.search(me);return be.then?be.then(function(se){return e.C[te]=se=se.result||se,q(se),se}):(be=be.result||be,q(be),be)}})(w,Object.assign({},r)),e.C.push(fe),o[t]=fe;continue}else r.resolve=!1,r.index=null,f=v?w.searchAsync(r):w.search(r),r.resolve=u,r.index=w}else if(r.and)f=_e(r,"and",w);else if(r.or)f=_e(r,"or",w);else if(r.not)f=_e(r,"not",w);else if(r.xor)f=_e(r,"xor",w);else continue}f.await?(C=1,f=f.await):f.then?(C=1,f=f.then(function(v){return v.result||v})):f=f.result||f,o[t]=f}if(C&&!e.await&&(e.await=new Promise(function(v){e.return=v})),C){let v=Promise.all(o).then(function(w){for(let m=0;m<e.C.length;m++)if(e.C[m]===v){e.C[m]=function(){return n.call(e,w,s,l,c,u,g,p)};break}Ie(e)});e.C.push(v)}else if(e.await)e.C.push(function(){return n.call(e,o,s,l,c,u,g,p)});else return n.call(e,o,s,l,c,u,g,p);return u?e.await||e.result:e}function _e(e,t,n){e=e[t];let i=e[0]||e;return i.index||(i.index=n),n=new G(i),e.length>1&&(n=n[t].apply(n,e.slice(1))),n}G.prototype.or=function(){return Ne(this,"or",ae,arguments)};function ae(e,t,n,i,r,o,s){return e.length&&(this.result.length&&e.push(this.result),e.length<2?this.result=e[0]:(this.result=st(e,t,n,!1,this.h),n=0)),r&&(this.await=null),r?this.resolve(t,n,i,s):this}G.prototype.and=function(){return Ne(this,"and",Ee,arguments)};function Ee(e,t,n,i,r,o,s){if(!o&&!this.result.length)return r?this.result:this;let l;if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{let c=0;for(let u=0,g,p;u<e.length;u++)if((g=e[u])&&(p=g.length))c<p&&(c=p);else if(!o){c=0;break}c?(this.result=rt(e,c,t,n,o,this.h,r),l=!0):this.result=[]}else o||(this.result=e);return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}G.prototype.xor=function(){return Ne(this,"xor",ee,arguments)};function ee(e,t,n,i,r,o,s){if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{e:{o=n;var l=this.h;let c=[],u=Te(),g=0;for(let p=0,C;p<e.length;p++)if(C=e[p]){g<C.length&&(g=C.length);for(let f=0,v;f<C.length;f++)if(v=C[f])for(let w=0,m;w<v.length;w++)m=v[w],u[m]=u[m]?2:1}for(let p=0,C,f=0;p<g;p++)for(let v=0,w;v<e.length;v++)if((w=e[v])&&(C=w[p])){for(let m=0,I;m<C.length;m++)if(I=C[m],u[I]===1)if(o)o--;else if(r){if(c.push(I),c.length===t){e=c;break e}}else{let q=p+(v?l:0);if(c[q]||(c[q]=[]),c[q].push(I),++f===t){e=c;break e}}}e=c}this.result=e,l=!0}else o||(this.result=e);return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}G.prototype.not=function(){return Ne(this,"not",he,arguments)};function he(e,t,n,i,r,o,s){if(!o&&!this.result.length)return r?this.result:this;if(e.length&&this.result.length){e:{o=n;var l=[];e=new Set(e.flat().flat());for(let c=0,u,g=0;c<this.result.length;c++)if(u=this.result[c]){for(let p=0,C;p<u.length;p++)if(C=u[p],!e.has(C)){if(o)o--;else if(r){if(l.push(C),l.length===t){e=l;break e}}else if(l[c]||(l[c]=[]),l[c].push(C),++g===t){e=l;break e}}}e=l}this.result=e,l=!0}return r&&(this.await=null),r?this.resolve(t,n,i,s,l):this}function Se(e,t,n,i,r){let o,s,l;typeof r=="string"?(o=r,r=""):o=r.template,s=o.indexOf("$1"),l=o.substring(s+2),s=o.substring(0,s);let c=r&&r.boundary,u=!r||r.clip!==!1,g=r&&r.merge&&l&&s&&new RegExp(l+" "+s,"g");r=r&&r.ellipsis;var p=0;if(typeof r=="object"){var C=r.template;p=C.length-2,r=r.pattern}typeof r!="string"&&(r=r===!1?"":"..."),p&&(r=C.replace("$1",r)),C=r.length-p;let f,v;typeof c=="object"&&(f=c.before,f===0&&(f=-1),v=c.after,v===0&&(v=-1),c=c.total||9e5),p=new Map;for(let vt=0,Je,Gt,It;vt<t.length;vt++){let Rt;if(i)Rt=t,It=i;else{var w=t[vt];if(It=w.field,!It)continue;Rt=w.result}Gt=n.get(It),Je=Gt.encoder,w=p.get(Je),typeof w!="string"&&(w=Je.encode(e),p.set(Je,w));for(let Xt=0;Xt<Rt.length;Xt++){var m=Rt[Xt].doc;if(!m||(m=ot(m,It),!m))continue;var I=m.trim().split(/\s+/);if(!I.length)continue;m="";var q=[];let Yt=[];for(var te=-1,fe=-1,Ae=0,me=0;me<I.length;me++){var be=I[me],se=Je.encode(be);se=se.length>1?se.join(" "):se[0];let pe;if(se&&be){for(var Ce=be.length,J=(Je.split?be.replace(Je.split,""):be).length-se.length,W="",we=0,qe=0;qe<w.length;qe++){var Be=w[qe];if(Be){var je=Be.length;je+=J,we&&je<=we||(Be=se.indexOf(Be),Be>-1&&(W=(Be?be.substring(0,Be):"")+s+be.substring(Be,Be+je)+l+(Be+je<Ce?be.substring(Be+je):""),we=je,pe=!0))}}W&&(c&&(te<0&&(te=m.length+(m?1:0)),fe=m.length+(m?1:0)+W.length,Ae+=Ce,Yt.push(q.length),q.push({match:W})),m+=(m?" ":"")+W)}if(!pe)be=I[me],m+=(m?" ":"")+be,c&&q.push({text:be});else if(c&&Ae>=c)break}if(Ae=Yt.length*(o.length-2),f||v||c&&m.length-Ae>c)if(Ae=c+Ae-C*2,me=fe-te,f>0&&(me+=f),v>0&&(me+=v),me<=Ae)I=f?te-(f>0?f:0):te-((Ae-me)/2|0),q=v?fe+(v>0?v:0):I+Ae,u||(I>0&&m.charAt(I)!==" "&&m.charAt(I-1)!==" "&&(I=m.indexOf(" ",I),I<0&&(I=0)),q<m.length&&m.charAt(q-1)!==" "&&m.charAt(q)!==" "&&(q=m.lastIndexOf(" ",q),q<fe?q=fe:++q)),m=(I?r:"")+m.substring(I,q)+(q<m.length?r:"");else{for(fe=[],te={},Ae={},me={},be={},se={},W=J=Ce=0,qe=we=1;;){var Ye=void 0;for(let pe=0,Ue;pe<Yt.length;pe++){if(Ue=Yt[pe],W)if(J!==W){if(me[pe+1])continue;if(Ue+=W,te[Ue]){Ce-=C,Ae[pe+1]=1,me[pe+1]=1;continue}if(Ue>=q.length-1){if(Ue>=q.length){me[pe+1]=1,Ue>=I.length&&(Ae[pe+1]=1);continue}Ce-=C}if(m=q[Ue].text,je=v&&se[pe])if(je>0){if(m.length>je)if(me[pe+1]=1,u)m=m.substring(0,je);else continue;(je-=m.length)||(je=-1),se[pe]=je}else{me[pe+1]=1;continue}if(Ce+m.length+1<=c)m=" "+m,fe[pe]+=m;else if(u)Ye=c-Ce-1,Ye>0&&(m=" "+m.substring(0,Ye),fe[pe]+=m),me[pe+1]=1;else{me[pe+1]=1;continue}}else{if(me[pe])continue;if(Ue-=J,te[Ue]){Ce-=C,me[pe]=1,Ae[pe]=1;continue}if(Ue<=0){if(Ue<0){me[pe]=1,Ae[pe]=1;continue}Ce-=C}if(m=q[Ue].text,je=f&&be[pe])if(je>0){if(m.length>je)if(me[pe]=1,u)m=m.substring(m.length-je);else continue;(je-=m.length)||(je=-1),be[pe]=je}else{me[pe]=1;continue}if(Ce+m.length+1<=c)m+=" ",fe[pe]=m+fe[pe];else if(u)Ye=m.length+1-(c-Ce),Ye>=0&&Ye<m.length&&(m=m.substring(Ye)+" ",fe[pe]=m+fe[pe]),me[pe]=1;else{me[pe]=1;continue}}else{m=q[Ue].match,f&&(be[pe]=f),v&&(se[pe]=v),pe&&Ce++;let un;if(Ue?!pe&&C&&(Ce+=C):(Ae[pe]=1,me[pe]=1),Ue>=I.length-1||Ue<q.length-1&&q[Ue+1].match?un=1:C&&(Ce+=C),Ce-=o.length-2,!pe||Ce+m.length<=c)fe[pe]=m;else{Ye=we=qe=Ae[pe]=0;break}un&&(Ae[pe+1]=1,me[pe+1]=1)}Ce+=m.length,Ye=te[Ue]=1}if(Ye)J===W?W++:J++;else{if(J===W?we=0:qe=0,!we&&!qe)break;we?(J++,W=J):W++}}m="";for(let pe=0,Ue;pe<fe.length;pe++)Ue=(pe&&Ae[pe]?" ":(pe&&!r?" ":"")+r)+fe[pe],m+=Ue;r&&!Ae[fe.length]&&(m+=r)}g&&(m=m.replace(g," ")),Rt[Xt].highlight=m}if(i)break}return t}function G(e,t){if(!this||this.constructor!==G)return new G(e,t);let n=0,i,r,o,s,l,c;if(e&&e.index){let u=e;if(t=u.index,n=u.boost||0,r=u.query){o=u.field||u.pluck,s=u.highlight;let g=u.resolve;e=u.async||u.queue,u.resolve=!1,u.index=null,e=e?t.searchAsync(u):t.search(u),u.resolve=g,u.index=t,e=e.result||e}else e=[]}if(e&&e.then){let u=this;e=e.then(function(g){u.C[0]=u.result=g.result||g,Ie(u)}),i=[e],e=[],l=new Promise(function(g){c=g})}this.index=t||null,this.result=e||[],this.h=n,this.C=i||[],this.await=l||null,this.return=c||null,this.highlight=s||null,this.query=r||"",this.field=o||""}F=G.prototype,F.limit=function(e){if(this.await){let t=this;this.C.push(function(){return t.limit(e).result})}else if(this.result.length){let t=[];for(let n=0,i;n<this.result.length;n++)if(i=this.result[n])if(i.length<=e){if(t[n]=i,e-=i.length,!e)break}else{t[n]=i.slice(0,e);break}this.result=t}return this},F.offset=function(e){if(this.await){let t=this;this.C.push(function(){return t.offset(e).result})}else if(this.result.length){let t=[];for(let n=0,i;n<this.result.length;n++)(i=this.result[n])&&(i.length<=e?e-=i.length:(t[n]=i.slice(e),e=0));this.result=t}return this},F.boost=function(e){if(this.await){let t=this;this.C.push(function(){return t.boost(e).result})}else this.h+=e;return this};function Ie(e,t){let n=e.result;var i=e.await;e.await=null;for(let r=0,o;r<e.C.length;r++)if(o=e.C[r]){if(typeof o=="function")n=o(),e.C[r]=n=n.result||n,r--;else if(o.h)n=o.h(),e.C[r]=n=n.result||n,r--;else if(o.then)return e.await=i}return i=e.return,e.C=[],e.return=null,t||i(n),n}F.resolve=function(e,t,n,i,r){let o=this.await?Ie(this,!0):this.result;if(o.then){let s=this;return o.then(function(){return s.resolve(e,t,n,i,r)})}return o.length&&(typeof e=="object"?(i=e.highlight||this.highlight,n=!!i||e.enrich,t=e.offset,e=e.limit):(i=i||this.highlight,n=!!i||n),o=r?n?lt.call(this.index,o):o:ke.call(this.index,o,e||100,t,n)),this.finalize(o,i)},F.finalize=function(e,t){if(e.then){let i=this;return e.then(function(r){return i.finalize(r,t)})}t&&e.length&&this.query&&(e=Se(this.query,e,this.index.index,this.field,t));let n=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",n&&n(e),e};function rt(e,t,n,i,r,o,s){let l=e.length,c=[],u,g;u=Te();for(let p=0,C,f,v,w;p<t;p++)for(let m=0;m<l;m++)if(v=e[m],p<v.length&&(C=v[p]))for(let I=0;I<C.length;I++){if(f=C[I],(g=u[f])?u[f]++:(g=0,u[f]=1),w=c[g]||(c[g]=[]),!s){let q=p+(m||!r?0:o||0);w=w[q]||(w[q]=[])}if(w.push(f),s&&n&&g===l-1&&w.length-i===n)return i?w.slice(i):w}if(e=c.length)if(r)c=c.length>1?st(c,n,i,s,o):(c=c[0])&&n&&c.length>n||i?c.slice(i,n+i):c;else{if(e<l)return[];if(c=c[e-1],n||i)if(s)(c.length>n||i)&&(c=c.slice(i,n+i));else{r=[];for(let p=0,C;p<c.length;p++)if(C=c[p]){if(i&&C.length>i)i-=C.length;else if((n&&C.length>n||i)&&(C=C.slice(i,n+i),n-=C.length,i&&(i-=C.length)),r.push(C),!n)break}c=r}}return c}function st(e,t,n,i,r){let o=[],s=Te(),l;var c=e.length;let u;if(i){for(r=c-1;r>=0;r--)if(u=(i=e[r])&&i.length){for(c=0;c<u;c++)if(l=i[c],!s[l]){if(s[l]=1,n)n--;else if(o.push(l),o.length===t)return o}}}else for(let g=c-1,p,C=0;g>=0;g--){p=e[g];for(let f=0;f<p.length;f++)if(u=(i=p[f])&&i.length){for(let v=0;v<u;v++)if(l=i[v],!s[l])if(s[l]=1,n)n--;else{let w=(f+(g<c-1&&r||0))/(g+1)|0;if((o[w]||(o[w]=[])).push(l),++C===t)return o}}}return o}function dt(e,t,n){let i=Te(),r=[];for(let o=0,s;o<t.length;o++){s=t[o];for(let l=0;l<s.length;l++)i[s[l]]=1}if(n)for(let o=0,s;o<e.length;o++)s=e[o],i[s]&&(r.push(s),i[s]=0);else for(let o=0,s,l;o<e.result.length;o++)for(s=e.result[o],t=0;t<s.length;t++)l=s[t],i[l]&&((r[o]||(r[o]=[])).push(l),i[l]=0);return r}Te(),mt.prototype.search=function(e,t,n,i){n||(!t&&Xe(e)?(n=e,e=""):Xe(t)&&(n=t,t=0));let r=[];var o=[];let s,l,c,u,g,p,C=0,f=!0,v;if(n){n.constructor===Array&&(n={index:n}),e=n.query||e,s=n.pluck,l=n.merge,u=n.boost,p=s||n.field||(p=n.index)&&(p.index?null:p);var w=this.tag&&n.tag;c=n.suggest,f=n.resolve!==!1,g=n.cache,v=f&&this.store&&n.highlight;var m=!!v||f&&this.store&&n.enrich;t=n.limit||t;var I=n.offset||0;if(t||(t=f?100:0),w&&(!this.db||!i)){w.constructor!==Array&&(w=[w]);var q=[];for(let be=0,se;be<w.length;be++)if(se=w[be],se.field&&se.tag){var te=se.tag;if(te.constructor===Array)for(var fe=0;fe<te.length;fe++)q.push(se.field,te[fe]);else q.push(se.field,te)}else{te=Object.keys(se);for(let Ce=0,J,W;Ce<te.length;Ce++)if(J=te[Ce],W=se[J],W.constructor===Array)for(fe=0;fe<W.length;fe++)q.push(J,W[fe]);else q.push(J,W)}if(w=q,!e){if(o=[],q.length)for(w=0;w<q.length;w+=2){if(this.db){if(i=this.index.get(q[w]),!i)continue;o.push(i=i.db.tag(q[w+1],t,I,m))}else i=kt.call(this,q[w],q[w+1],t,I,m);r.push(f?{field:q[w],tag:q[w+1],result:i}:[i])}if(o.length){let be=this;return Promise.all(o).then(function(se){for(let Ce=0;Ce<se.length;Ce++)f?r[Ce].result=se[Ce]:r[Ce]=se[Ce];return f?r:new G(r.length>1?rt(r,1,0,0,c,u):r[0],be)})}return f?r:new G(r.length>1?rt(r,1,0,0,c,u):r[0],this)}}f||s||!(p=p||this.field)||(ze(p)?s=p:(p.constructor===Array&&p.length===1&&(p=p[0]),s=p.field||p.index)),p&&p.constructor!==Array&&(p=[p])}p||(p=this.field);let Ae;q=(this.worker||this.db)&&!i&&[];for(let be=0,se,Ce,J;be<p.length;be++){if(Ce=p[be],this.db&&this.tag&&!this.B[be])continue;let W;if(ze(Ce)||(W=Ce,Ce=W.field,e=W.query||e,t=Re(W.limit,t),I=Re(W.offset,I),c=Re(W.suggest,c),v=f&&this.store&&Re(W.highlight,v),m=!!v||f&&this.store&&Re(W.enrich,m),g=Re(W.cache,g)),i)se=i[be];else{te=W||n||{},fe=te.enrich;var me=this.index.get(Ce);if(w&&(this.db&&(te.tag=w,Ae=me.db.support_tag_search,te.field=p),!Ae&&fe&&(te.enrich=!1)),se=g?me.searchCache(e,t,te):me.search(e,t,te),fe&&(te.enrich=fe),q){q[be]=se;continue}}if(J=(se=se.result||se)&&se.length,w&&J){if(te=[],fe=0,this.db&&i){if(!Ae)for(me=p.length;me<i.length;me++){let we=i[me];if(we&&we.length)fe++,te.push(we);else if(!c)return f?r:new G(r,this)}}else for(let we=0,qe,Be;we<w.length;we+=2){if(qe=this.tag.get(w[we]),!qe){if(c)continue;return f?r:new G(r,this)}if(Be=(qe=qe&&qe.get(w[we+1]))&&qe.length)fe++,te.push(qe);else if(!c)return f?r:new G(r,this)}if(fe){if(se=dt(se,te,f),J=se.length,!J&&!c)return f?se:new G(se,this);fe--}}if(J)o[C]=Ce,r.push(se),C++;else if(p.length===1)return f?r:new G(r,this)}if(q){if(this.db&&w&&w.length&&!Ae)for(m=0;m<w.length;m+=2){if(o=this.index.get(w[m]),!o){if(c)continue;return f?r:new G(r,this)}q.push(o.db.tag(w[m+1],t,I,!1))}let be=this;return Promise.all(q).then(function(se){return n&&(n.resolve=f),se.length&&(se=be.search(e,t,n,se)),se})}if(!C)return f?r:new G(r,this);if(s&&(!m||!this.store))return r=r[0],f?r:new G(r,this);for(q=[],I=0;I<o.length;I++){if(w=r[I],m&&w.length&&typeof w[0].doc>"u"&&(this.db?q.push(w=this.index.get(this.field[0]).db.enrich(w)):w=lt.call(this,w)),s)return f?v?Se(e,w,this.index,s,v):w:new G(w,this);r[I]={field:o[I],result:w}}if(m&&this.db&&q.length){let be=this;return Promise.all(q).then(function(se){for(let Ce=0;Ce<se.length;Ce++)r[Ce].result=se[Ce];return v&&(r=Se(e,r,be.index,s,v)),l?at(r):r})}return v&&(r=Se(e,r,this.index,s,v)),l?at(r):r};function at(e){let t=[],n=Te(),i=Te();for(let r=0,o,s,l,c,u,g,p;r<e.length;r++){o=e[r],s=o.field,l=o.result;for(let C=0;C<l.length;C++)u=l[C],typeof u!="object"?u={id:c=u}:c=u.id,(g=n[c])?g.push(s):(u.field=n[c]=[s],t.push(u)),(p=u.highlight)&&(g=i[c],g||(i[c]=g={},u.highlight=g),g[s]=p)}return t}function kt(e,t,n,i,r){return e=this.tag.get(e),e?(e=e.get(t),e?(t=e.length-i,t>0&&((n&&t>n||i)&&(e=e.slice(i,i+n)),r&&(e=lt.call(this,e))),e):[]):[]}function lt(e){if(!this||!this.store)return e;if(this.db)return this.index.get(this.field[0]).db.enrich(e);let t=Array(e.length);for(let n=0,i;n<e.length;n++)i=e[n],t[n]={id:i,doc:this.store.get(i)};return t}function mt(e){if(!this||this.constructor!==mt)return new mt(e);let t=e.document||e.doc||e,n,i;if(this.B=[],this.field=[],this.D=[],this.key=(n=t.key||t.id)&&xt(n,this.D)||"id",(i=e.keystore||0)&&(this.keystore=i),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?i?new X(i):new Set:i?new Q(i):new Map,this.h=(n=t.store||null)&&n&&n!==!0&&[],this.store=n?i?new Q(i):new Map:null,this.cache=(n=e.cache||null)&&new K(n),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=Nt.call(this,e,t),this.tag=null,(n=t.tag)&&(typeof n=="string"&&(n=[n]),n.length)){this.tag=new Map,this.A=[],this.F=[];for(let r=0,o,s;r<n.length;r++){if(o=n[r],s=o.field||o,!s)throw Error("The tag field from the document descriptor is undefined.");o.custom?this.A[r]=o.custom:(this.A[r]=xt(s,this.D),o.filter&&(typeof this.A[r]=="string"&&(this.A[r]=new String(this.A[r])),this.A[r].G=o.filter)),this.F[r]=s,this.tag.set(s,new Map)}}if(this.worker){this.fastupdate=!1,e=[];for(let r of this.index.values())r.then&&e.push(r);if(e.length){let r=this;return Promise.all(e).then(function(o){let s=0;for(let l of r.index.entries()){let c=l[0],u=l[1];u.then&&(u=o[s],r.index.set(c,u),s++)}return r})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}F=mt.prototype,F.mount=function(e){let t=this.field;if(this.tag)for(let o=0,s;o<this.F.length;o++){s=this.F[o];var n=void 0;this.index.set(s,n=new ct({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(s),n.tag=this.tag.get(s)}n=[];let i={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let o=0,s,l;o<t.length;o++){i.field=l=t[o],s=this.index.get(l);let c=new e.constructor(e.id,i);c.id=e.id,n[o]=c.mount(s),s.document=!0,o?s.bypass=!0:s.store=this.store}let r=this;return this.db=Promise.all(n).then(function(){r.db=!0})},F.commit=async function(){let e=[];for(let t of this.index.values())e.push(t.commit());await Promise.all(e),this.reg.clear()},F.destroy=function(){let e=[];for(let t of this.index.values())e.push(t.destroy());return Promise.all(e)};function Nt(e,t){let n=new Map,i=t.index||t.field||t;ze(i)&&(i=[i]);for(let o=0,s,l;o<i.length;o++){if(s=i[o],ze(s)||(l=s,s=s.field),l=Xe(l)?Object.assign({},e,l):e,this.worker){var r=void 0;r=(r=l.encoder)&&r.encode?r:new He(typeof r=="string"?ge[r]:r||{}),r=new ne(l,r),n.set(s,r)}this.worker||n.set(s,new ct(l,this.reg)),l.custom?this.B[o]=l.custom:(this.B[o]=xt(s,this.D),l.filter&&(typeof this.B[o]=="string"&&(this.B[o]=new String(this.B[o])),this.B[o].G=l.filter)),this.field[o]=s}if(this.h){e=t.store,ze(e)&&(e=[e]);for(let o=0,s,l;o<e.length;o++)s=e[o],l=s.field||s,s.custom?(this.h[o]=s.custom,s.custom.O=l):(this.h[o]=xt(l,this.D),s.filter&&(typeof this.h[o]=="string"&&(this.h[o]=new String(this.h[o])),this.h[o].G=s.filter))}return n}function xt(e,t){let n=e.split(":"),i=0;for(let r=0;r<n.length;r++)e=n[r],e[e.length-1]==="]"&&(e=e.substring(0,e.length-2))&&(t[i]=!0),e&&(n[i++]=e);return i<n.length&&(n.length=i),i>1?n:n[0]}F.append=function(e,t){return this.add(e,t,!0)},F.update=function(e,t){return this.remove(e).add(e,t)},F.remove=function(e){Xe(e)&&(e=ot(e,this.key));for(var t of this.index.values())t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let n of this.tag.values())for(let i of n){t=i[0];let r=i[1],o=r.indexOf(e);o>-1&&(r.length>1?r.splice(o,1):n.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this},F.clear=function(){let e=[];for(let t of this.index.values()){let n=t.clear();n.then&&e.push(n)}if(this.tag)for(let t of this.tag.values())t.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this},F.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)},F.cleanup=function(){for(let e of this.index.values())e.cleanup();return this},F.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(t){return t[0]&&t[0].doc||null}):this.store.get(e)||null},F.set=function(e,t){return typeof e=="object"&&(t=e,e=ot(t,this.key)),this.store.set(e,t),this},F.searchCache=R,F.export=jt,F.import=Ft,S(mt.prototype);function Et(e,t=0){let n=[],i=[];t&&(t=25e4/t*5e3|0);for(let r of e.entries())i.push(r),i.length===t&&(n.push(i),i=[]);return i.length&&n.push(i),n}function Lt(e,t){t||(t=new Map);for(let n=0,i;n<e.length;n++)i=e[n],t.set(i[0],i[1]);return t}function bt(e,t=0){let n=[],i=[];t&&(t=25e4/t*1e3|0);for(let r of e.entries())i.push([r[0],Et(r[1])[0]]),i.length===t&&(n.push(i),i=[]);return i.length&&n.push(i),n}function Ht(e,t){t||(t=new Map);for(let n=0,i,r;n<e.length;n++)i=e[n],r=t.get(i[0]),t.set(i[0],Lt(i[1],r));return t}function _t(e){let t=[],n=[];for(let i of e.keys())n.push(i),n.length===25e4&&(t.push(n),n=[]);return n.length&&t.push(n),t}function $t(e,t){t||(t=new Set);for(let n=0;n<e.length;n++)t.add(e[n]);return t}function yt(e,t,n,i,r,o,s=0){let l=i&&i.constructor===Array;var c=l?i.shift():i;if(!c)return this.export(e,t,r,o+1);if((c=e((t?t+".":"")+(s+1)+"."+n,JSON.stringify(c)))&&c.then){let u=this;return c.then(function(){return yt.call(u,e,t,n,l?i:null,r,o,s+1)})}return yt.call(this,e,t,n,l?i:null,r,o,s+1)}function jt(e,t,n=0,i=0){if(n<this.field.length){let s=this.field[n];if((t=this.index.get(s).export(e,s,n,i=1))&&t.then){let l=this;return t.then(function(){return l.export(e,s,n+1)})}return this.export(e,s,n+1)}let r,o;switch(i){case 0:r="reg",o=_t(this.reg),t=null;break;case 1:r="tag",o=this.tag&&bt(this.tag,this.reg.size),t=null;break;case 2:r="doc",o=this.store&&Et(this.store),t=null;break;default:return}return yt.call(this,e,t,r,o||null,n,i)}function Ft(e,t){var n=e.split(".");n[n.length-1]==="json"&&n.pop();let i=n.length>2?n[0]:"";if(n=n.length>2?n[2]:n[1],this.worker&&i)return this.index.get(i).import(e);if(t){if(typeof t=="string"&&(t=JSON.parse(t)),i)return this.index.get(i).import(n,t);switch(n){case"reg":this.fastupdate=!1,this.reg=$t(t,this.reg);for(let r=0,o;r<this.field.length;r++)o=this.index.get(this.field[r]),o.fastupdate=!1,o.reg=this.reg;if(this.worker){t=[];for(let r of this.index.values())t.push(r.import(e));return Promise.all(t)}break;case"tag":this.tag=Ht(t,this.tag);break;case"doc":this.store=Lt(t,this.store)}}}function Dt(e,t){let n="";for(let i of e.entries()){e=i[0];let r=i[1],o="";for(let s=0,l;s<r.length;s++){l=r[s]||[""];let c="";for(let u=0;u<l.length;u++)c+=(c?",":"")+(t==="string"?'"'+l[u]+'"':l[u]);c="["+c+"]",o+=(o?",":"")+c}o='["'+e+'",['+o+"]]",n+=(n?",":"")+o}return n}ct.prototype.remove=function(e,t){let n=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(n){if(this.fastupdate){for(let i=0,r,o;i<n.length;i++)if((r=n[i])&&(o=r.length))if(r[o-1]===e)r.pop();else{let s=r.indexOf(e);s>=0&&r.splice(s,1)}}else Ct(this.map,e),this.depth&&Ct(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.M&&Wt(this)),this.cache&&this.cache.remove(e),this};function Ct(e,t){let n=0;var i=typeof t>"u";if(e.constructor===Array){for(let r=0,o,s,l;r<e.length;r++)if((o=e[r])&&o.length){if(i)return 1;if(s=o.indexOf(t),s>=0){if(o.length>1)return o.splice(s,1),1;if(delete e[r],n)return 1;l=1}else{if(l)return 1;n++}}}else for(let r of e.entries())i=r[0],Ct(r[1],t)?n++:e.delete(i);return n}var Zt={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};ct.prototype.add=function(e,t,n,i){if(t&&(e||e===0)){if(!i&&!n&&this.reg.has(e))return this.update(e,t);i=this.depth,t=this.encoder.encode(t,!i);let u=t.length;if(u){let g=Te(),p=Te(),C=this.resolution;for(let f=0;f<u;f++){let v=t[this.rtl?u-1-f:f];var r=v.length;if(r&&(i||!p[v])){var o=this.score?this.score(t,v,f,null,0):Ot(C,u,f),s="";switch(this.tokenize){case"tolerant":if(ht(this,p,v,o,e,n),r>2){for(let w=1,m,I,q,te;w<r-1;w++)m=v.charAt(w),I=v.charAt(w+1),q=v.substring(0,w)+I,te=v.substring(w+2),s=q+m+te,ht(this,p,s,o,e,n),s=q+te,ht(this,p,s,o,e,n);ht(this,p,v.substring(0,v.length-1),o,e,n)}break;case"full":if(r>2){for(let w=0,m;w<r;w++)for(o=r;o>w;o--){s=v.substring(w,o),m=this.rtl?r-1-w:w;var l=this.score?this.score(t,v,f,s,m):Ot(C,u,f,r,m);ht(this,p,s,l,e,n)}break}case"bidirectional":case"reverse":if(r>1){for(l=r-1;l>0;l--){s=v[this.rtl?r-1-l:l]+s;var c=this.score?this.score(t,v,f,s,l):Ot(C,u,f,r,l);ht(this,p,s,c,e,n)}s=""}case"forward":if(r>1){for(l=0;l<r;l++)s+=v[this.rtl?r-1-l:l],ht(this,p,s,o,e,n);break}default:if(ht(this,p,v,o,e,n),i&&u>1&&f<u-1)for(r=this.N,s=v,o=Math.min(i+1,this.rtl?f+1:u-f),l=1;l<o;l++){v=t[this.rtl?u-1-f-l:f+l],c=this.bidirectional&&v>s;let w=this.score?this.score(t,s,f,v,l-1):Ot(r+(u/2>r?0:1),u,f,o-1,l-1);ht(this,g,c?s:v,w,e,n,c?v:s)}}}}this.fastupdate||this.reg.add(e)}}return this.db&&(this.commit_task.push(n?{ins:e}:{del:e}),this.M&&Wt(this)),this};function ht(e,t,n,i,r,o,s){let l,c;if(!(l=t[n])||s&&!l[s]){if(s?(t=l||(t[n]=Te()),t[s]=1,c=e.ctx,(l=c.get(s))?c=l:c.set(s,c=e.keystore?new Q(e.keystore):new Map)):(c=e.map,t[n]=1),(l=c.get(n))?c=l:c.set(n,c=l=[]),o){for(let u=0,g;u<l.length;u++)if((g=l[u])&&g.includes(r)){if(u<=i)return;g.splice(g.indexOf(r),1),e.fastupdate&&(t=e.reg.get(r))&&t.splice(t.indexOf(g),1);break}}if(c=c[i]||(c[i]=[]),c.push(r),c.length===2**31-1){if(t=new oe(c),e.fastupdate)for(let u of e.reg.values())u.includes(c)&&(u[u.indexOf(c)]=t);l[i]=c=t}e.fastupdate&&((i=e.reg.get(r))?i.push(c):e.reg.set(r,[c]))}}function Ot(e,t,n,i,r){return n&&e>1?t+(i||0)<=e?n+(r||0):(e-1)/(t+(i||0))*(n+(r||0))+1|0:0}ct.prototype.search=function(e,t,n){if(n||(t||typeof e!="object"?typeof t=="object"&&(n=t,t=0):(n=e,e="")),n&&n.cache)return n.cache=!1,e=this.searchCache(e,t,n),n.cache=!0,e;let i=[],r,o,s,l=0,c,u,g,p,C;n&&(e=n.query||e,t=n.limit||t,l=n.offset||0,o=n.context,s=n.suggest,C=(c=n.resolve)&&n.enrich,g=n.boost,p=n.resolution,u=this.db&&n.tag),typeof c>"u"&&(c=this.resolve),o=this.depth&&o!==!1;let f=this.encoder.encode(e,!o);if(r=f.length,t=t||(c?100:0),r===1)return zt.call(this,f[0],"",t,l,c,C,u);if(r===2&&o&&!s)return zt.call(this,f[1],f[0],t,l,c,C,u);let v=Te(),w=0,m;if(o&&(m=f[0],w=1),p||p===0||(p=m?this.N:this.resolution),this.db){if(this.db.search&&(n=this.db.search(this,f,t,l,s,c,C,u),n!==!1))return n;let I=this;return(async function(){for(let q,te;w<r;w++){if((te=f[w])&&!v[te]){if(v[te]=1,q=await St(I,te,m,0,0,!1,!1),q=qt(q,i,s,p)){i=q;break}m&&(s&&q&&i.length||(m=te))}s&&m&&w===r-1&&!i.length&&(p=I.resolution,m="",w=-1,v=Te())}return Vt(i,p,t,l,s,g,c)})()}for(let I,q;w<r;w++){if((q=f[w])&&!v[q]){if(v[q]=1,I=St(this,q,m,0,0,!1,!1),I=qt(I,i,s,p)){i=I;break}m&&(s&&I&&i.length||(m=q))}s&&m&&w===r-1&&!i.length&&(p=this.resolution,m="",w=-1,v=Te())}return Vt(i,p,t,l,s,g,c)};function Vt(e,t,n,i,r,o,s){let l=e.length,c=e;if(l>1)c=rt(e,t,n,i,r,o,s);else if(l===1)return s?ke.call(null,e[0],n,i):new G(e[0],this);return s?c:new G(c,this)}function zt(e,t,n,i,r,o,s){return e=St(this,e,t,n,i,r,o,s),this.db?e.then(function(l){return r?l||[]:new G(l,this)}):e&&e.length?r?ke.call(this,e,n,i):new G(e,this):r?[]:new G([],this)}function qt(e,t,n,i){let r=[];if(e&&e.length){if(e.length<=i){t.push(e);return}for(let o=0,s;o<i;o++)(s=e[o])&&(r[o]=s);if(r.length){t.push(r);return}}if(!n)return r}function St(e,t,n,i,r,o,s,l){let c;return n&&(c=e.bidirectional&&t>n)&&(c=n,n=t,t=c),e.db?e.db.get(t,n,i,r,o,s,l):(e=n?(e=e.ctx.get(n))&&e.get(t):e.map.get(t),e)}function ct(e,t){if(!this||this.constructor!==ct)return new ct(e);if(e){var n=ze(e)?e:e.preset;n&&(e=Object.assign({},Zt[n],e))}else e={};n=e.context;let i=n===!0?{depth:1}:n||{},r=ze(e.encoder)?ge[e.encoder]:e.encode||e.encoder||{};this.encoder=r.encode?r:typeof r=="object"?new He(r):{encode:r},this.resolution=e.resolution||9,this.tokenize=n=(n=e.tokenize)&&n!=="default"&&n!=="exact"&&n||"strict",this.depth=n==="strict"&&i.depth||0,this.bidirectional=i.bidirectional!==!1,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(n=e.keystore||0)&&(this.keystore=n),this.map=n?new Q(n):new Map,this.ctx=n?new Q(n):new Map,this.reg=t||(this.fastupdate?n?new Q(n):new Map:n?new X(n):new Set),this.N=i.resolution||3,this.rtl=r.rtl||e.rtl||!1,this.cache=(n=e.cache||null)&&new K(n),this.resolve=e.resolve!==!1,(n=e.db)&&(this.db=this.mount(n)),this.M=e.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}F=ct.prototype,F.mount=function(e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),e.mount(this)},F.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)},F.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function Wt(e){e.commit_timer||(e.commit_timer=setTimeout(function(){e.commit_timer=null,e.db.commit(e)},1))}F.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},F.append=function(e,t){return this.add(e,t,!0)},F.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)},F.update=function(e,t){let n=this,i=this.remove(e);return i&&i.then?i.then(()=>n.add(e,t)):this.add(e,t)},F.cleanup=function(){return this.fastupdate?(Ct(this.map),this.depth&&Ct(this.ctx),this):this},F.searchCache=R,F.export=function(e,t,n=0,i=0){let r,o;switch(i){case 0:r="reg",o=_t(this.reg);break;case 1:r="cfg",o=null;break;case 2:r="map",o=Et(this.map,this.reg.size);break;case 3:r="ctx",o=bt(this.ctx,this.reg.size);break;default:return}return yt.call(this,e,t,r,o,n,i)},F.import=function(e,t){if(t)switch(typeof t=="string"&&(t=JSON.parse(t)),e=e.split("."),e[e.length-1]==="json"&&e.pop(),e.length===3&&e.shift(),e=e.length>1?e[1]:e[0],e){case"reg":this.fastupdate=!1,this.reg=$t(t,this.reg);break;case"map":this.map=Lt(t,this.map);break;case"ctx":this.ctx=Ht(t,this.ctx)}},F.serialize=function(e=!0){let t="",n="",i="";if(this.reg.size){let o;for(var r of this.reg.keys())o||(o=typeof r),t+=(t?",":"")+(o==="string"?'"'+r+'"':r);t="index.reg=new Set(["+t+"]);",n=Dt(this.map,o),n="index.map=new Map(["+n+"]);";for(let s of this.ctx.entries()){r=s[0];let l=Dt(s[1],o);l="new Map(["+l+"])",l='["'+r+'",'+l+"]",i+=(i?",":"")+l}i="index.ctx=new Map(["+i+"]);"}return e?"function inject(index){"+t+n+i+"}":t+n+i},S(ct.prototype);var Kt=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Tt=["map","ctx","tag","reg","cfg"],pt=Te();function At(e,t={}){if(!this||this.constructor!==At)return new At(e,t);typeof e=="object"&&(t=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}F=At.prototype,F.mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())},F.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist(),pt[e.id]||(pt[e.id]=[]),pt[e.id].push(e.field);let t=Kt.open(e.id,1);return t.onupgradeneeded=function(){let n=e.db=this.result;for(let i=0,r;i<Tt.length;i++){r=Tt[i];for(let o=0,s;o<pt[e.id].length;o++)s=pt[e.id][o],n.objectStoreNames.contains(r+(r!=="reg"&&s?":"+s:""))||n.createObjectStore(r+(r!=="reg"&&s?":"+s:""))}},e.db=wt(t,function(n){e.db=n,e.db.onversionchange=function(){e.close()}})},F.close=function(){this.db&&this.db.close(),this.db=null},F.destroy=function(){let e=Kt.deleteDatabase(this.id);return wt(e)},F.clear=function(){let e=[];for(let n=0,i;n<Tt.length;n++){i=Tt[n];for(let r=0,o;r<pt[this.id].length;r++)o=pt[this.id][r],e.push(i+(i!=="reg"&&o?":"+o:""))}let t=this.db.transaction(e,"readwrite");for(let n=0;n<e.length;n++)t.objectStore(e[n]).clear();return wt(t)},F.get=function(e,t,n=0,i=0,r=!0,o=!1){e=this.db.transaction((t?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((t?"ctx":"map")+(this.field?":"+this.field:"")).get(t?t+":"+e:e);let s=this;return wt(e).then(function(l){let c=[];if(!l||!l.length)return c;if(r){if(!n&&!i&&l.length===1)return l[0];for(let u=0,g;u<l.length;u++)if((g=l[u])&&g.length){if(i>=g.length){i-=g.length;continue}let p=n?i+Math.min(g.length-i,n):g.length;for(let C=i;C<p;C++)c.push(g[C]);if(i=0,c.length===n)break}return o?s.enrich(c):c}return l})},F.tag=function(e,t=0,n=0,i=!1){e=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(e);let r=this;return wt(e).then(function(o){return!o||!o.length||n>=o.length?[]:!t&&!n?o:(o=o.slice(n,n+t),i?r.enrich(o):o)})},F.enrich=function(e){typeof e!="object"&&(e=[e]);let t=this.db.transaction("reg","readonly").objectStore("reg"),n=[];for(let i=0;i<e.length;i++)n[i]=wt(t.get(e[i]));return Promise.all(n).then(function(i){for(let r=0;r<i.length;r++)i[r]={id:e[r],doc:i[r]?JSON.parse(i[r]):null};return i})},F.has=function(e){return e=this.db.transaction("reg","readonly").objectStore("reg").getKey(e),wt(e).then(function(t){return!!t})},F.search=null,F.info=function(){},F.transaction=function(e,t,n){e+=e!=="reg"&&this.field?":"+this.field:"";let i=this.h[e+":"+t];if(i)return n.call(this,i);let r=this.db.transaction(e,t);this.h[e+":"+t]=i=r.objectStore(e);let o=n.call(this,i);return this.h[e+":"+t]=null,wt(r).finally(function(){return r=i=null,o})},F.commit=async function(e){let t=e.commit_task,n=[];e.commit_task=[];for(let i=0,r;i<t.length;i++)r=t[i],r.del&&n.push(r.del);n.length&&await this.remove(n),e.reg.size&&(await this.transaction("map","readwrite",function(i){for(let r of e.map){let o=r[0],s=r[1];s.length&&(i.get(o).onsuccess=function(){let l=this.result;var c;if(l&&l.length){let u=Math.max(l.length,s.length);for(let g=0,p,C;g<u;g++)if((C=s[g])&&C.length){if((p=l[g])&&p.length)for(c=0;c<C.length;c++)p.push(C[c]);else l[g]=C;c=1}}else l=s,c=1;c&&i.put(l,o)})}}),await this.transaction("ctx","readwrite",function(i){for(let r of e.ctx){let o=r[0],s=r[1];for(let l of s){let c=l[0],u=l[1];u.length&&(i.get(o+":"+c).onsuccess=function(){let g=this.result;var p;if(g&&g.length){let C=Math.max(g.length,u.length);for(let f=0,v,w;f<C;f++)if((w=u[f])&&w.length){if((v=g[f])&&v.length)for(p=0;p<w.length;p++)v.push(w[p]);else g[f]=w;p=1}}else g=u,p=1;p&&i.put(g,o+":"+c)})}}}),e.store?await this.transaction("reg","readwrite",function(i){for(let r of e.store){let o=r[0],s=r[1];i.put(typeof s=="object"?JSON.stringify(s):1,o)}}):e.bypass||await this.transaction("reg","readwrite",function(i){for(let r of e.reg.keys())i.put(1,r)}),e.tag&&await this.transaction("tag","readwrite",function(i){for(let r of e.tag){let o=r[0],s=r[1];s.length&&(i.get(o).onsuccess=function(){let l=this.result;l=l&&l.length?l.concat(s):s,i.put(l,o)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())};function Pt(e,t,n){let i=e.value,r,o=0;for(let s=0,l;s<i.length;s++){if(l=n?i:i[s]){for(let c=0,u,g;c<t.length;c++)if(g=t[c],u=l.indexOf(g),u>=0)if(r=1,l.length>1)l.splice(u,1);else{i[s]=[];break}o+=l.length}if(n)break}o?r&&e.update(i):e.delete(),e.continue()}F.remove=function(e){return typeof e!="object"&&(e=[e]),Promise.all([this.transaction("map","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e)}}),this.transaction("ctx","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e)}}),this.transaction("tag","readwrite",function(t){t.openCursor().onsuccess=function(){let n=this.result;n&&Pt(n,e,!0)}}),this.transaction("reg","readwrite",function(t){for(let n=0;n<e.length;n++)t.delete(e[n])})])};function wt(e,t){return new Promise((n,i)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,n(this.result)},e.onerror=e.onblocked=i,e=null})}var Qt={Index:ct,Charset:ge,Encoder:He,Document:mt,Worker:ne,Resolver:G,IndexedDB:At,Language:{}};function en(e,t){if(!e)return;function n(r){r.target===this&&(r.preventDefault(),r.stopPropagation(),t())}function i(r){r.key.startsWith("Esc")&&(r.preventDefault(),t())}e?.addEventListener("click",n),window.addCleanup(()=>e?.removeEventListener("click",n)),document.addEventListener("keydown",i),window.addCleanup(()=>document.removeEventListener("keydown",i))}function Bt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var an=Object.hasOwnProperty,tn=Le(Qe(),1),cn=(0,tn.default)();function hn(e){let t=Mt(sn(e,"index"),!0);return t.length===0?"/":t}var Ut=(e,t,n)=>{let i=new URL(e.getAttribute(t),n);e.setAttribute(t,i.pathname+i.hash)};function fn(e,t){e.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(n=>Ut(n,"href",t)),e.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(n=>Ut(n,"src",t))}function Jt(e){let t=e.split("/").filter(n=>n!=="").slice(0,-1).map(n=>"..").join("/");return t.length===0&&(t="."),t}function nn(e,t){return rn(Jt(e),hn(t))}function rn(...e){if(e.length===0)return"";let t=e.filter(n=>n!==""&&n!=="/").map(n=>Mt(n)).join("/");return e[0].startsWith("/")&&(t="/"+t),e[e.length-1].endsWith("/")&&(t=t+"/"),t}function on(e,t){return e===t||e.endsWith("/"+t)}function sn(e,t){return on(e,t)&&(e=e.slice(0,-t.length)),e}function Mt(e,t){return e.startsWith("/")&&(e=e.substring(1)),!t&&e.endsWith("/")&&(e=e.slice(0,-1)),e}var gt="basic",it="",a=e=>e.toLowerCase().split(/\s+/).filter(t=>t.length>0),h=new Qt.Document({encode:a,document:{id:"id",tag:"tags",index:[{field:"title",tokenize:"forward"},{field:"content",tokenize:"forward"},{field:"tags",tokenize:"forward"}]}}),b=new DOMParser,x=new Map,E=30,A=8,O=5,P=e=>{let t=e.split(/\s+/).filter(i=>i.trim()!==""),n=t.length;if(n>1)for(let i=1;i<n;i++)t.push(t.slice(0,i+1).join(" "));return t.sort((i,r)=>r.length-i.length)};function z(e,t,n){let i=P(e),r=t.split(/\s+/).filter(c=>c!==""),o=0,s=r.length-1;if(n){let c=C=>i.some(f=>C.toLowerCase().startsWith(f.toLowerCase())),u=r.map(c),g=0,p=0;for(let C=0;C<Math.max(r.length-E,0);C++){let f=u.slice(C,C+E).reduce((v,w)=>v+(w?1:0),0);f>=g&&(g=f,p=C)}o=Math.max(p-E,0),s=Math.min(o+2*E,r.length-1),r=r.slice(o,s)}let l=r.map(c=>{for(let u of i)if(c.toLowerCase().includes(u.toLowerCase())){let g=new RegExp(u.toLowerCase(),"gi");return c.replace(g,'<span class="highlight">$&</span>')}return c}).join(" ");return`${o===0?"":"..."}${l}${s===r.length-1?"":"..."}`}function Y(e,t){let n=new DOMParser,i=P(e),r=n.parseFromString(t.innerHTML,"text/html"),o=l=>{let c=document.createElement("span");return c.className="highlight",c.textContent=l,c},s=(l,c)=>{if(l.nodeType===Node.TEXT_NODE){let u=l.nodeValue??"",g=new RegExp(c.toLowerCase(),"gi"),p=u.match(g);if(!p||p.length===0)return;let C=document.createElement("span"),f=0;for(let v of p){let w=u.indexOf(v,f);C.appendChild(document.createTextNode(u.slice(f,w))),C.appendChild(o(v)),f=w+v.length}C.appendChild(document.createTextNode(u.slice(f))),l.parentNode?.replaceChild(C,l)}else if(l.nodeType===Node.ELEMENT_NODE){if(l.classList.contains("highlight"))return;Array.from(l.childNodes).forEach(u=>s(u,c))}};for(let l of i)s(r.body,l);return r.body}async function le(e,t,n){let i=e.querySelector(".search-container");if(!i)return;let r=i.closest(".sidebar"),o=e.querySelector(".search-button");if(!o)return;let s=e.querySelector(".search-bar");if(!s)return;let l=e.querySelector(".search-layout");if(!l)return;let c=Object.keys(n),u=J=>{l.appendChild(J)},g=l.dataset.preview==="true",p,C,f=document.createElement("div");f.className="results-container",u(f),g&&(p=document.createElement("div"),p.className="preview-container",u(p));function v(){i.classList.remove("active"),s.value="",r&&(r.style.zIndex=""),Bt(f),p&&Bt(p),l.classList.remove("display-results"),gt="basic",o.focus()}function w(J){gt=J,r&&(r.style.zIndex="1"),i.classList.add("active"),s.focus()}let m=null;async function I(J){if(J.key==="k"&&(J.ctrlKey||J.metaKey)&&!J.shiftKey){J.preventDefault(),i.classList.contains("active")?v():w("basic");return}else if(J.shiftKey&&(J.ctrlKey||J.metaKey)&&J.key.toLowerCase()==="k"){J.preventDefault(),i.classList.contains("active")?v():w("tags"),s.value="#";return}if(m&&m.classList.remove("focus"),!!i.classList.contains("active")){if(J.key==="Enter"&&!J.isComposing)if(f.contains(document.activeElement)){let W=document.activeElement;if(W.classList.contains("no-match"))return;await se(W),W.click()}else{let W=document.getElementsByClassName("result-card")[0];if(!W||W.classList.contains("no-match"))return;await se(W),W.click()}else if(J.key==="ArrowUp"||J.shiftKey&&J.key==="Tab"){if(J.preventDefault(),f.contains(document.activeElement)){let W=m||document.activeElement,we=W?.previousElementSibling;W?.classList.remove("focus"),we?.focus(),we&&(m=we),await se(we)}}else if((J.key==="ArrowDown"||J.key==="Tab")&&(J.preventDefault(),document.activeElement===s||m!==null)){let W=m||document.getElementsByClassName("result-card")[0],we=W?.nextElementSibling;W?.classList.remove("focus"),we?.focus(),we&&(m=we),await se(we)}}}let q=(J,W)=>{let we=c[W];return{id:W,slug:we,title:gt==="tags"?n[we].title:z(J,n[we].title??""),content:z(J,n[we].content??"",!0),tags:te(J.substring(1),n[we].tags)}};function te(J,W){return!W||gt!=="tags"?[]:W.map(we=>we.toLowerCase().includes(J.toLowerCase())?`<li><p class="match-tag">#${we}</p></li>`:`<li><p>#${we}</p></li>`).slice(0,O)}function fe(J){return new URL(nn(t,J),location.toString())}let Ae=({slug:J,title:W,content:we,tags:qe})=>{let Be=qe.length>0?`<ul class="tags">${qe.join("")}</ul>`:"",je=document.createElement("a");je.classList.add("result-card"),je.id=J,je.href=fe(J).toString(),je.innerHTML=`
      <h3 class="card-title">${W}</h3>
      ${Be}
      <p class="card-description">${we}</p>
    `,je.addEventListener("click",Je=>{Je.altKey||Je.ctrlKey||Je.metaKey||Je.shiftKey||v()});let Ye=Je=>{Je.altKey||Je.ctrlKey||Je.metaKey||Je.shiftKey||v()};async function vt(Je){if(!Je.target)return;let Gt=Je.target;await se(Gt)}return je.addEventListener("mouseenter",vt),window.addCleanup(()=>je.removeEventListener("mouseenter",vt)),je.addEventListener("click",Ye),window.addCleanup(()=>je.removeEventListener("click",Ye)),je};async function me(J){if(Bt(f),J.length===0?f.innerHTML=`<a class="result-card no-match">
          <h3>No results.</h3>
          <p>Try another search term?</p>
      </a>`:f.append(...J.map(Ae)),J.length===0&&p)Bt(p);else{let W=f.firstElementChild;W.classList.add("focus"),m=W,await se(W)}}async function be(J){if(x.has(J))return x.get(J);let W=fe(J).toString(),we=await fetch(W).then(qe=>qe.text()).then(qe=>{if(qe===void 0)throw new Error(`Could not fetch ${W}`);let Be=b.parseFromString(qe??"","text/html");return fn(Be,W),[...Be.getElementsByClassName("popover-hint")]});return x.set(J,we),we}async function se(J){if(!l||!g||!J||!p)return;let W=J.id,we=await be(W).then(qe=>qe.flatMap(Be=>[...Y(it,Be).children]));C=document.createElement("div"),C.classList.add("preview-inner"),C.append(...we),p.replaceChildren(C),[...p.getElementsByClassName("highlight")].sort((qe,Be)=>Be.innerHTML.length-qe.innerHTML.length)[0]?.scrollIntoView({block:"start"})}async function Ce(J){if(!l||!h)return;it=J.target.value,l.classList.toggle("display-results",it!==""),gt=it.startsWith("#")?"tags":"basic";let W;if(gt==="tags"){it=it.substring(1).trim();let Be=it.indexOf(" ");if(Be!=-1){let je=it.substring(0,Be),Ye=it.substring(Be+1).trim();W=await h.searchAsync({query:Ye,limit:Math.max(A,1e4),index:["title","content"],tag:{tags:je}});for(let vt of W)vt.result=vt.result.slice(0,A);gt="basic",it=Ye}else W=await h.searchAsync({query:it,limit:A,index:["tags"]})}else gt==="basic"&&(W=await h.searchAsync({query:it,limit:A,index:["title","content"]}));let we=Be=>{let je=W.filter(Ye=>Ye.field===Be);return je.length===0?[]:[...je[0].result]},qe=[...new Set([...we("title"),...we("content"),...we("tags")])].map(Be=>q(it,Be));await me(qe)}document.addEventListener("keydown",I),window.addCleanup(()=>document.removeEventListener("keydown",I)),o.addEventListener("click",()=>w("basic")),window.addCleanup(()=>o.removeEventListener("click",()=>w("basic"))),s.addEventListener("input",Ce),window.addCleanup(()=>s.removeEventListener("input",Ce)),en(i,v),await ie(n)}var B=!1;async function ie(e){if(B)return;let t=0,n=[];for(let[i,r]of Object.entries(e))n.push(h.addAsync(t++,{id:t,slug:i,title:r.title,content:r.content,tags:r.tags}));await Promise.all(n),B=!0}document.addEventListener("nav",async e=>{let t=e.detail.url,n=await fetchData,i=document.getElementsByClassName("search");for(let r of i)await le(r,t,n)})})(),(function(){var Me=Object.create,ve=Object.defineProperty,De=Object.getOwnPropertyDescriptor,$e=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty,Fe=(j,d)=>()=>(d||j((d={exports:{}}).exports,d),d.exports),Ze=(j,d,k,M)=>{if(d&&typeof d=="object"||typeof d=="function")for(let Z of $e(d))!We.call(j,Z)&&Z!==k&&ve(j,Z,{get:()=>d[Z],enumerable:!(M=De(d,Z))||M.enumerable});return j},Le=(j,d,k)=>(k=j!=null?Me(Ge(j)):{},Ze(d||!j||!j.__esModule?ve(k,"default",{value:j,enumerable:!0}):k,j)),Ve=Fe((j,d)=>{"use strict";d.exports=M;function k(ge){return ge instanceof Buffer?Buffer.from(ge):new ge.constructor(ge.buffer.slice(),ge.byteOffset,ge.length)}function M(ge){if(ge=ge||{},ge.circles)return Z(ge);let D=new Map;if(D.set(Date,V=>new Date(V)),D.set(Map,(V,ce)=>new Map(Q(Array.from(V),ce))),D.set(Set,(V,ce)=>new Set(Q(Array.from(V),ce))),ge.constructorHandlers)for(let V of ge.constructorHandlers)D.set(V[0],V[1]);let oe=null;return ge.proto?xe:X;function Q(V,ce){let H=Object.keys(V),U=new Array(H.length);for(let S=0;S<H.length;S++){let N=H[S],de=V[N];typeof de!="object"||de===null?U[N]=de:de.constructor!==Object&&(oe=D.get(de.constructor))?U[N]=oe(de,ce):ArrayBuffer.isView(de)?U[N]=k(de):U[N]=ce(de)}return U}function X(V){if(typeof V!="object"||V===null)return V;if(Array.isArray(V))return Q(V,X);if(V.constructor!==Object&&(oe=D.get(V.constructor)))return oe(V,X);let ce={};for(let H in V){if(Object.hasOwnProperty.call(V,H)===!1)continue;let U=V[H];typeof U!="object"||U===null?ce[H]=U:U.constructor!==Object&&(oe=D.get(U.constructor))?ce[H]=oe(U,X):ArrayBuffer.isView(U)?ce[H]=k(U):ce[H]=X(U)}return ce}function xe(V){if(typeof V!="object"||V===null)return V;if(Array.isArray(V))return Q(V,xe);if(V.constructor!==Object&&(oe=D.get(V.constructor)))return oe(V,xe);let ce={};for(let H in V){let U=V[H];typeof U!="object"||U===null?ce[H]=U:U.constructor!==Object&&(oe=D.get(U.constructor))?ce[H]=oe(U,xe):ArrayBuffer.isView(U)?ce[H]=k(U):ce[H]=xe(U)}return ce}}function Z(ge){let D=[],oe=[],Q=new Map;if(Q.set(Date,H=>new Date(H)),Q.set(Map,(H,U)=>new Map(xe(Array.from(H),U))),Q.set(Set,(H,U)=>new Set(xe(Array.from(H),U))),ge.constructorHandlers)for(let H of ge.constructorHandlers)Q.set(H[0],H[1]);let X=null;return ge.proto?ce:V;function xe(H,U){let S=Object.keys(H),N=new Array(S.length);for(let de=0;de<S.length;de++){let Pe=S[de],y=H[Pe];if(typeof y!="object"||y===null)N[Pe]=y;else if(y.constructor!==Object&&(X=Q.get(y.constructor)))N[Pe]=X(y,U);else if(ArrayBuffer.isView(y))N[Pe]=k(y);else{let L=D.indexOf(y);L!==-1?N[Pe]=oe[L]:N[Pe]=U(y)}}return N}function V(H){if(typeof H!="object"||H===null)return H;if(Array.isArray(H))return xe(H,V);if(H.constructor!==Object&&(X=Q.get(H.constructor)))return X(H,V);let U={};D.push(H),oe.push(U);for(let S in H){if(Object.hasOwnProperty.call(H,S)===!1)continue;let N=H[S];if(typeof N!="object"||N===null)U[S]=N;else if(N.constructor!==Object&&(X=Q.get(N.constructor)))U[S]=X(N,V);else if(ArrayBuffer.isView(N))U[S]=k(N);else{let de=D.indexOf(N);de!==-1?U[S]=oe[de]:U[S]=V(N)}}return D.pop(),oe.pop(),U}function ce(H){if(typeof H!="object"||H===null)return H;if(Array.isArray(H))return xe(H,ce);if(H.constructor!==Object&&(X=Q.get(H.constructor)))return X(H,ce);let U={};D.push(H),oe.push(U);for(let S in H){let N=H[S];if(typeof N!="object"||N===null)U[S]=N;else if(N.constructor!==Object&&(X=Q.get(N.constructor)))U[S]=X(N,ce);else if(ArrayBuffer.isView(N))U[S]=k(N);else{let de=D.indexOf(N);de!==-1?U[S]=oe[de]:U[S]=ce(N)}}return D.pop(),oe.pop(),U}}}),Qe=Object.hasOwnProperty,F=Le(Ve(),1),Oe=(0,F.default)();function Re(j){let d=et(Ke(j,"index"),!0);return d.length===0?"/":d}function Te(j){let d=j.split("/").filter(k=>k!=="").slice(0,-1).map(k=>"..").join("/");return d.length===0&&(d="."),d}function ze(j,d){return Xe(Te(j),Re(d))}function Xe(...j){if(j.length===0)return"";let d=j.filter(k=>k!==""&&k!=="/").map(k=>et(k)).join("/");return j[0].startsWith("/")&&(d="/"+d),j[j.length-1].endsWith("/")&&(d=d+"/"),d}function ot(j,d){return j===d||j.endsWith("/"+d)}function Ke(j,d){return ot(j,d)&&(j=j.slice(0,-d.length)),j}function et(j,d){return j.startsWith("/")&&(j=j.substring(1)),!d&&j.endsWith("/")&&(j=j.slice(0,-1)),j}var ft=class ln{isFolder;children;slugSegments;fileSegmentHint;displayNameOverride;data;constructor(d,k){this.children=[],this.slugSegments=d,this.data=k??null,this.isFolder=!1,this.displayNameOverride=void 0}get displayName(){let d=this.data?.title==="index"?void 0:this.data?.title;return this.displayNameOverride??d??this.fileSegmentHint??this.slugSegment??""}set displayName(d){this.displayNameOverride=d}get slug(){let d=Xe(...this.slugSegments);return this.isFolder?Xe(d,"index"):d}get slugSegment(){return this.slugSegments[this.slugSegments.length-1]}makeChild(d,k){let M=[...this.slugSegments,d[0]],Z=new ln(M,k);return this.children.push(Z),Z}insert(d,k){if(d.length===0)throw new Error("path is empty");this.isFolder=!0;let M=d[0];if(d.length===1)M==="index"?this.data??=k:this.makeChild(d,k);else if(d.length>1){let Z=this.children.find(D=>D.slugSegment===M)??this.makeChild(d,void 0),ge=k.filePath.split("/");Z.fileSegmentHint=ge.at(-d.length),Z.insert(d.slice(1),k)}}add(d){this.insert(d.slug.split("/"),d)}findNode(d){return d.length===0||d.length===1&&d[0]==="index"?this:this.children.find(k=>k.slugSegment===d[0])?.findNode(d.slice(1))}ancestryChain(d){if(d.length===0||d.length===1&&d[0]==="index")return[this];let k=this.children.find(Z=>Z.slugSegment===d[0]);if(!k)return;let M=k.ancestryChain(d.slice(1));if(M)return[this,...M]}filter(d){this.children=this.children.filter(d),this.children.forEach(k=>k.filter(d))}map(d){d(this),this.children.forEach(k=>k.map(d))}sort(d){this.children=this.children.sort(d),this.children.forEach(k=>k.sort(d))}static fromEntries(d){let k=new ln([]);return d.forEach(([,M])=>k.add(M)),k}entries(){let d=k=>[[k.slug,k]].concat(...k.children.map(d));return d(this)}getFolderPaths(){return this.entries().filter(([d,k])=>k.isFolder).map(([d,k])=>d)}},tt;function ut(){let j=this.closest(".explorer");if(!j)return;let d=j.classList.toggle("collapsed");j.setAttribute("aria-expanded",j.getAttribute("aria-expanded")==="true"?"false":"true"),d?document.documentElement.classList.remove("mobile-no-scroll"):document.documentElement.classList.add("mobile-no-scroll")}function He(j){j.stopPropagation();let d=j.target;if(!d)return;let k=d.nodeName==="svg"?d.parentElement:d.parentElement?.parentElement;if(!k)return;let M=k.nextElementSibling;if(!M)return;M.classList.toggle("open");let Z=!M.classList.contains("open");ye(M,Z);let ge=tt.find(oe=>oe.path===k.dataset.folderpath);ge?ge.collapsed=Z:tt.push({path:k.dataset.folderpath,collapsed:Z});let D=JSON.stringify(tt);localStorage.setItem("fileTree",D)}function nt(j,d){let k=document.getElementById("template-file").content.cloneNode(!0).querySelector("li"),M=k.querySelector("a");return M.href=ze(j,d.slug),M.dataset.for=d.slug,M.textContent=d.displayName,j===d.slug&&M.classList.add("active"),k}function R(j,d,k){let M=document.getElementById("template-folder").content.cloneNode(!0).querySelector("li"),Z=M.querySelector(".folder-container"),ge=Z.querySelector("div"),D=M.querySelector(".folder-outer"),oe=D.querySelector("ul"),Q=d.slug;if(Z.dataset.folderpath=Q,k.folderClickBehavior==="link"){let ce=ge.querySelector(".folder-button"),H=document.createElement("a");H.href=ze(j,Q),H.dataset.for=Q,H.className="folder-title",H.textContent=d.displayName,ce.replaceWith(H)}else{let ce=ge.querySelector(".folder-title");ce.textContent=d.displayName}let X=tt.find(ce=>ce.path===Q)?.collapsed??k.folderDefaultState==="collapsed",xe=Re(Q),V=xe===j.slice(0,xe.length);(!X||V)&&D.classList.add("open");for(let ce of d.children){let H=ce.isFolder?R(j,ce,k):nt(j,ce);oe.appendChild(H)}return M}async function K(j){let d=document.querySelectorAll("div.explorer");for(let k of d){let M=JSON.parse(k.dataset.dataFns||"{}"),Z={folderClickBehavior:k.dataset.behavior||"collapse",folderDefaultState:k.dataset.collapsed||"collapsed",useSavedState:k.dataset.savestate==="true",order:M.order||["filter","map","sort"],sortFn:new Function("return "+(M.sortFn||"undefined"))(),filterFn:new Function("return "+(M.filterFn||"undefined"))(),mapFn:new Function("return "+(M.mapFn||"undefined"))()},ge=localStorage.getItem("fileTree"),D=ge&&Z.useSavedState?JSON.parse(ge):[],oe=new Map(D.map(N=>[N.path,N.collapsed])),Q=await fetchData,X=[...Object.entries(Q)],xe=ft.fromEntries(X);for(let N of Z.order)switch(N){case"filter":Z.filterFn&&xe.filter(Z.filterFn);break;case"map":Z.mapFn&&xe.map(Z.mapFn);break;case"sort":Z.sortFn&&xe.sort(Z.sortFn);break}tt=xe.getFolderPaths().map(N=>{let de=oe.get(N);return{path:N,collapsed:de===void 0?Z.folderDefaultState==="collapsed":de}});let V=k.querySelector(".explorer-ul");if(!V)continue;let ce=document.createDocumentFragment();for(let N of xe.children){let de=N.isFolder?R(j,N,Z):nt(j,N);ce.appendChild(de)}V.insertBefore(ce,V.firstChild);let H=sessionStorage.getItem("explorerScrollTop");if(H)V.scrollTop=parseInt(H);else{let N=V.querySelector(".active");N&&N.scrollIntoView({behavior:"smooth"})}let U=k.getElementsByClassName("explorer-toggle");for(let N of U)N.addEventListener("click",ut),window.addCleanup(()=>N.removeEventListener("click",ut));if(Z.folderClickBehavior==="collapse"){let N=k.getElementsByClassName("folder-button");for(let de of N)de.addEventListener("click",He),window.addCleanup(()=>de.removeEventListener("click",He))}let S=k.getElementsByClassName("folder-icon");for(let N of S)N.addEventListener("click",He),window.addCleanup(()=>N.removeEventListener("click",He))}}document.addEventListener("prenav",async()=>{let j=document.querySelector(".explorer-ul");j&&sessionStorage.setItem("explorerScrollTop",j.scrollTop.toString())}),document.addEventListener("nav",async j=>{let d=j.detail.url;await K(d);for(let k of document.getElementsByClassName("explorer")){let M=k.querySelector(".mobile-explorer");if(!M)return;M.checkVisibility()&&(k.classList.add("collapsed"),k.setAttribute("aria-expanded","false"),document.documentElement.classList.remove("mobile-no-scroll")),M.classList.remove("hide-until-loaded")}}),window.addEventListener("resize",function(){let j=document.querySelector(".explorer");if(j&&!j.classList.contains("collapsed")){document.documentElement.classList.add("mobile-no-scroll");return}});function ye(j,d){return d?j.classList.remove("open"):j.classList.add("open")}})(),(function(){document.addEventListener("nav",Me=>{const ve=new IntersectionObserver(Ge=>{for(const We of Ge){const Fe=We.target.parentElement;if(!Fe)return;We.isIntersecting?Fe.classList.remove("gradient-active"):Fe.classList.add("gradient-active")}}),De=document.getElementById("list-0");if(!De)return;const $e=De.querySelector(".overflow-end");$e&&(ve.observe($e),window.addCleanup(()=>ve.disconnect()))})})(),(function(){document.addEventListener("nav",Me=>{const ve=new IntersectionObserver(Ge=>{for(const We of Ge){const Fe=We.target.parentElement;if(!Fe)return;We.isIntersecting?Fe.classList.remove("gradient-active"):Fe.classList.add("gradient-active")}}),De=document.getElementById("list-1");if(!De)return;const $e=De.querySelector(".overflow-end");$e&&(ve.observe($e),window.addCleanup(()=>ve.disconnect()))})})(),(function(){var Me=Object.create,ve=Object.defineProperty,De=Object.getOwnPropertyDescriptor,$e=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty,Fe=(a,h)=>()=>(h||a((h={exports:{}}).exports,h),h.exports),Ze=(a,h,b,x)=>{if(h&&typeof h=="object"||typeof h=="function")for(let E of $e(h))!We.call(a,E)&&E!==b&&ve(a,E,{get:()=>h[E],enumerable:!(x=De(h,E))||x.enumerable});return a},Le=(a,h,b)=>(b=a!=null?Me(Ge(a)):{},Ze(h||!a||!a.__esModule?ve(b,"default",{value:a,enumerable:!0}):b,a)),Ve=Fe((a,h)=>{"use strict";h.exports=x;function b(A){return A instanceof Buffer?Buffer.from(A):new A.constructor(A.buffer.slice(),A.byteOffset,A.length)}function x(A){if(A=A||{},A.circles)return E(A);let O=new Map;if(O.set(Date,B=>new Date(B)),O.set(Map,(B,ie)=>new Map(z(Array.from(B),ie))),O.set(Set,(B,ie)=>new Set(z(Array.from(B),ie))),A.constructorHandlers)for(let B of A.constructorHandlers)O.set(B[0],B[1]);let P=null;return A.proto?le:Y;function z(B,ie){let e=Object.keys(B),t=new Array(e.length);for(let n=0;n<e.length;n++){let i=e[n],r=B[i];typeof r!="object"||r===null?t[i]=r:r.constructor!==Object&&(P=O.get(r.constructor))?t[i]=P(r,ie):ArrayBuffer.isView(r)?t[i]=b(r):t[i]=ie(r)}return t}function Y(B){if(typeof B!="object"||B===null)return B;if(Array.isArray(B))return z(B,Y);if(B.constructor!==Object&&(P=O.get(B.constructor)))return P(B,Y);let ie={};for(let e in B){if(Object.hasOwnProperty.call(B,e)===!1)continue;let t=B[e];typeof t!="object"||t===null?ie[e]=t:t.constructor!==Object&&(P=O.get(t.constructor))?ie[e]=P(t,Y):ArrayBuffer.isView(t)?ie[e]=b(t):ie[e]=Y(t)}return ie}function le(B){if(typeof B!="object"||B===null)return B;if(Array.isArray(B))return z(B,le);if(B.constructor!==Object&&(P=O.get(B.constructor)))return P(B,le);let ie={};for(let e in B){let t=B[e];typeof t!="object"||t===null?ie[e]=t:t.constructor!==Object&&(P=O.get(t.constructor))?ie[e]=P(t,le):ArrayBuffer.isView(t)?ie[e]=b(t):ie[e]=le(t)}return ie}}function E(A){let O=[],P=[],z=new Map;if(z.set(Date,e=>new Date(e)),z.set(Map,(e,t)=>new Map(le(Array.from(e),t))),z.set(Set,(e,t)=>new Set(le(Array.from(e),t))),A.constructorHandlers)for(let e of A.constructorHandlers)z.set(e[0],e[1]);let Y=null;return A.proto?ie:B;function le(e,t){let n=Object.keys(e),i=new Array(n.length);for(let r=0;r<n.length;r++){let o=n[r],s=e[o];if(typeof s!="object"||s===null)i[o]=s;else if(s.constructor!==Object&&(Y=z.get(s.constructor)))i[o]=Y(s,t);else if(ArrayBuffer.isView(s))i[o]=b(s);else{let l=O.indexOf(s);l!==-1?i[o]=P[l]:i[o]=t(s)}}return i}function B(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return le(e,B);if(e.constructor!==Object&&(Y=z.get(e.constructor)))return Y(e,B);let t={};O.push(e),P.push(t);for(let n in e){if(Object.hasOwnProperty.call(e,n)===!1)continue;let i=e[n];if(typeof i!="object"||i===null)t[n]=i;else if(i.constructor!==Object&&(Y=z.get(i.constructor)))t[n]=Y(i,B);else if(ArrayBuffer.isView(i))t[n]=b(i);else{let r=O.indexOf(i);r!==-1?t[n]=P[r]:t[n]=B(i)}}return O.pop(),P.pop(),t}function ie(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return le(e,ie);if(e.constructor!==Object&&(Y=z.get(e.constructor)))return Y(e,ie);let t={};O.push(e),P.push(t);for(let n in e){let i=e[n];if(typeof i!="object"||i===null)t[n]=i;else if(i.constructor!==Object&&(Y=z.get(i.constructor)))t[n]=Y(i,ie);else if(ArrayBuffer.isView(i))t[n]=b(i);else{let r=O.indexOf(i);r!==-1?t[n]=P[r]:t[n]=ie(i)}}return O.pop(),P.pop(),t}}}),Qe=Math.min,F=Math.max,Oe=Math.round,Re=a=>({x:a,y:a}),Te={left:"right",right:"left",bottom:"top",top:"bottom"},ze={start:"end",end:"start"};function Xe(a,h,b){return F(a,Qe(h,b))}function ot(a,h){return typeof a=="function"?a(h):a}function Ke(a){return a.split("-")[0]}function et(a){return a.split("-")[1]}function ft(a){return a==="x"?"y":"x"}function tt(a){return a==="y"?"height":"width"}var ut=new Set(["top","bottom"]);function He(a){return ut.has(Ke(a))?"y":"x"}function nt(a){return ft(He(a))}function R(a,h,b){b===void 0&&(b=!1);let x=et(a),E=nt(a),A=tt(E),O=E==="x"?x===(b?"end":"start")?"right":"left":x==="start"?"bottom":"top";return h.reference[A]>h.floating[A]&&(O=D(O)),[O,D(O)]}function K(a){let h=D(a);return[ye(a),h,ye(h)]}function ye(a){return a.replace(/start|end/g,h=>ze[h])}var j=["left","right"],d=["right","left"],k=["top","bottom"],M=["bottom","top"];function Z(a,h,b){switch(a){case"top":case"bottom":return b?h?d:j:h?j:d;case"left":case"right":return h?k:M;default:return[]}}function ge(a,h,b,x){let E=et(a),A=Z(Ke(a),b==="start",x);return E&&(A=A.map(O=>O+"-"+E),h&&(A=A.concat(A.map(ye)))),A}function D(a){return a.replace(/left|right|bottom|top/g,h=>Te[h])}function oe(a){return{top:0,right:0,bottom:0,left:0,...a}}function Q(a){return typeof a!="number"?oe(a):{top:a,right:a,bottom:a,left:a}}function X(a){let{x:h,y:b,width:x,height:E}=a;return{width:x,height:E,top:b,left:h,right:h+x,bottom:b+E,x:h,y:b}}function xe(a,h,b){let{reference:x,floating:E}=a,A=He(h),O=nt(h),P=tt(O),z=Ke(h),Y=A==="y",le=x.x+x.width/2-E.width/2,B=x.y+x.height/2-E.height/2,ie=x[P]/2-E[P]/2,e;switch(z){case"top":e={x:le,y:x.y-E.height};break;case"bottom":e={x:le,y:x.y+x.height};break;case"right":e={x:x.x+x.width,y:B};break;case"left":e={x:x.x-E.width,y:B};break;default:e={x:x.x,y:x.y}}switch(et(h)){case"start":e[O]-=ie*(b&&Y?-1:1);break;case"end":e[O]+=ie*(b&&Y?-1:1);break}return e}var V=async(a,h,b)=>{let{placement:x="bottom",strategy:E="absolute",middleware:A=[],platform:O}=b,P=A.filter(Boolean),z=await(O.isRTL==null?void 0:O.isRTL(h)),Y=await O.getElementRects({reference:a,floating:h,strategy:E}),{x:le,y:B}=xe(Y,x,z),ie=x,e={},t=0;for(let n=0;n<P.length;n++){let{name:i,fn:r}=P[n],{x:o,y:s,data:l,reset:c}=await r({x:le,y:B,initialPlacement:x,placement:ie,strategy:E,middlewareData:e,rects:Y,platform:O,elements:{reference:a,floating:h}});le=o??le,B=s??B,e={...e,[i]:{...e[i],...l}},c&&t<=50&&(t++,typeof c=="object"&&(c.placement&&(ie=c.placement),c.rects&&(Y=c.rects===!0?await O.getElementRects({reference:a,floating:h,strategy:E}):c.rects),{x:le,y:B}=xe(Y,ie,z)),n=-1)}return{x:le,y:B,placement:ie,strategy:E,middlewareData:e}};async function ce(a,h){var b;h===void 0&&(h={});let{x,y:E,platform:A,rects:O,elements:P,strategy:z}=a,{boundary:Y="clippingAncestors",rootBoundary:le="viewport",elementContext:B="floating",altBoundary:ie=!1,padding:e=0}=ot(h,a),t=Q(e),n=P[ie?B==="floating"?"reference":"floating":B],i=X(await A.getClippingRect({element:(b=await(A.isElement==null?void 0:A.isElement(n)))==null||b?n:n.contextElement||await(A.getDocumentElement==null?void 0:A.getDocumentElement(P.floating)),boundary:Y,rootBoundary:le,strategy:z})),r=B==="floating"?{x,y:E,width:O.floating.width,height:O.floating.height}:O.reference,o=await(A.getOffsetParent==null?void 0:A.getOffsetParent(P.floating)),s=await(A.isElement==null?void 0:A.isElement(o))?await(A.getScale==null?void 0:A.getScale(o))||{x:1,y:1}:{x:1,y:1},l=X(A.convertOffsetParentRelativeRectToViewportRelativeRect?await A.convertOffsetParentRelativeRectToViewportRelativeRect({elements:P,rect:r,offsetParent:o,strategy:z}):r);return{top:(i.top-l.top+t.top)/s.y,bottom:(l.bottom-i.bottom+t.bottom)/s.y,left:(i.left-l.left+t.left)/s.x,right:(l.right-i.right+t.right)/s.x}}var H=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(h){var b,x;let{placement:E,middlewareData:A,rects:O,initialPlacement:P,platform:z,elements:Y}=h,{mainAxis:le=!0,crossAxis:B=!0,fallbackPlacements:ie,fallbackStrategy:e="bestFit",fallbackAxisSideDirection:t="none",flipAlignment:n=!0,...i}=ot(a,h);if((b=A.arrow)!=null&&b.alignmentOffset)return{};let r=Ke(E),o=He(P),s=Ke(P)===P,l=await(z.isRTL==null?void 0:z.isRTL(Y.floating)),c=ie||(s||!n?[D(P)]:K(P)),u=t!=="none";!ie&&u&&c.push(...ge(P,n,t,l));let g=[P,...c],p=await ce(h,i),C=[],f=((x=A.flip)==null?void 0:x.overflows)||[];if(le&&C.push(p[r]),B){let I=R(E,O,l);C.push(p[I[0]],p[I[1]])}if(f=[...f,{placement:E,overflows:C}],!C.every(I=>I<=0)){var v,w;let I=(((v=A.flip)==null?void 0:v.index)||0)+1,q=g[I];if(q&&(!(B==="alignment"&&o!==He(q))||f.every(fe=>He(fe.placement)===o?fe.overflows[0]>0:!0)))return{data:{index:I,overflows:f},reset:{placement:q}};let te=(w=f.filter(fe=>fe.overflows[0]<=0).sort((fe,Ae)=>fe.overflows[1]-Ae.overflows[1])[0])==null?void 0:w.placement;if(!te)switch(e){case"bestFit":{var m;let fe=(m=f.filter(Ae=>{if(u){let me=He(Ae.placement);return me===o||me==="y"}return!0}).map(Ae=>[Ae.placement,Ae.overflows.filter(me=>me>0).reduce((me,be)=>me+be,0)]).sort((Ae,me)=>Ae[1]-me[1])[0])==null?void 0:m[0];fe&&(te=fe);break}case"initialPlacement":te=P;break}if(E!==te)return{reset:{placement:te}}}return{}}}};function U(a){let h=Qe(...a.map(A=>A.left)),b=Qe(...a.map(A=>A.top)),x=F(...a.map(A=>A.right)),E=F(...a.map(A=>A.bottom));return{x:h,y:b,width:x-h,height:E-b}}function S(a){let h=a.slice().sort((E,A)=>E.y-A.y),b=[],x=null;for(let E=0;E<h.length;E++){let A=h[E];!x||A.y-x.y>x.height/2?b.push([A]):b[b.length-1].push(A),x=A}return b.map(E=>X(U(E)))}var N=function(a){return a===void 0&&(a={}),{name:"inline",options:a,async fn(h){let{placement:b,elements:x,rects:E,platform:A,strategy:O}=h,{padding:P=2,x:z,y:Y}=ot(a,h),le=Array.from(await(A.getClientRects==null?void 0:A.getClientRects(x.reference))||[]),B=S(le),ie=X(U(le)),e=Q(P);function t(){if(B.length===2&&B[0].left>B[1].right&&z!=null&&Y!=null)return B.find(i=>z>i.left-e.left&&z<i.right+e.right&&Y>i.top-e.top&&Y<i.bottom+e.bottom)||ie;if(B.length>=2){if(He(b)==="y"){let f=B[0],v=B[B.length-1],w=Ke(b)==="top",m=f.top,I=v.bottom,q=w?f.left:v.left,te=w?f.right:v.right,fe=te-q,Ae=I-m;return{top:m,bottom:I,left:q,right:te,width:fe,height:Ae,x:q,y:m}}let i=Ke(b)==="left",r=F(...B.map(f=>f.right)),o=Qe(...B.map(f=>f.left)),s=B.filter(f=>i?f.left===o:f.right===r),l=s[0].top,c=s[s.length-1].bottom,u=o,g=r,p=g-u,C=c-l;return{top:l,bottom:c,left:u,right:g,width:p,height:C,x:u,y:l}}return ie}let n=await A.getElementRects({reference:{getBoundingClientRect:t},floating:x.floating,strategy:O});return E.reference.x!==n.reference.x||E.reference.y!==n.reference.y||E.reference.width!==n.reference.width||E.reference.height!==n.reference.height?{reset:{rects:n}}:{}}}},de=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(h){let{x:b,y:x,placement:E}=h,{mainAxis:A=!0,crossAxis:O=!1,limiter:P={fn:i=>{let{x:r,y:o}=i;return{x:r,y:o}}},...z}=ot(a,h),Y={x:b,y:x},le=await ce(h,z),B=He(Ke(E)),ie=ft(B),e=Y[ie],t=Y[B];if(A){let i=ie==="y"?"top":"left",r=ie==="y"?"bottom":"right",o=e+le[i],s=e-le[r];e=Xe(o,e,s)}if(O){let i=B==="y"?"top":"left",r=B==="y"?"bottom":"right",o=t+le[i],s=t-le[r];t=Xe(o,t,s)}let n=P.fn({...h,[ie]:e,[B]:t});return{...n,data:{x:n.x-b,y:n.y-x,enabled:{[ie]:A,[B]:O}}}}}};function Pe(){return typeof window<"u"}function y(a){return ne(a)?(a.nodeName||"").toLowerCase():"#document"}function L(a){var h;return(a==null||(h=a.ownerDocument)==null?void 0:h.defaultView)||window}function T(a){var h;return(h=(ne(a)?a.ownerDocument:a.document)||window.document)==null?void 0:h.documentElement}function ne(a){return Pe()?a instanceof Node||a instanceof L(a).Node:!1}function re(a){return Pe()?a instanceof Element||a instanceof L(a).Element:!1}function _(a){return Pe()?a instanceof HTMLElement||a instanceof L(a).HTMLElement:!1}function $(a){return!Pe()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof L(a).ShadowRoot}var ue=new Set(["inline","contents"]);function ke(a){let{overflow:h,overflowX:b,overflowY:x,display:E}=at(a);return/auto|scroll|overlay|hidden|clip/.test(h+x+b)&&!ue.has(E)}var Ne=new Set(["table","td","th"]);function _e(a){return Ne.has(y(a))}var ae=[":popover-open",":modal"];function Ee(a){return ae.some(h=>{try{return a.matches(h)}catch{return!1}})}var ee=["transform","translate","scale","rotate","perspective"],he=["transform","translate","scale","rotate","perspective","filter"],Se=["paint","layout","strict","content"];function G(a){let h=rt(),b=re(a)?at(a):a;return ee.some(x=>b[x]?b[x]!=="none":!1)||(b.containerType?b.containerType!=="normal":!1)||!h&&(b.backdropFilter?b.backdropFilter!=="none":!1)||!h&&(b.filter?b.filter!=="none":!1)||he.some(x=>(b.willChange||"").includes(x))||Se.some(x=>(b.contain||"").includes(x))}function Ie(a){let h=lt(a);for(;_(h)&&!dt(h);){if(G(h))return h;if(Ee(h))return null;h=lt(h)}return null}function rt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var st=new Set(["html","body","#document"]);function dt(a){return st.has(y(a))}function at(a){return L(a).getComputedStyle(a)}function kt(a){return re(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function lt(a){if(y(a)==="html")return a;let h=a.assignedSlot||a.parentNode||$(a)&&a.host||T(a);return $(h)?h.host:h}function mt(a){let h=lt(a);return dt(h)?a.ownerDocument?a.ownerDocument.body:a.body:_(h)&&ke(h)?h:mt(h)}function Nt(a,h,b){var x;h===void 0&&(h=[]),b===void 0&&(b=!0);let E=mt(a),A=E===((x=a.ownerDocument)==null?void 0:x.body),O=L(E);if(A){let P=xt(O);return h.concat(O,O.visualViewport||[],ke(E)?E:[],P&&b?Nt(P):[])}return h.concat(E,Nt(E,[],b))}function xt(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function Et(a){let h=at(a),b=parseFloat(h.width)||0,x=parseFloat(h.height)||0,E=_(a),A=E?a.offsetWidth:b,O=E?a.offsetHeight:x,P=Oe(b)!==A||Oe(x)!==O;return P&&(b=A,x=O),{width:b,height:x,$:P}}function Lt(a){return re(a)?a:a.contextElement}function bt(a){let h=Lt(a);if(!_(h))return Re(1);let b=h.getBoundingClientRect(),{width:x,height:E,$:A}=Et(h),O=(A?Oe(b.width):b.width)/x,P=(A?Oe(b.height):b.height)/E;return(!O||!Number.isFinite(O))&&(O=1),(!P||!Number.isFinite(P))&&(P=1),{x:O,y:P}}var Ht=Re(0);function _t(a){let h=L(a);return!rt()||!h.visualViewport?Ht:{x:h.visualViewport.offsetLeft,y:h.visualViewport.offsetTop}}function $t(a,h,b){return h===void 0&&(h=!1),!b||h&&b!==L(a)?!1:h}function yt(a,h,b,x){h===void 0&&(h=!1),b===void 0&&(b=!1);let E=a.getBoundingClientRect(),A=Lt(a),O=Re(1);h&&(x?re(x)&&(O=bt(x)):O=bt(a));let P=$t(A,b,x)?_t(A):Re(0),z=(E.left+P.x)/O.x,Y=(E.top+P.y)/O.y,le=E.width/O.x,B=E.height/O.y;if(A){let ie=L(A),e=x&&re(x)?L(x):x,t=ie,n=xt(t);for(;n&&x&&e!==t;){let i=bt(n),r=n.getBoundingClientRect(),o=at(n),s=r.left+(n.clientLeft+parseFloat(o.paddingLeft))*i.x,l=r.top+(n.clientTop+parseFloat(o.paddingTop))*i.y;z*=i.x,Y*=i.y,le*=i.x,B*=i.y,z+=s,Y+=l,t=L(n),n=xt(t)}}return X({width:le,height:B,x:z,y:Y})}function jt(a,h){let b=kt(a).scrollLeft;return h?h.left+b:yt(T(a)).left+b}function Ft(a,h){let b=a.getBoundingClientRect(),x=b.left+h.scrollLeft-jt(a,b),E=b.top+h.scrollTop;return{x,y:E}}function Dt(a){let{elements:h,rect:b,offsetParent:x,strategy:E}=a,A=E==="fixed",O=T(x),P=h?Ee(h.floating):!1;if(x===O||P&&A)return b;let z={scrollLeft:0,scrollTop:0},Y=Re(1),le=Re(0),B=_(x);if((B||!B&&!A)&&((y(x)!=="body"||ke(O))&&(z=kt(x)),_(x))){let e=yt(x);Y=bt(x),le.x=e.x+x.clientLeft,le.y=e.y+x.clientTop}let ie=O&&!B&&!A?Ft(O,z):Re(0);return{width:b.width*Y.x,height:b.height*Y.y,x:b.x*Y.x-z.scrollLeft*Y.x+le.x+ie.x,y:b.y*Y.y-z.scrollTop*Y.y+le.y+ie.y}}function Ct(a){return Array.from(a.getClientRects())}function Zt(a){let h=T(a),b=kt(a),x=a.ownerDocument.body,E=F(h.scrollWidth,h.clientWidth,x.scrollWidth,x.clientWidth),A=F(h.scrollHeight,h.clientHeight,x.scrollHeight,x.clientHeight),O=-b.scrollLeft+jt(a),P=-b.scrollTop;return at(x).direction==="rtl"&&(O+=F(h.clientWidth,x.clientWidth)-E),{width:E,height:A,x:O,y:P}}var ht=25;function Ot(a,h){let b=L(a),x=T(a),E=b.visualViewport,A=x.clientWidth,O=x.clientHeight,P=0,z=0;if(E){A=E.width,O=E.height;let le=rt();(!le||le&&h==="fixed")&&(P=E.offsetLeft,z=E.offsetTop)}let Y=jt(x);if(Y<=0){let le=x.ownerDocument,B=le.body,ie=getComputedStyle(B),e=le.compatMode==="CSS1Compat"&&parseFloat(ie.marginLeft)+parseFloat(ie.marginRight)||0,t=Math.abs(x.clientWidth-B.clientWidth-e);t<=ht&&(A-=t)}else Y<=ht&&(A+=Y);return{width:A,height:O,x:P,y:z}}var Vt=new Set(["absolute","fixed"]);function zt(a,h){let b=yt(a,!0,h==="fixed"),x=b.top+a.clientTop,E=b.left+a.clientLeft,A=_(a)?bt(a):Re(1),O=a.clientWidth*A.x,P=a.clientHeight*A.y,z=E*A.x,Y=x*A.y;return{width:O,height:P,x:z,y:Y}}function qt(a,h,b){let x;if(h==="viewport")x=Ot(a,b);else if(h==="document")x=Zt(T(a));else if(re(h))x=zt(h,b);else{let E=_t(a);x={x:h.x-E.x,y:h.y-E.y,width:h.width,height:h.height}}return X(x)}function St(a,h){let b=lt(a);return b===h||!re(b)||dt(b)?!1:at(b).position==="fixed"||St(b,h)}function ct(a,h){let b=h.get(a);if(b)return b;let x=Nt(a,[],!1).filter(P=>re(P)&&y(P)!=="body"),E=null,A=at(a).position==="fixed",O=A?lt(a):a;for(;re(O)&&!dt(O);){let P=at(O),z=G(O);!z&&P.position==="fixed"&&(E=null),(A?!z&&!E:!z&&P.position==="static"&&E&&Vt.has(E.position)||ke(O)&&!z&&St(a,O))?x=x.filter(Y=>Y!==O):E=P,O=lt(O)}return h.set(a,x),x}function Wt(a){let{element:h,boundary:b,rootBoundary:x,strategy:E}=a,A=[...b==="clippingAncestors"?Ee(h)?[]:ct(h,this._c):[].concat(b),x],O=A[0],P=A.reduce((z,Y)=>{let le=qt(h,Y,E);return z.top=F(le.top,z.top),z.right=Qe(le.right,z.right),z.bottom=Qe(le.bottom,z.bottom),z.left=F(le.left,z.left),z},qt(h,O,E));return{width:P.right-P.left,height:P.bottom-P.top,x:P.left,y:P.top}}function Kt(a){let{width:h,height:b}=Et(a);return{width:h,height:b}}function Tt(a,h,b){let x=_(h),E=T(h),A=b==="fixed",O=yt(a,!0,A,h),P={scrollLeft:0,scrollTop:0},z=Re(0);function Y(){z.x=jt(E)}if(x||!x&&!A)if((y(h)!=="body"||ke(E))&&(P=kt(h)),x){let e=yt(h,!0,A,h);z.x=e.x+h.clientLeft,z.y=e.y+h.clientTop}else E&&Y();A&&!x&&E&&Y();let le=E&&!x&&!A?Ft(E,P):Re(0),B=O.left+P.scrollLeft-z.x-le.x,ie=O.top+P.scrollTop-z.y-le.y;return{x:B,y:ie,width:O.width,height:O.height}}function pt(a){return at(a).position==="static"}function At(a,h){if(!_(a)||at(a).position==="fixed")return null;if(h)return h(a);let b=a.offsetParent;return T(a)===b&&(b=b.ownerDocument.body),b}function Pt(a,h){let b=L(a);if(Ee(a))return b;if(!_(a)){let E=lt(a);for(;E&&!dt(E);){if(re(E)&&!pt(E))return E;E=lt(E)}return b}let x=At(a,h);for(;x&&_e(x)&&pt(x);)x=At(x,h);return x&&dt(x)&&pt(x)&&!G(x)?b:x||Ie(a)||b}var wt=async function(a){let h=this.getOffsetParent||Pt,b=this.getDimensions,x=await b(a.floating);return{reference:Tt(a.reference,await h(a.floating),a.strategy),floating:{x:0,y:0,width:x.width,height:x.height}}};function Qt(a){return at(a).direction==="rtl"}var en={convertOffsetParentRelativeRectToViewportRelativeRect:Dt,getDocumentElement:T,getClippingRect:Wt,getOffsetParent:Pt,getElementRects:wt,getClientRects:Ct,getDimensions:Kt,getScale:bt,isElement:re,isRTL:Qt},Bt=de,an=H,tn=N,cn=(a,h,b)=>{let x=new Map,E={platform:en,...b},A={...E.platform,_c:x};return V(a,h,{...E,platform:A})},hn=Object.hasOwnProperty,Ut=Le(Ve(),1),fn=(0,Ut.default)(),Jt=(a,h,b)=>{let x=new URL(a.getAttribute(h),b);a.setAttribute(h,x.pathname+x.hash)};function nn(a,h){a.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(b=>Jt(b,"href",h)),a.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(b=>Jt(b,"src",h))}var rn=/<link rel="canonical" href="([^"]*)">/;async function on(a){let h=new URL(a);h.searchParams.set("_t",Date.now().toString());let b=await fetch(`${h}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!b.headers.get("content-type")?.startsWith("text/html"))return b;let x=await b.clone().text(),[E,A]=x.match(rn)??[];if(A){let O=new URL(A,a);return O.searchParams.set("_t",Date.now().toString()),fetch(`${O}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}})}return b}var sn=new DOMParser,Mt=null;async function gt({clientX:a,clientY:h}){let b=Mt=this;if(b.dataset.noPopover==="true")return;async function x(n){let{x:i,y:r}=await cn(b,n,{strategy:"fixed",middleware:[tn({x:a,y:h}),Bt(),an()]});Object.assign(n.style,{transform:`translate(${i.toFixed()}px, ${r.toFixed()}px)`})}function E(n){if(it(),n.classList.add("active-popover"),x(n),O!==""){let i=`#popover-internal-${O.slice(1)}`,r=t.querySelector(i);r&&t.scroll({top:r.offsetTop-12,behavior:"instant"})}}let A=new URL(b.href),O=decodeURIComponent(A.hash);A.hash="",A.search="";let P=`popover-${b.pathname}`,z=document.getElementById(P);if(document.getElementById(P)){E(z);return}let Y=await on(A).catch(n=>{console.error(n)});if(!Y)return;let[le]=Y.headers.get("Content-Type").split(";"),[B,ie]=le.split("/"),e=document.createElement("div");e.id=P,e.classList.add("popover");let t=document.createElement("div");switch(t.classList.add("popover-inner"),t.dataset.contentType=le??void 0,e.appendChild(t),B){case"image":let n=document.createElement("img");n.src=A.toString(),n.alt=A.pathname,t.appendChild(n);break;case"application":switch(ie){case"pdf":let s=document.createElement("iframe");s.src=A.toString(),t.appendChild(s);break;default:break}break;default:let i=await Y.text(),r=sn.parseFromString(i,"text/html");nn(r,A),r.querySelectorAll("[id]").forEach(s=>{let l=`popover-internal-${s.id}`;s.id=l});let o=[...r.getElementsByClassName("popover-hint")];if(o.length===0)return;o.forEach(s=>t.appendChild(s))}document.getElementById(P)||(document.body.appendChild(e),Mt===this&&E(e))}function it(){Mt=null,document.querySelectorAll(".popover").forEach(a=>a.classList.remove("active-popover"))}document.addEventListener("nav",()=>{let a=[...document.querySelectorAll("a.internal")];for(let h of a)h.addEventListener("mouseenter",gt),h.addEventListener("mouseleave",it),window.addCleanup(()=>{h.removeEventListener("mouseenter",gt),h.removeEventListener("mouseleave",it)})})})(),(function(){const Me=document.createElement("script");Me.src="https://plausible.io/js/script.manual.js",Me.setAttribute("data-domain",location.hostname),Me.defer=!0,Me.onload=()=>{window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},plausible("pageview"),document.addEventListener("nav",()=>{plausible("pageview")})},document.head.appendChild(Me)})(),(function(){var Me=Object.create,ve=Object.defineProperty,De=Object.getOwnPropertyDescriptor,$e=Object.getOwnPropertyNames,Ge=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty,Fe=(y,L)=>()=>(L||y((L={exports:{}}).exports,L),L.exports),Ze=(y,L,T,ne)=>{if(L&&typeof L=="object"||typeof L=="function")for(let re of $e(L))!We.call(y,re)&&re!==T&&ve(y,re,{get:()=>L[re],enumerable:!(ne=De(L,re))||ne.enumerable});return y},Le=(y,L,T)=>(T=y!=null?Me(Ge(y)):{},Ze(L||!y||!y.__esModule?ve(T,"default",{value:y,enumerable:!0}):T,y)),Ve=Fe((y,L)=>{"use strict";L.exports=ne;function T(_){return _ instanceof Buffer?Buffer.from(_):new _.constructor(_.buffer.slice(),_.byteOffset,_.length)}function ne(_){if(_=_||{},_.circles)return re(_);let $=new Map;if($.set(Date,ae=>new Date(ae)),$.set(Map,(ae,Ee)=>new Map(ke(Array.from(ae),Ee))),$.set(Set,(ae,Ee)=>new Set(ke(Array.from(ae),Ee))),_.constructorHandlers)for(let ae of _.constructorHandlers)$.set(ae[0],ae[1]);let ue=null;return _.proto?_e:Ne;function ke(ae,Ee){let ee=Object.keys(ae),he=new Array(ee.length);for(let Se=0;Se<ee.length;Se++){let G=ee[Se],Ie=ae[G];typeof Ie!="object"||Ie===null?he[G]=Ie:Ie.constructor!==Object&&(ue=$.get(Ie.constructor))?he[G]=ue(Ie,Ee):ArrayBuffer.isView(Ie)?he[G]=T(Ie):he[G]=Ee(Ie)}return he}function Ne(ae){if(typeof ae!="object"||ae===null)return ae;if(Array.isArray(ae))return ke(ae,Ne);if(ae.constructor!==Object&&(ue=$.get(ae.constructor)))return ue(ae,Ne);let Ee={};for(let ee in ae){if(Object.hasOwnProperty.call(ae,ee)===!1)continue;let he=ae[ee];typeof he!="object"||he===null?Ee[ee]=he:he.constructor!==Object&&(ue=$.get(he.constructor))?Ee[ee]=ue(he,Ne):ArrayBuffer.isView(he)?Ee[ee]=T(he):Ee[ee]=Ne(he)}return Ee}function _e(ae){if(typeof ae!="object"||ae===null)return ae;if(Array.isArray(ae))return ke(ae,_e);if(ae.constructor!==Object&&(ue=$.get(ae.constructor)))return ue(ae,_e);let Ee={};for(let ee in ae){let he=ae[ee];typeof he!="object"||he===null?Ee[ee]=he:he.constructor!==Object&&(ue=$.get(he.constructor))?Ee[ee]=ue(he,_e):ArrayBuffer.isView(he)?Ee[ee]=T(he):Ee[ee]=_e(he)}return Ee}}function re(_){let $=[],ue=[],ke=new Map;if(ke.set(Date,ee=>new Date(ee)),ke.set(Map,(ee,he)=>new Map(_e(Array.from(ee),he))),ke.set(Set,(ee,he)=>new Set(_e(Array.from(ee),he))),_.constructorHandlers)for(let ee of _.constructorHandlers)ke.set(ee[0],ee[1]);let Ne=null;return _.proto?Ee:ae;function _e(ee,he){let Se=Object.keys(ee),G=new Array(Se.length);for(let Ie=0;Ie<Se.length;Ie++){let rt=Se[Ie],st=ee[rt];if(typeof st!="object"||st===null)G[rt]=st;else if(st.constructor!==Object&&(Ne=ke.get(st.constructor)))G[rt]=Ne(st,he);else if(ArrayBuffer.isView(st))G[rt]=T(st);else{let dt=$.indexOf(st);dt!==-1?G[rt]=ue[dt]:G[rt]=he(st)}}return G}function ae(ee){if(typeof ee!="object"||ee===null)return ee;if(Array.isArray(ee))return _e(ee,ae);if(ee.constructor!==Object&&(Ne=ke.get(ee.constructor)))return Ne(ee,ae);let he={};$.push(ee),ue.push(he);for(let Se in ee){if(Object.hasOwnProperty.call(ee,Se)===!1)continue;let G=ee[Se];if(typeof G!="object"||G===null)he[Se]=G;else if(G.constructor!==Object&&(Ne=ke.get(G.constructor)))he[Se]=Ne(G,ae);else if(ArrayBuffer.isView(G))he[Se]=T(G);else{let Ie=$.indexOf(G);Ie!==-1?he[Se]=ue[Ie]:he[Se]=ae(G)}}return $.pop(),ue.pop(),he}function Ee(ee){if(typeof ee!="object"||ee===null)return ee;if(Array.isArray(ee))return _e(ee,Ee);if(ee.constructor!==Object&&(Ne=ke.get(ee.constructor)))return Ne(ee,Ee);let he={};$.push(ee),ue.push(he);for(let Se in ee){let G=ee[Se];if(typeof G!="object"||G===null)he[Se]=G;else if(G.constructor!==Object&&(Ne=ke.get(G.constructor)))he[Se]=Ne(G,Ee);else if(ArrayBuffer.isView(G))he[Se]=T(G);else{let Ie=$.indexOf(G);Ie!==-1?he[Se]=ue[Ie]:he[Se]=Ee(G)}}return $.pop(),ue.pop(),he}}}),Qe=y=>(L,T)=>L[`node${y}`]===T[`node${y}`],F=Qe("Name"),Oe=Qe("Type"),Re=Qe("Value");function Te(y,L){if(y.attributes.length===0&&L.attributes.length===0)return[];let T=[],ne=new Map,re=new Map;for(let _ of y.attributes)ne.set(_.name,_.value);for(let _ of L.attributes){let $=ne.get(_.name);_.value===$?ne.delete(_.name):(typeof $<"u"&&ne.delete(_.name),re.set(_.name,_.value))}for(let _ of ne.keys())T.push({type:5,name:_});for(let[_,$]of re.entries())T.push({type:4,name:_,value:$});return T}function ze(y,L=!0){let T=`${y.localName}`;for(let{name:ne,value:re}of y.attributes)L&&ne.startsWith("data-")||(T+=`[${ne}=${re}]`);return T+=y.innerHTML,T}function Xe(y){switch(y.tagName){case"BASE":case"TITLE":return y.localName;case"META":{if(y.hasAttribute("name"))return`meta[name="${y.getAttribute("name")}"]`;if(y.hasAttribute("property"))return`meta[name="${y.getAttribute("property")}"]`;break}case"LINK":{if(y.hasAttribute("rel")&&y.hasAttribute("href"))return`link[rel="${y.getAttribute("rel")}"][href="${y.getAttribute("href")}"]`;if(y.hasAttribute("href"))return`link[href="${y.getAttribute("href")}"]`;break}}return ze(y)}function ot(y){let[L,T=""]=y.split("?");return`${L}?t=${Date.now()}&${T.replace(/t=\d+/g,"")}`}function Ke(y){if(y.nodeType===1&&y.hasAttribute("data-persist"))return y;if(y.nodeType===1&&y.localName==="script"){let L=document.createElement("script");for(let{name:T,value:ne}of y.attributes)T==="src"&&(ne=ot(ne)),L.setAttribute(T,ne);return L.innerHTML=y.innerHTML,L}return y.cloneNode(!0)}function et(y,L){if(y.children.length===0&&L.children.length===0)return[];let T=[],ne=new Map,re=new Map,_=new Map;for(let $ of y.children)ne.set(Xe($),$);for(let $ of L.children){let ue=Xe($),ke=ne.get(ue);ke?ze($,!1)!==ze(ke,!1)&&re.set(ue,Ke($)):_.set(ue,Ke($)),ne.delete(ue)}for(let $ of y.childNodes){if($.nodeType===1){let ue=Xe($);if(ne.has(ue)){T.push({type:1});continue}else if(re.has(ue)){let ke=re.get(ue);T.push({type:3,attributes:Te($,ke),children:ft($,ke)});continue}}T.push(void 0)}for(let $ of _.values())T.push({type:0,node:Ke($)});return T}function ft(y,L){let T=[],ne=Math.max(y.childNodes.length,L.childNodes.length);for(let re=0;re<ne;re++){let _=y.childNodes.item(re),$=L.childNodes.item(re);T[re]=tt(_,$)}return T}function tt(y,L){if(!y)return{type:0,node:Ke(L)};if(!L)return{type:1};if(Oe(y,L)){if(y.nodeType===3){let T=y.nodeValue,ne=L.nodeValue;if(T.trim().length===0&&ne.trim().length===0)return}if(y.nodeType===1){if(F(y,L)){let T=y.tagName==="HEAD"?et:ft;return{type:3,attributes:Te(y,L),children:T(y,L)}}return{type:2,node:Ke(L)}}else return y.nodeType===9?tt(y.documentElement,L.documentElement):Re(y,L)?void 0:{type:2,value:L.nodeValue}}return{type:2,node:Ke(L)}}function ut(y,L){if(L.length!==0)for(let{type:T,name:ne,value:re}of L)T===5?y.removeAttribute(ne):T===4&&y.setAttribute(ne,re)}async function He(y,L,T){if(!L)return;let ne;switch(y.nodeType===9?(y=y.documentElement,ne=y):T?ne=T:ne=y,L.type){case 0:{let{node:re}=L;y.appendChild(re);return}case 1:{if(!ne)return;y.removeChild(ne);return}case 2:{if(!ne)return;let{node:re,value:_}=L;if(typeof _=="string"){ne.nodeValue=_;return}ne.replaceWith(re);return}case 3:{if(!ne)return;let{attributes:re,children:_}=L;ut(ne,re);let $=Array.from(ne.childNodes);await Promise.all(_.map((ue,ke)=>He(ne,ue,$[ke])));return}}}function nt(y,L){let T=tt(y,L);return He(y,T)}var R=Object.hasOwnProperty,K=Le(Ve(),1),ye=(0,K.default)();function j(y){return y.document.body.dataset.slug}var d=(y,L,T)=>{let ne=new URL(y.getAttribute(L),T);y.setAttribute(L,ne.pathname+ne.hash)};function k(y,L){y.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(T=>d(T,"href",L)),y.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(T=>d(T,"src",L))}var M=/<link rel="canonical" href="([^"]*)">/;async function Z(y){let L=new URL(y);L.searchParams.set("_t",Date.now().toString());let T=await fetch(`${L}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!T.headers.get("content-type")?.startsWith("text/html"))return T;let ne=await T.clone().text(),[re,_]=ne.match(M)??[];if(_){let $=new URL(_,y);return $.searchParams.set("_t",Date.now().toString()),fetch(`${$}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}})}return T}var ge=1,D=document.createElement("route-announcer"),oe=y=>y?.nodeType===ge,Q=y=>{try{let L=new URL(y);if(window.location.origin===L.origin)return!0}catch{}return!1},X=y=>{let L=y.origin===window.location.origin,T=y.pathname===window.location.pathname;return L&&T},xe=({target:y})=>{if(!oe(y)||y.attributes.getNamedItem("target")?.value==="_blank")return;let L=y.closest("a");if(!L||"routerIgnore"in L.dataset)return;let{href:T}=L;if(Q(T))return{url:new URL(T),scroll:"routerNoscroll"in L.dataset?!1:void 0}};function V(y){let L=new CustomEvent("nav",{detail:{url:y}});document.dispatchEvent(L)}var ce=new Set;window.addCleanup=y=>ce.add(y);function H(){let y=document.createElement("div");y.className="navigation-progress",y.style.width="0",document.body.contains(y)||document.body.appendChild(y),setTimeout(()=>{y.style.width="80%"},100)}var U=!1,S;async function N(y,L=!1){U=!0,H(),S=S||new DOMParser;let T=await Z(y).then($=>{if($.headers.get("content-type")?.startsWith("text/html"))return $.text();window.location.assign(y)}).catch(()=>{window.location.assign(y)});if(!T)return;let ne=new CustomEvent("prenav",{detail:{}});document.dispatchEvent(ne),ce.forEach($=>$()),ce.clear();let re=S.parseFromString(T,"text/html");k(re,y);let _=re.querySelector("title")?.textContent;if(_)document.title=_;else{let $=document.querySelector("h1");_=$?.innerText??$?.textContent??y.pathname}D.textContent!==_&&(D.textContent=_),D.dataset.persist="",re.body.appendChild(D),nt(document.body,re.body),L||(y.hash?document.getElementById(decodeURIComponent(y.hash.substring(1)))?.scrollIntoView():window.scrollTo({top:0})),document.head.querySelectorAll(":not([spa-preserve])").forEach($=>$.remove()),re.head.querySelectorAll(":not([spa-preserve])").forEach($=>document.head.appendChild($)),L||history.pushState({},"",y),V(j(window)),delete D.dataset.persist}async function de(y,L=!1){if(!U){U=!0;try{await N(y,L)}catch(T){console.error(T),window.location.assign(y)}finally{U=!1}}}window.spaNavigate=de;function Pe(){return typeof window<"u"&&(window.addEventListener("click",async y=>{let{url:L}=xe(y)??{};if(!(!L||y.ctrlKey||y.metaKey)){if(y.preventDefault(),X(L)&&L.hash){document.getElementById(decodeURIComponent(L.hash.substring(1)))?.scrollIntoView(),history.pushState({},"",L);return}de(L,!1)}}),window.addEventListener("popstate",y=>{let{url:L}=xe(y)??{};window.location.hash&&window.location.pathname===L?.pathname||de(new URL(window.location.toString()),!0)})),new class{go(y){let L=new URL(y,window.location.toString());return de(L,!1)}back(){return window.history.back()}forward(){return window.history.forward()}}}if(Pe(),V(j(window)),!customElements.get("route-announcer")){let y={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[L,T]of Object.entries(y))this.setAttribute(L,T)}})}})();
