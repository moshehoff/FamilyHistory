# ××¤×¨×˜ ××¤×•×¨×˜ - ××ª×¨ ×”×™×¡×˜×•×¨×™×” ××©×¤×—×ª×™×ª

**×’×¨×¡×”**: 3.0  
**×ª××¨×™×š**: × ×•×‘××‘×¨ 2025  
**×¡×˜×˜×•×¡**: ××™××•×© ×¤×¢×™×œ

---

## 1. ×¡×§×™×¨×” ×›×œ×œ×™×ª

### 1.1 ××˜×¨×ª ×”×¤×¨×•×™×§×˜
××ª×¨ ×¡×˜×˜×™ ×œ×ª×™×¢×•×“ ×•×”×¦×’×ª ×”×™×¡×˜×•×¨×™×” ××©×¤×—×ª×™×ª, ××‘×•×¡×¡ ×¢×œ × ×ª×•× ×™ GEDCOM, ×¢× ×‘×™×•×’×¨×¤×™×•×ª ××¤×•×¨×˜×•×ª, ×ª××•× ×•×ª ×•××¡××›×™× ×”×™×¡×˜×•×¨×™×™×.

### 1.2 ×¢×§×¨×•× ×•×ª ××¨×›×–×™×™×
- **××ª×¨ ×¡×˜×˜×™**: ×œ×œ× ×©×¨×ª backend, ×œ×œ× database
- **×××©×§ ×× ×’×œ×™**: ×›×œ ×”-GUI ×‘×× ×’×œ×™×ª ×‘×œ×‘×“
- **×ª×•×›×Ÿ ×¨×‘-×œ×©×•× ×™**: ×ª×•×›×Ÿ ×‘×¢×‘×¨×™×ª/×× ×’×œ×™×ª ×œ×¤×™ ×”××§×•×¨
- **×¤×©×˜×•×ª**: ×œ×œ× ×ª×›×•× ×•×ª ××•×¨×›×‘×•×ª ××™×•×ª×¨×•×ª (×œ×œ× ××¢×¨×›×ª ×ª×’×•×‘×•×ª)
- **×§×¨×™××•×ª**: ×¢×™×¦×•×‘ × ×§×™ ×•××§×¦×•×¢×™, ×“×•××” ×œ×¡×¤×¨

---

## 2. ××¨×›×™×˜×§×˜×•×¨×” ×˜×›× ×™×ª

### 2.1 ×˜×›× ×•×œ×•×’×™×•×ª
- **Static Site Generator**: Quartz 4.5.2
- **Frontend**: React + TypeScript + SCSS
- **Data Source**: GEDCOM file (`data/tree.ged`)
- **Diagrams**: Mermaid.js
- **Build Tool**: Python script (`scripts/doit.py`)

### 2.2 ×ª×”×œ×™×š ×‘× ×™×™×”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ tree.ged    â”‚ (GEDCOM data)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  doit.py    â”‚ (Python script)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€> Parses GEDCOM
       â”œâ”€â”€> Generates Markdown profiles
       â”œâ”€â”€> Creates family diagrams
       â”œâ”€â”€> Copies bios/ to site/content/
       â”œâ”€â”€> Copies images to site/content/
       â”œâ”€â”€> Creates media-index.json
       â””â”€â”€> Copies documents/ to site/quartz/static/documents/
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚site/content/â”‚ (Generated Markdown)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Quartz Build â”‚ (npx quartz build)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚site/public/ â”‚ (Static HTML/CSS/JS)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.1 ×©×œ×‘×™ `doit.py`
1. **Clean**: ××—×™×§×ª ×›×œ ×”×§×‘×¦×™× ×”×§×•×“××™× (`site/content/`, `site/public/`, etc.)
2. **Parse GEDCOM**: ×§×¨×™××ª `tree.ged` ×œ-dictionaries ×©×œ individuals ×•-families
3. **Copy Source Content**: ×”×¢×ª×§×ª `content/index.md` ×•-`content/pages/` ×œ-`site/content/`
4. **Build Profiles**: ×™×¦×™×¨×ª Markdown profiles ×‘-`site/content/profiles/`
   - Frontmatter ×¢× type, title, ID
   - HTML structure ×¢× `<dl>` ×œ×¤×¨×˜×™ ×”×¤×¨×•×¤×™×œ
   - 3 ×“×™××’×¨××•×ª Mermaid: Nuclear Family, Ancestors, Descendants
   - ×©×™×œ×•×‘ ×‘×™×•×’×¨×¤×™×” ××¤×•×¨×˜×ª ×-`bios/{ID}.md` ×× ×§×™×™××ª
5. **Generate Indexes**: ×™×¦×™×¨×ª `pages/all-profiles.md` ×•-`pages/profiles-of-interest.md`
6. **Create Media Index**: ×¡×¨×™×§×ª `documents/` ×•×™×¦×™×¨×ª `media-index.json`
7. **Copy Documents**: ×”×¢×ª×§×ª `documents/` ×œ-`site/quartz/static/documents/`
8. **Copy Images**: ×”×¢×ª×§×ª ×ª××•× ×•×ª ×-`bios/` ×œ-`site/content/`
9. **Generate Family Data**: ×™×¦×™×¨×ª `family-data.json` ×œ×¢×¥ ×”××©×¤×—×ª×™ ×”×’×“×•×œ

---

## 3. ××‘× ×” ×§×‘×¦×™×

```
V4/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ tree.ged                    # GEDCOM source file
â”‚   â”œâ”€â”€ tree.ged.backup             # Backups
â”‚   â””â”€â”€ tree.ged.backup2
â”‚
â”œâ”€â”€ bios/                           # Extended biographies (Markdown)
â”‚   â”œâ”€â”€ I10.md                      # Moshe Hoffman's biography
â”‚   â”œâ”€â”€ I3.md                       # Edith Hoffman's biography
â”‚   â”œâ”€â”€ Pasted image 20251022123649.png  # Images used in bios
â”‚   â”œâ”€â”€ Pasted image 20251022123726.png
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ documents/                      # Media files for profiles
â”‚   â””â”€â”€ I10/                        # Moshe Hoffman's media
â”‚       â”œâ”€â”€ Tubble & Moishe 1957.jpg
â”‚       â””â”€â”€ Tubble & Moishe 1957.md # Caption/description
â”‚
â”œâ”€â”€ content/                        # Static pages (NOT generated)
â”‚   â”œâ”€â”€ index.md                    # Homepage
â”‚   â””â”€â”€ pages/
â”‚       â””â”€â”€ about.md                # About page
â”‚
â”œâ”€â”€ site/                           # Quartz site
â”‚   â”œâ”€â”€ content/                    # Generated content (DO NOT EDIT)
â”‚   â”‚   â”œâ”€â”€ index.md                # Copied from content/
â”‚   â”‚   â”œâ”€â”€ pages/                  # Copied from content/pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ about.md
â”‚   â”‚   â”‚   â”œâ”€â”€ all-profiles.md     # Generated by doit.py
â”‚   â”‚   â”‚   â””â”€â”€ profiles-of-interest.md  # Generated by doit.py
â”‚   â”‚   â””â”€â”€ profiles/               # Generated by doit.py
â”‚   â”‚       â”œâ”€â”€ Moshe ××©×” Hoffman.md
â”‚   â”‚       â”œâ”€â”€ Edith ×¦×™×¨×œ Hoffman.md
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ quartz/
â”‚   â”‚   â”œâ”€â”€ components/             # Custom React components
â”‚   â”‚   â”‚   â”œâ”€â”€ NavBar.tsx          # Top navigation bar
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileTabs.tsx     # Biography/Gallery tabs
â”‚   â”‚   â”‚   â”œâ”€â”€ ArticleTitle.tsx    # Page title (only for profiles)
â”‚   â”‚   â”‚   â”œâ”€â”€ PageTitle.tsx       # Site title
â”‚   â”‚   â”‚   â”œâ”€â”€ ContentMeta.tsx     # Metadata (disabled)
â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx          # Footer with links
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ styles/                 # SCSS styles
â”‚   â”‚   â”‚   â”œâ”€â”€ base.scss           # Quartz base styles
â”‚   â”‚   â”‚   â”œâ”€â”€ custom.scss         # Custom global styles
â”‚   â”‚   â”‚   â”œâ”€â”€ family-profiles.scss # Profile-specific styles
â”‚   â”‚   â”‚   â””â”€â”€ explorer.scss       # Explorer sidebar styles
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”‚   â””â”€â”€ util.ts             # Utilities (cache busting)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ static/                 # Static assets
â”‚   â”‚       â”œâ”€â”€ family-data.json    # Generated by doit.py
â”‚   â”‚       â”œâ”€â”€ media-index.json    # Generated by doit.py
â”‚   â”‚       â””â”€â”€ documents/          # Copied by doit.py
â”‚   â”‚
â”‚   â”œâ”€â”€ quartz.config.ts            # Quartz configuration
â”‚   â”œâ”€â”€ quartz.layout.ts            # Page layouts
â”‚   â””â”€â”€ public/                     # Build output (DO NOT EDIT)
â”‚
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ doit.py                     # Main build script
â”‚
â””â”€â”€ .gitignore                      # Ignore generated files
```

---

## 4. ×××©×§ ××©×ª××© (UI)

### 4.1 ××‘× ×” ×›×œ×œ×™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Family History]  Home | All Profiles | ... | About    â”‚ â† Top Navigation
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                              â”‚
â”‚ Explorer â”‚         Main Content Area                    â”‚
â”‚          â”‚                                              â”‚
â”‚ - pages  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   - aboutâ”‚  â”‚  Profile: Moshe ××©×” Hoffman        â”‚     â”‚
â”‚   - all  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ - profilesâ”‚ â”‚ [Biography] [Gallery]              â”‚     â”‚
â”‚   - Mosheâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚   - Edithâ”‚  â”‚                                    â”‚     â”‚
â”‚   - ...  â”‚  â”‚  Birth: circa 1884 at Savran...    â”‚     â”‚
â”‚          â”‚  â”‚  Death: April 7, 1973...           â”‚     â”‚
â”‚          â”‚  â”‚                                    â”‚     â”‚
â”‚          â”‚  â”‚  ## Nuclear Family                 â”‚     â”‚
â”‚          â”‚  â”‚  [Mermaid diagram]                 â”‚     â”‚
â”‚          â”‚  â”‚                                    â”‚     â”‚
â”‚          â”‚  â”‚  ## Biography                      â”‚     â”‚
â”‚          â”‚  â”‚  Biography text...                 â”‚     â”‚
â”‚          â”‚  â”‚                                    â”‚     â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚          â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Navigation Bar (×¡×¨×’×œ × ×™×•×•×˜ ×¢×œ×™×•×Ÿ)

**×§×™×©×•×¨×™×**:
- **Home**: ×“×£ ×”×‘×™×ª
- **All Profiles**: ×›×œ ×”×¤×¨×•×¤×™×œ×™× (546 members)
- **Profiles of Interest**: ×¤×¨×•×¤×™×œ×™× ×¢× ×‘×™×•×’×¨×¤×™×•×ª ××•×¨×—×‘×•×ª
- **About**: ××•×“×•×ª ×”××ª×¨

**×¢×™×¦×•×‘**:
- ××™×§×•×: ×¦××•×“ ×œ×—×œ×§ ×”×¢×œ×™×•×Ÿ
- ×”×ª× ×”×’×•×ª: ×¡×˜×˜×™ (×œ× sticky, × ×¢×œ× ×‘×’×œ×™×œ×”)
- ×¦×‘×¢: ×¨×§×¢ ×œ×‘×Ÿ, ×˜×§×¡×˜ ×©×—×•×¨ (#1a1a1a)
- ×¤×•× ×˜: 1rem, font-weight 500
- Hover: ×¦×‘×¢ tertiary
- ××•×‘×™×™×œ: ×ª×¤×¨×™×˜ ×”××‘×•×¨×’×¨ (â˜°)

**×§×•×“**: `site/quartz/components/NavBar.tsx`

### 4.3 Explorer (×ª×¤×¨×™×˜ ×¦×“)

**×ª×•×›×Ÿ**:
- ×ª×™×§×™×™×” `pages/`: about, all-profiles, profiles-of-interest
- ×ª×™×§×™×™×” `profiles/`: ×›×œ ×”×¤×¨×•×¤×™×œ×™× (21 profiles)

**×¢×™×¦×•×‘**:
- ×¤×•× ×˜: Segoe UI, 14px (0.875rem)
- ×¦×‘×¢: ×©×—×•×¨ ×›×”×” (#1a1a1a)
- Hover: ×¦×‘×¢ tertiary
- Active: ×¦×‘×¢ tertiary

**×§×•×“**: `site/quartz/components/styles/explorer.scss`

### 4.4 ×“×£ ×¤×¨×•×¤×™×œ

#### 4.4.1 ××‘× ×”
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Moshe ××©×” Hoffman                    â”‚ â† Title (ArticleTitle)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Biography] [Gallery]                â”‚ â† Tabs (ProfileTabs)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Birth: circa 1884 at Savran...       â”‚ â† Profile Info (<dl> structure)
â”‚ Death: April 7, 1973 at Perth...     â”‚
â”‚ Occupation: wheelwright, publican... â”‚
â”‚ Parents: â€”                           â”‚
â”‚ Siblings: â€”                          â”‚
â”‚ Spouse: Tobl Hochman (Hoffman)       â”‚
â”‚ Children: Aaron, Bella, Hyman...     â”‚
â”‚ Notes: Created by: https://...      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ## Nuclear Family                    â”‚ â† Mermaid diagram
â”‚ [Mermaid diagram]                    â”‚
â”‚                                      â”‚
â”‚ ## Ancestors (up to 2 Gen.)          â”‚
â”‚ [Mermaid diagram]                    â”‚
â”‚                                      â”‚
â”‚ ## Descendants (up to 2 Gen.)        â”‚
â”‚ [Mermaid diagram]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ## Biography                         â”‚ â† Extended biography (if exists)
â”‚ Biography text from bios/I10.md...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4.2 Profile Info Structure
- **HTML**: `<dl class="profile-info-list">` ×¢× `<dt>` ×•-`<dd>`
- **CSS Grid**: 2 columns (auto, 1fr) ×œ×¢×™××•×“ ×¢×§×‘×™
- **Links**: HTML `<a>` tags (×œ× Markdown wikilinks)
  - Person links: `/profiles/{encoded_name}`
  - Place links: Wikipedia URLs

**×§×•×“**:
- Generation: `scripts/doit.py` (functions: `wl_place_html`, `person_link_to_html`)
- Styling: `site/quartz/styles/custom.scss` (`.profile-info-list`)

#### 4.4.3 Tabs System

**×˜××‘ 1: Biography** (×‘×¨×™×¨×ª ××—×“×œ)
- ×¤×¨×˜×™ ×¤×¨×•×¤×™×œ ×‘×¡×™×¡×™×™×
- 3 ×“×™××’×¨××•×ª Mermaid
- ×‘×™×•×’×¨×¤×™×” ××¤×•×¨×˜×ª (×× ×§×™×™××ª)

**×˜××‘ 2: Gallery** (×¨×§ ×× ×™×© ×ª××•× ×•×ª/××¡××›×™×)
- ×ª××•× ×•×ª ×¢× captions
- ××¡××›×™× ×¢× ×§×™×©×•×¨×™× ×œ×”×•×¨×“×”
- × ×˜×¢×Ÿ ×“×™× ××™×ª ×-`media-index.json`

**×§×•×“**: `site/quartz/components/ProfileTabs.tsx`

**×”×ª× ×”×’×•×ª**:
- ×”×˜××‘×™× ×××•×ª×—×œ×™× ×‘-`afterDOMLoaded`
- ×××•×ª×—×œ×™× ××—×“×© ×‘×›×œ navigation (event `"nav"`)
- Gallery tab ××•×¡×ª×¨ ×× ××™×Ÿ ××“×™×”

### 4.5 Page Title

**×”×ª× ×”×’×•×ª**:
- **Profile pages**: ××¦×™×’ ××ª ×©× ×”×¤×¨×•×¤×™×œ ×›×›×•×ª×¨×ª
- **Other pages**: ×œ× ××¦×™×’ ×›×•×ª×¨×ª (××•×¡×ª×¨)

**×§×•×“**: `site/quartz/components/ArticleTitle.tsx`

### 4.6 Site Title

**×¢×™×¦×•×‘**:
- ×¤×•× ×˜: 1.1rem, bold (700)
- ×¦×‘×¢: `var(--secondary)`
- Hover: `var(--tertiary)`

**×§×•×“**: `site/quartz/components/PageTitle.tsx`

---

## 3. ××‘× ×” × ×ª×•× ×™×

### 3.1 GEDCOM File

**××™×§×•×**: `data/tree.ged`

**×ª×•×›×Ÿ**:
- Individuals (INDI records)
- Families (FAM records)
- Events (BIRT, DEAT, etc.)
- Places, dates, occupations, notes

**Parsing**: `scripts/doit.py` â†’ `parse_gedcom_file()`

### 3.2 Profile Markdown

**××™×§×•×**: `site/content/profiles/{Name}.md` (generated)

**××‘× ×”**:
```markdown
---
type: profile
title: Moshe ××©×” Hoffman
ID: I10
---

<div class="profile-info-box">
<dl class="profile-info-list">
<dt>Birth:</dt><dd>circa 1884 at <a href="...">Savran</a></dd>
<dt>Death:</dt><dd>April 7, 1973 at <a href="...">Perth</a></dd>
<dt>Occupation:</dt><dd>wheelwright, publican, businessman</dd>
<dt>Parents:</dt><dd>â€”</dd>
<dt>Siblings:</dt><dd>â€”</dd>
<dt>Spouse:</dt><dd><a href="...">Tobl Hochman (Hoffman)</a></dd>
<dt>Children:</dt><dd><a href="...">Aaron</a>, <a href="...">Bella</a>, ...</dd>
<dt>Notes:</dt><dd>Created by: https://...</dd>
</dl>
</div>

---

## Nuclear Family
```mermaid
...
```

## Ancestors (up to 2 Gen.)
```mermaid
...
```

## Descendants (up to 2 Gen.)
```mermaid
...
```

---

## Biography
[Biography text from bios/I10.md if exists]
```

### 3.3 Biography Files

#### 3.3.1 Biography ×¤×©×•×˜×” (Single File)

**××™×§×•×**: `bios/{ID}.md`

**×¤×•×¨××˜**: Markdown ×˜×”×•×¨ (×œ×œ× frontmatter)

**×ª×•×›×Ÿ**:
- ×›×•×ª×¨×•×ª: `#`, `##`, `###`
- ×¤×¡×§××•×ª: ×˜×§×¡×˜ ×¨×’×™×œ
- ×ª××•× ×•×ª: `![[image.png]]` (Obsidian format)
- ×§×™×©×•×¨×™×: `[text](url)` ××• wikilinks `[[Name]]`
- ×¦×™×˜×•×˜×™×: `> quote text`
- ×¨×©×™××•×ª: `-`, `1.`, etc.
- ×˜×‘×œ××•×ª: Markdown tables ××• ASCII art
- ×§×•×“: ` ```code``` `

**×©×™×œ×•×‘**: `doit.py` ××¢×ª×™×§ ××ª ×”×ª×•×›×Ÿ ×œ×¡×•×£ ×”×¤×¨×•×¤×™×œ ×ª×—×ª `## Biography`

#### 3.3.2 Biography ××•×¨×—×‘×ª ×¢× ×¤×¨×§×™× (Extended Biography with Chapters)

**××‘× ×” ×ª×™×§×™×•×ª**:
```
bios/
  I10/
    I10.md              â† Introduction (××•×¤×™×¢ ×›×˜××‘ ×¨××©×•×Ÿ)
    01-in_russia.md     â† ×¤×¨×§ 1
    02-savran_pogrom.md â† ×¤×¨×§ 2
    03-trans_siberian.md â† ×¤×¨×§ 3
    img_savran.png      â† ×ª××•× ×•×ª ×œ×¤×¨×§×™×
    img_podolia.png
    ...
```

**×›×œ×œ×™ ×©××•×ª ×§×‘×¦×™×**:
- ×§×•×‘×¥ ×”-Introduction: `{ID}.md` (×œ××©×œ `I10.md`)
- ×§×‘×¦×™ ×¤×¨×§×™×: `##-chapter_name.md` (××¡×¤×¨ + ××§×£ + ×©× ×‘×× ×’×œ×™×ª ×¢× ×§×•×•×™× ×ª×—×ª×•× ×™×)
- ×ª××•× ×•×ª: `img_name.png/jpg` (×›×œ ×©× ×ª×§×™×Ÿ)

**×ª×•×›×Ÿ ×§×•×‘×¥ Introduction** (`I10.md`):
```markdown
## MOSHE HOCHMAN  Introduction

[×˜×§×¡×˜ ××‘×•× ×›×œ×œ×™ ×¢×œ ×”××“×]

## Chapters

1. [[01-in_russia|Moshe Hoffman In Russia]]
2. [[02-savran_progrom|1917 Savran Pogrom]]
3. [[03-trans_siberian|Trans Sibirian Railway]]

_**Author Name, Location, Date**_
```

**×”×¢×¨×•×ª ×—×©×•×‘×•×ª**:
- ×”×›×•×ª×¨×ª ×”×¨××©×•× ×” ×ª×”×™×” ×©× ×”×¤×¨×§ (××ª×¤×¨×¡×¨ ××•×˜×•××˜×™×ª ×œ×©××•×ª ×”×˜××‘×™×)
- ×¨×©×™××ª ×”×¤×¨×§×™× ××©×ª××©×ª ×‘-wikilinks ×¢× ×ª×—×‘×™×¨: `[[filename-without-md|Display Name]]`
- ×”×§×™×©×•×¨×™× ×™×¢×‘×“×• ×›×¤×ª×¨×•× ×•×ª ×œ×—×™×¦×” ×© ×¤×•×ª×—×™× ××ª ×”×¤×¨×§×™× ×‘×˜××‘×™×

**×ª×¦×•×’×” ×‘××ª×¨**:

×›××©×¨ ×¤×¨×•×¤×™×œ ×›×•×œ×œ ×‘×™×•×’×¨×¤×™×” ××•×¨×—×‘×ª ×¢× ×¤×¨×§×™×, ×”×ª×¦×•×’×” ×ª×”×™×”:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Moshe ××©×” Hoffman                       â”‚ â† Page Title
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“– Biography] [ğŸ–¼ï¸ Gallery]             â”‚ â† Main Tabs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Birth: circa 1884...                    â”‚ â† Profile Info
â”‚ Death: April 7, 1973...                 â”‚
â”‚ ...                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ## Nuclear Family                       â”‚ â† Diagrams
â”‚ [Mermaid diagram]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Biography                               â”‚ â† Heading (h2)
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                         â”‚
â”‚ [ğŸ“– Introduction] [ğŸ“„ In Russia]        â”‚ â† Chapter Tabs
â”‚ [ğŸ“„ Savran Pogrom] [ğŸ“„ Trans-Siberian]  â”‚   (Bold, colored,
â”‚                                         â”‚    with backgrounds)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ## MOSHE HOCHMAN Introduction           â”‚ â† Chapter Content
â”‚                                         â”‚
â”‚ [Biography text and images...]          â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**×¢×™×¦×•×‘ ×”×˜××‘×™× ×©×œ ×”×¤×¨×§×™×**:
- ×¨×§×¢: `#f5f5f5` (××¤×•×¨ ×‘×”×™×¨)
- ×’×‘×•×œ: `2px solid #ddd` + `border-radius: 8px 8px 0 0` (×¢×’×•×œ ××œ××¢×œ×”)
- ×¤×•× ×˜: `1rem`, `font-weight: 600`
- ×¦×‘×¢: `#555` (××¤×•×¨ ×›×”×”)
- Hover: ×¨×§×¢ `#e8e8e8`, `transform: translateY(-2px)` (×”×¨××” ×§×œ×”)
- Active: ×¨×§×¢ ×œ×‘×Ÿ, ×’×‘×•×œ ×¦×‘×¢×•× ×™ (secondary), `box-shadow`, `font-weight: 700`

#### 3.3.3 ×¡×™× ×˜×§×¡ Markdown ×œ×›×ª×™×‘×ª ×‘×™×•×’×¨×¤×™×•×ª

##### ×©×‘×™×¨×ª ×©×•×¨×•×ª (Line Breaks)
```markdown
×©×•×¨×” ×¨××©×•× ×”  
×©×•×¨×” ×©× ×™×™×”

[×©×™××• ×œ×‘: ×©×ª×™ ×¨×•×•×—×™× ×‘×¡×•×£ ×©×•×¨×” ×¨××©×•× ×”!]
```
**×—×©×•×‘ ×××•×“**: ×©×‘×™×¨×ª ×©×•×¨×” ×‘-Markdown ×“×•×¨×©×ª **×©×ª×™ ×¨×•×•×—×™×** ×‘×¡×•×£ ×”×©×•×¨×”. ××—×¨×ª, ×”×©×•×¨×•×ª ×™××•×–×’×• ×œ×¤×¡×§×” ××—×ª.

##### ×ª××•× ×•×ª ×•-Captions

**×ª××•× ×” ×¤×©×•×˜×”**:
```markdown
![[bios/I10/img_savran_ukraine.png]]
```

**×ª××•× ×” ×¢× Caption**:
```markdown
![[bios/I10/img_savran_ukraine.png]]
**_SAVRAN in THE UKRAINE (present day frontiers)._**
```

**×”×¢×¨×•×ª**:
- ×”× ×ª×™×‘ ×œ×ª××•× ×”: `bios/{ID}/image_name.png` (× ×ª×™×‘ ××œ× ×‘×™×—×¡ ×œ×©×•×¨×© ×”×¤×¨×•×™×§×˜)
- Caption ××™×“ ××—×¨×™ ×”×ª××•× ×”: `**_text_**` (bold + italic)
- `doit.py` ××¢×ª×™×§ ××•×˜×•××˜×™×ª ××ª ×›×œ ×”×ª××•× ×•×ª ×-`bios/{ID}/` ××œ `site/content/`
- ×”×ª××•× ×•×ª ×™×•×¦×’×• ×¢× ××¡×’×¨×ª ×©×—×•×¨×” ×•×¦×œ (×¡×˜×™×™×œ×™× ×’ ××•×˜×•××˜×™)

##### ×¦×™×˜×•×˜×™× ××¢×™×ª×•× ×™× (Citation Box)
```markdown
<div class="citation-box">
×›××Ÿ ×”×˜×§×¡×˜ ×”××¦×•×˜×˜ ××”×¢×™×ª×•×Ÿ ××• ×”××××¨.
×™×›×•×œ ×œ×”×™×•×ª ×‘×›××” ×¤×¡×§××•×ª.

×›×œ ×”×˜×§×¡×˜ ×™×•×¦×’ ×‘×¨×§×¢ ×‘×–' ×¢× ××¡×’×¨×ª ××§×•×•×§×•×•×” ×•×¡××œ ×¢×™×ª×•×Ÿ ğŸ“°.
</div>
```

**××ª×™ ×œ×”×©×ª××©**: ×¦×™×˜×•×˜×™× ××¨×•×›×™× ××¢×™×ª×•× ×™×, ××¡××›×™× ×”×™×¡×˜×•×¨×™×™×, ×¨××™×•× ×•×ª.

##### ×”×¢×¨×•×ª ××—×‘×¨ (Info Box)
```markdown
<div class="info-box">

**Comment:** ×›××Ÿ ×”×¢×¨×ª ×”××—×‘×¨ ××• ×”×¡×‘×¨ × ×•×¡×£.

× ×™×ª×Ÿ ×œ×”×•×¡×™×£ ××™×“×¢ ×”×™×¡×˜×•×¨×™, ×”×¢×¨×•×ª ××—×§×¨, ××• ×”×¡×‘×¨×™× ×©×œ× ×”×™×• ×‘××§×•×¨.

</div>
```

**××ª×™ ×œ×”×©×ª××©**: ×”×¢×¨×•×ª ××—×‘×¨ ×”×‘×™×•×’×¨×¤×™×”, ×”×¡×‘×¨×™× ××—×§×¨×™×™×, ×”×§×©×¨ ×”×™×¡×˜×•×¨×™.

##### Code Blocks (×œ×¢×¦×™ ××©×¤×—×” ××• ×˜×§×¡×˜ ASCII)
````markdown
```
Wolf & Beile Hochman
â”‚
â”œâ”€ 1. Shimon Me'ir (×©××¢×•×Ÿ ×××™×¨)
â”œâ”€ 2. Haim Yudl (×—×™×™× ×™×”×•×“×”)
â”œâ”€ 3. Avram (××‘×¨×”×)
â””â”€ 10. Yisroel (×™×©×¨××œ)
```
````

**×©×™××•×©**: ×¢×¦×™ ××©×¤×—×” ×¤×©×•×˜×™×, ×˜×‘×œ××•×ª ASCII, ××• ×˜×§×¡×˜ ×©×¦×¨×™×š ×œ×”×™×©××¨ ×‘×¤×•×¨××˜ monospace.

##### ×¨×©×™××•×ª ×××•×¡×¤×¨×•×ª
```markdown
1. ×¤×¨×™×˜ ×¨××©×•×Ÿ
2. ×¤×¨×™×˜ ×©× ×™
3. ×¤×¨×™×˜ ×©×œ×™×©×™
```

##### ×§×™×©×•×¨×™× ×‘×™×Ÿ ×¤×¨×§×™× (Chapter Links)
```markdown
×œ×¤×¨×˜×™× × ×•×¡×¤×™× ×¨××” [[02-savran_pogrom|×¤×¨×§ ×”×¤×•×’×¨×•× ×‘×¡×‘×¨×Ÿ]].
```

**×ª×—×‘×™×¨**: `[[chapter-filename-without-md|×˜×§×¡×˜ ×”×ª×¦×•×’×”]]`

**×”×ª× ×”×’×•×ª**: ×œ×—×™×¦×” ×¢×œ ×”×§×™×©×•×¨ ×ª×¢×‘×™×¨ ×œ×¤×¨×§ ×”××‘×•×§×© (×œ×œ× ×˜×¢×™× ×” ××—×“×© ×©×œ ×”×¢××•×“).

##### ×¢×™×¦×•×‘ ×˜×§×¡×˜
```markdown
*italic*
_italic_
**bold**
***bold italic***
**_bold italic_**
```

##### ×§×™×©×•×¨×™× ×—×™×¦×•× ×™×™×
```markdown
[×˜×§×¡×˜ ×”×§×™×©×•×¨](https://example.com)
```

##### ×¦×™×˜×•×˜×™× ×§×¦×¨×™× (Blockquotes)
```markdown
> ×–×”×• ×¦×™×˜×•×˜ ×§×¦×¨ ××• ××©×¤×˜ ××•×“×’×©.
> × ×™×ª×Ÿ ×œ×”××©×™×š ×œ××¡×¤×¨ ×©×•×¨×•×ª.
```

**×©×™××•×©**: ×¦×™×˜×•×˜×™× ×§×¦×¨×™×, ××©×¤×˜×™× ×—×©×•×‘×™×, ××• ×”×“×’×©×ª ×˜×§×¡×˜.

**×”×‘×“×œ ×-Citation Box**: 
- `> quote` - ×œ×¦×™×˜×•×˜×™× ×§×¦×¨×™× ×•×¤×©×•×˜×™×
- `<div class="citation-box">` - ×œ×¦×™×˜×•×˜×™× ××¨×•×›×™× ××¢×™×ª×•× ×™×/××¡××›×™×

##### ×›×•×ª×¨×•×ª ××©× ×”
```markdown
## ×›×•×ª×¨×ª ×¨××©×™×ª (×‘×ª×•×š ×¤×¨×§)
### ×›×•×ª×¨×ª ××©× ×”
#### ×›×•×ª×¨×ª ××©× ×” ×§×˜× ×”
```

**×”××œ×¦×”**: ×”×©×ª××© ×‘-`##` ×œ×›×•×ª×¨×•×ª ×¨××©×™×•×ª, `###` ×œ××©× ×™×•×ª.

##### ×˜×§×¡×˜ ××•×“×’×© ×‘×ª×•×š ×¤×¡×§×”
```markdown
_Moishe witnessed pogroms in Savran. He saw mounted troops with swords decapitating Jews._ (related to his grandson Trevor David)
```

**×©×™××•×©**: ×”×“×’×©×ª ××©×¤×˜×™× ×©× ×××¨×• ×‘×¢×œ ×¤×”, ×¦×™×˜×•×˜×™× ×§×¦×¨×™× ××‘× ×™ ××©×¤×—×”.

##### ×“×•×’××” ××œ××” ××”×¤×¨×§ Russia
```markdown
## The Tsarist army

About 1906 Moishe was conscripted into the Tsarist army.

### This article came in from Lane Igoudin:

<div class="citation-box">
After 1905, the position of the Jewish soldiers in the army became precarious...
[×˜×§×¡×˜ ××¨×•×š ××”××××¨]
</div>

#### From [https://yivoencyclopedia.org/...](https://yivoencyclopedia.org/...):
>A disproportionate number of young Jewish men were conscripted.

_Moishe, however, served in his trade of wheelwright._ (related to Jack)

![[bios/I10/img_moishe_1909.png]]
**_1909 Moishe (on the right in the dark uniform) with a fellow soldier._**

<div class="info-box">

**Comment:** The Russo-Japanese war started on 5.2.1904...

</div>
```

#### 3.3.4 ×ª×”×œ×™×š ×”×¢×‘×•×“×” (Workflow)

1. **×™×¦×™×¨×ª ×ª×™×§×™×™×”**: ×¦×•×¨ `bios/{ID}/` (×œ××©×œ `bios/I10/`)
2. **×§×•×‘×¥ Introduction**: ×¦×•×¨ `bios/I10/I10.md` ×¢× ××‘×•× ×•×¨×©×™××ª ×¤×¨×§×™×
3. **×§×‘×¦×™ ×¤×¨×§×™×**: ×¦×•×¨ `01-chapter.md`, `02-chapter.md`, ×•×›×•'
4. **×ª××•× ×•×ª**: ×”×¢×ª×§ ×ª××•× ×•×ª ×œ-`bios/I10/` ×¢× ×©××•×ª ×‘×¨×•×¨×™× (×œ××©×œ `img_savran_ukraine.png`)
5. **×”×¨×¦×ª Build**:
```bash
   python scripts/doit.py data/tree.ged
   ```
6. **×‘×“×™×§×”**: `doit.py` ×™×•×“×¤×™×¡:
   - `[DEBUG] Found chapter directory: I10`
   - `[DEBUG]   Copied 01-in_russia.md --> site\quartz\static\chapters\I10`
   - `[DEBUG] OK Copied 20 image files from bios/ to site\content`

#### 3.3.5 ××” ×§×•×¨×” ×‘-Build?

1. `doit.py` ×¡×•×¨×§ ××ª `bios/` ×•××–×”×” ×ª×™×§×™×•×ª (×›××• `I10/`)
2. ×™×•×¦×¨ `site/quartz/static/chapters-index.json` ×¢× ××˜×-×“××˜×” ×©×œ ×›×œ ×”×¤×¨×§×™×
3. ××¢×ª×™×§ ××ª ×›×œ ×§×‘×¦×™ ×”-.md ×©×œ ×”×¤×¨×§×™× ××œ `site/quartz/static/chapters/{ID}/`
4. ××¢×ª×™×§ ××ª ×›×œ ×”×ª××•× ×•×ª ×-`bios/{ID}/` ××œ `site/content/` (×’× ×¢× ×¨×•×•×—×™× ×•×’× ×¢× ××§×¤×™×)
5. ×‘-runtime, `ProfileTabs.tsx` ×˜×•×¢×Ÿ ××ª ×”×¤×¨×§×™× ×“×™× ××™×ª ×•××¤×¨×¡×¨ ××ª ×”-Markdown ×œ-HTML

#### 3.3.6 ×‘×¢×™×•×ª × ×¤×•×¦×•×ª ×•×¤×ª×¨×•× ×•×ª

##### ×‘×¢×™×”: ×©×•×¨×•×ª ××ª××–×’×•×ª ×œ×¤×¡×§×” ××—×ª
**×¡×™×‘×”**: ×—×¡×¨×•×ª ×©×ª×™ ×¨×•×•×—×™× ×‘×¡×•×£ ×”×©×•×¨×”.  
**×¤×ª×¨×•×Ÿ**: ×”×•×¡×£ ×©×ª×™ ×¨×•×•×—×™× ×œ×¤× ×™ ×”-Enter:
```markdown
×©×•×¨×” ×¨××©×•× ×”  â† ×©×ª×™ ×¨×•×•×—×™× ×›××Ÿ!
×©×•×¨×” ×©× ×™×™×”
```

##### ×‘×¢×™×”: ×ª××•× ×” ×œ× × ×˜×¢× ×ª (404)
**×¡×™×‘×•×ª ××¤×©×¨×™×•×ª**:
1. ×”× ×ª×™×‘ ×œ× × ×›×•×Ÿ - ×•×•×“×: `![[bios/I10/img_name.png]]`
2. ×”×ª××•× ×” ×œ× ×‘×ª×™×§×™×™×” - ×”×¢×ª×§ ××ª ×”×ª××•× ×” ×œ-`bios/I10/`
3. ×œ× ×”×¨×¦×ª `doit.py` ××—×¨×™ ×”×•×¡×¤×ª ×”×ª××•× ×”

**×¤×ª×¨×•×Ÿ**: ×”×¨×¥ ××—×“×©:
```bash
python scripts/doit.py data/tree.ged
```

##### ×‘×¢×™×”: Citation Box ×œ× ××•×¦×’ × ×›×•×Ÿ
**×¡×™×‘×”**: ×©×•×¨×” ×¨×™×§×” ×—×¡×¨×” ××—×¨×™/×œ×¤× ×™ ×”-`<div>`.

**×¤×ª×¨×•×Ÿ × ×›×•×Ÿ**:
```markdown
×¤×¡×§×” ×¨×’×™×œ×”.

<div class="citation-box">
×˜×§×¡×˜ ×”×¦×™×˜×•×˜.
</div>

×¤×¡×§×” ×”×‘××”.
```

##### ×‘×¢×™×”: ×§×™×©×•×¨ ×œ×¤×¨×§ ×œ× ×¢×•×‘×“
**×¡×™×‘×•×ª**:
1. ×©× ×”×§×•×‘×¥ ×œ× ×ª×•×× - ×•×•×“×: `[[01-in_russia|...]]` ×ª×•×× ×œ-`01-in_russia.md`
2. ×”×§×™×©×•×¨ ×›×ª×•×‘ ×¢× ×¨×•×•×—×™× - ×”×©×ª××© ×‘××§×¤×™× ×ª×—×ª×•× ×™×: `01-in_russia` ×•×œ× `01 in russia`

##### ×‘×¢×™×”: Code Block × ×¨××” ×›×˜×§×¡×˜ ×¨×’×™×œ
**×¡×™×‘×”**: ×—×¡×¨ ×©×•×¨×” ×¨×™×§×” ×œ×¤× ×™/××—×¨×™ ×”-` ``` `.

**×¤×ª×¨×•×Ÿ × ×›×•×Ÿ**:
````markdown
×¤×¡×§×” ×¨×’×™×œ×”.

```
Wolf & Beile Hochman
â”‚
â”œâ”€ 1. Shimon Me'ir
```

×¤×¡×§×” ×”×‘××”.
````

##### ×‘×¢×™×”: ×”×¤×¨×§×™× ×œ× ××•×¤×™×¢×™× ×‘×˜××‘×™×
**×¡×™×‘×•×ª ××¤×©×¨×™×•×ª**:
1. ××‘× ×” ×”×ª×™×§×™×•×ª ×œ× × ×›×•×Ÿ - ×•×•×“×: `bios/I10/I10.md` ×§×™×™×
2. ×œ× ×”×¨×¦×ª `doit.py` - ×”×¨×¥: `python scripts/doit.py data/tree.ged`
3. ×©× ×”×§×•×‘×¥ Introduction ×œ× ×ª×•×× ×œ-ID - ×—×™×™×‘ ×œ×”×™×•×ª `I10.md` ×¢×‘×•×¨ `I10/`

**×‘×“×™×§×”**: ××—×¨×™ ×”×¨×¦×ª `doit.py`, ×—×¤×© ×‘×¤×œ×˜:
```
[DEBUG] Found chapter directory: I10
[DEBUG]   Copied 01-in_russia.md --> site\quartz\static\chapters\I10
```

##### ×‘×¢×™×”: Caption ×œ× ××•×¤×™×¢ ××ª×—×ª ×œ×ª××•× ×”
**×¡×™×‘×”**: ×—×¡×¨×” ×©×•×¨×” ×¨×™×§×” ×‘×™×Ÿ ×”×ª××•× ×” ×œ-Caption, ××• Caption ×œ× ××¢×•×¦×‘ × ×›×•×Ÿ.

**×¤×ª×¨×•×Ÿ × ×›×•×Ÿ**:
```markdown
![[bios/I10/img_savran.png]]
**_SAVRAN in THE UKRAINE._**
```
(×œ×œ× ×©×•×¨×” ×¨×™×§×” ×‘×™× ×”×, ×•×”×©×ª××© ×‘-`**_text_**`)

### 3.4 Media Index

**××™×§×•×**: `site/quartz/static/media-index.json` (generated)

**××‘× ×”**:
```json
{
  "I10": {
    "images": [
      {
        "filename": "Tubble & Moishe 1957.jpg",
        "path": "/documents/I10/Tubble & Moishe 1957.jpg",
        "caption": "*Tubble & Moishe 1957*..."
      }
    ],
    "documents": []
  }
}
```

**×©×™××•×©**: `ProfileTabs.tsx` ×§×•×¨× ××ª ×”×§×•×‘×¥ ×•××¦×™×’ Gallery ×¨×§ ×× ×™×© ××“×™×”

### 3.5 Family Data

**××™×§×•×**: `site/quartz/static/family-data.json` (generated)

**××‘× ×”**:
```json
{
  "people": [
    {
      "id": "@I10@",
      "name": "Moshe ××©×” Hoffman",
      "birth_date": "circa 1884",
      "death_date": "April 7, 1973",
      "parents": [],
      "children": ["@I1@", "@I2@", ...],
      "spouses": ["@I11@"]
    }
  ],
  "families": [...]
}
```

**×©×™××•×©**: ×¢×ª×™×“×™ - ×œ×¢×¥ ××©×¤×—×ª×™ ×’×“×•×œ ××™× ×˜×¨××§×˜×™×‘×™

---

## 4. ×¢×™×¦×•×‘ (Design)

### 4.1 Typography

#### Global (×›×œ ×”××ª×¨)
- **Font**: System default (Quartz)
- **Size**: Default
- **Colors**: Quartz theme

#### Biography & Tabs (`article`, `.tab-pane`)
- **Font**: Segoe UI, Tahoma, Geneva, Verdana, sans-serif
- **Size**: 14px (0.875rem)
- **Line Height**: 1.7
- **Color**: #2a2a2a (dark gray, not pure black)
- **Text Align**: left

**×§×•×“**: `site/quartz/styles/custom.scss`

```scss
article, .tab-pane {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: 0.875rem; // 14px
  line-height: 1.7;
  color: #2a2a2a;
}
```

#### Explorer
- **Font**: Segoe UI (same as biography)
- **Size**: 14px (0.875rem)
- **Color**: #1a1a1a (very dark, almost black)

**×§×•×“**: `site/quartz/components/styles/explorer.scss`

### 4.2 Colors

- **Primary**: `var(--secondary)` (from Quartz theme)
- **Hover**: `var(--tertiary)`
- **Links in content**: #0066cc (blue)
- **Field labels**: #666 (gray)
- **Regular text**: #000 (black)
- **Background**: #f5f5f5 (light gray)
- **Navbar/Explorer links**: #1a1a1a (dark black)

### 4.3 Layout

#### Content Width
- **Global**: 800px (`article` in base styles)
- **Biography**: Inherits from global

#### Profile Info Box
- **Background**: #e8e8e8 (slightly darker gray)
- **Border**: 1px solid #ccc
- **Padding**: 1rem
- **Border Radius**: 4px
- **Font Size**: 0.9rem

#### Profile Info List (Definition List)
- **Display**: CSS Grid
- **Columns**: `auto 1fr` (label auto-width, value fills remaining)
- **Gap**: 0.5rem (row), 1rem (column)
- **Labels (`<dt>`)**: 
  - Color: #666
  - Font Weight: 600
  - White Space: nowrap
- **Values (`<dd>`)**: 
  - Color: #000
  - Word Wrap: break-word

### 4.4 Links

#### Content Links (`article a`, `.tab-pane a`)
- **Color**: #0066cc (blue)
- **Font Weight**: normal
- **Hover**: underline
- **Background**: transparent

#### Navbar & Explorer Links
- **Color**: #1a1a1a (dark black)
- **Font Weight**: 500 (navbar), semibold (explorer)
- **Hover**: `var(--tertiary)`, no underline
- **Background**: transparent
- **Opacity**: 1 (no grayed-out effect)

#### Mermaid Diagram Links
- **Color**: #0066cc (blue)
- **Hover**: underline

### 4.5 Mermaid Diagrams

**Styling**:
- **Current node**: fill #bbdefb (light blue), stroke #1976d2 (darker blue), stroke-width 3px
- **Other nodes**: default Mermaid styling
- **Links**: clickable, navigate to profile pages

**Titles**:
- "Nuclear Family" (not "Family Tree")
- "Ancestors (up to 2 Gen.)"
- "Descendants (up to 2 Gen.)"

**×§×•×“**: `scripts/doit.py` (functions: `build_family_tree_diagram`, `build_ancestors_diagram`, `build_descendants_diagram`)

### 4.6 Images & Captions

#### Images
- **Display**: block, centered
- **Margin**: 2rem auto
- **Border**: 2px solid #333 (black frame)
- **Border Radius**: 4px
- **Box Shadow**: 0 2px 8px rgba(0, 0, 0, 0.15)
- **Padding**: 8px
- **Background**: white
- **Max Width**: 100%

#### Captions
- **Format in Markdown**: `**_caption text_**` (bold + italic)
- **Rendering**: `<strong><em>caption</em></strong>`
- **Styling**:
  - Display: block
  - Text Align: center
  - Font Size: 0.9rem
  - Color: #666 (gray)
  - Margin Top: -1rem (close to image)
  - Margin Bottom: 2rem
  - Font Style: italic
  - Font Weight: normal (cancels bold)

**CSS Selector**: `strong > em:only-child`

**×§×•×“**: `site/quartz/styles/custom.scss`

### 4.7 Blockquotes

**Styling**:
- Background: #f9f9f9 (light gray)
- Border Left: 4px solid #0066cc (blue)
- Padding: 1rem 1.5rem
- Margin: 1.5rem 0
- Font Style: italic
- Color: #333
- Border Radius: 4px

**×§×•×“**: `site/quartz/styles/custom.scss`

### 4.8 Citation Boxes & Info Boxes

#### Citation Box (`.citation-box`)
- **Usage**: Newspaper quotes, historical citations
- **Background**: #fdf6e3 (beige)
- **Border**: 2px dashed #d4b896
- **Icon**: ğŸ“°

#### Info Box (`.info-box`)
- **Usage**: Author notes, comments
- **Background**: #e3f2fd (light blue)
- **Border Left**: 4px solid #1976d2
- **Icon**: â„¹ï¸

**×§×•×“**: `site/quartz/styles/custom.scss`

### 4.9 Horizontal Rules

**Styling**:
- Border: none
- Border Top: 2px solid #e0e0e0
- Margin: 3rem 0
- Width: 60%
- Centered (margin-left/right: auto)

---

## 5. ×ª×”×œ×™×š ×¤×™×ª×•×—

### 5.1 ×¢×“×›×•×Ÿ × ×ª×•× ×™×

```bash
# 1. Edit GEDCOM file
# Edit data/tree.ged in external tool (e.g., Gramps)

# 2. Run build script
python scripts/doit.py data/tree.ged

# 3. Quartz auto-builds (if running)
# OR manually: cd site && npx quartz build
```

### 5.2 ×”×•×¡×¤×ª ×‘×™×•×’×¨×¤×™×”

```bash
# 1. Create biography file
# Create bios/{ID}.md (e.g., bios/I10.md)

# 2. Write content in Markdown
# Use Markdown syntax, Obsidian image links, etc.

# 3. Add images (if any)
# Place images in bios/ directory
# Reference with ![[image.png]]

# 4. Run build script
python scripts/doit.py data/tree.ged
```

### 5.3 ×”×•×¡×¤×ª ××“×™×” (×ª××•× ×•×ª/××¡××›×™×)

```bash
# 1. Create directory for profile
mkdir documents/{ID}/

# 2. Add media files
cp photo.jpg documents/{ID}/

# 3. Add caption/description (optional)
# Create documents/{ID}/photo.md with caption

# 4. Run build script
python scripts/doit.py data/tree.ged
```

### 5.4 ×¢×“×›×•×Ÿ ×“×¤×™× ×¡×˜×˜×™×™×

   ```bash
# 1. Edit static pages
# Edit content/index.md or content/pages/*.md

# 2. Run build script
python scripts/doit.py data/tree.ged

# 3. Content is copied to site/content/
```

### 5.5 × ×™×§×•×™ ×¤×¨×•×™×§×˜

   ```bash
# Manual clean
python scripts/doit.py --clean

# Automatic clean
# doit.py runs clean_project() automatically before every build
```

**××” × ××—×§**:
- `site/content/` (×›×œ ×”×ª×•×›×Ÿ ×”×’× ×¨×™)
- `site/public/` (build output)
- `site/.quartz-cache/`
- `site/quartz/static/family-data.json`
- `site/quartz/static/media-index.json`
- `site/quartz/static/documents/`

---

## 6. ×›×ª×™×‘×ª ×‘×™×•×’×¨×¤×™×•×ª - ××“×¨×™×š ××¤×•×¨×˜

### 6.1 ×¢×§×¨×•× ×•×ª ×›×ª×™×‘×”

#### 6.1.1 Markdown Basics
- **×›×•×ª×¨×•×ª**: `#`, `##`, `###` (××œ ×ª×©×ª××© ×‘-`#` - ×©××•×¨ ×œ-`##` ×•××˜×”)
- **×¤×¡×§××•×ª**: ×©×•×¨×” ×¨×™×§×” ××—×ª ×‘×™×Ÿ ×¤×¡×§××•×ª
- **Line breaks**: ×©×ª×™ ×¨×•×•×—×™× ×‘×¡×•×£ ×©×•×¨×” + Enter (××• ×©×•×¨×” ×¨×™×§×” ×œ×¤×¡×§×” ×—×“×©×”)
- **Bold**: `**text**`
- **Italic**: `_text_` ××• `*text*`
- **Bold + Italic**: `**_text_**` ××• `_**text**_`

#### 6.1.2 ×ª××•× ×•×ª

**×¤×•×¨××˜ Obsidian**:
```markdown
![[Pasted image 20251022123649.png]]
**_SAVRAN in THE UKRAINE (present day frontiers)._**
```

**×”×¡×‘×¨**:
- `![[image.png]]` - Obsidian wikilink ×œ×ª××•× ×”
- ×©×•×¨×” ×¨×™×§×”
- `**_caption_**` - caption ×××•×¨×›×– (bold + italic)

**×—×©×•×‘**:
- ×”×ª××•× ×” ×•×”caption ×—×™×™×‘×™× ×œ×”×™×•×ª ×‘×¤×¡×§××•×ª × ×¤×¨×“×•×ª (×©×•×¨×” ×¨×™×§×” ×‘×™× ×™×”×)
- Caption ×—×™×™×‘ ×œ×”×™×•×ª `**_text_**` (bold + italic) ×›×“×™ ×œ×”×™×•×ª ×××•×¨×›×–
- ×× ×¨×•×¦×™× caption ×¨×’×™×œ (×œ× ×××•×¨×›×–), ×”×©×ª××©×• ×¨×§ ×‘-`_text_` (italic)

#### 6.1.3 ×¦×™×˜×•×˜×™×

**Blockquote ×¨×’×™×œ**:
```markdown
> _"You are not in Russia here..."_
>
> _"I have a case in the Warsaw paper..."_
>
> _"Twenty-seven years ago..."_
```

**×—×©×•×‘**:
- ×›×œ ×¤×¡×§×” ×‘×¦×™×˜×•×˜ ×¦×¨×™×›×” `>` ×‘×”×ª×—×œ×”
- ×©×•×¨×” ×¨×™×§×” ×¢× `>` ×‘×™×Ÿ ×¤×¡×§××•×ª
- ××œ ×ª×©×›×—×• ××ª ×”-`>` ×‘×›×œ ×©×•×¨×”!

**Citation Box (×œ×¦×™×˜×•×˜×™× ××¢×™×ª×•× ×™×)**:
```markdown
<div class="citation-box">

**Sunday Times, April 1942**

_A well known Perth publican was once..._

_As a young man in his teens Morris..._

      </div>
```

**Info Box (×œ×”×¢×¨×•×ª)**:
```markdown
<div class="info-box">

**Comment:** The Russo-Japanese war started on 5.2.1904...

          </div>
```

#### 6.1.4 ×§×™×©×•×¨×™×

**×§×™×©×•×¨×™× ×—×™×¦×•× ×™×™×**:
```markdown
[Wikipedia](https://en.wikipedia.org/wiki/Savran)
```

**×§×™×©×•×¨×™× ×¤× ×™××™×™×** (×œ×¤×¨×•×¤×™×œ×™×):
```markdown
[[Person Name]]
```

**×”×¢×¨×”**: ×§×™×©×•×¨×™× ×¤× ×™××™×™× ×™×•××¨×• ××•×˜×•××˜×™×ª ×œ-HTML links ×¢×œ ×™×“×™ `doit.py`

#### 6.1.5 ×˜×§×¡×˜ ×¢×‘×¨×™

**×¤×©×•×˜ ×›×ª×‘×• ×¢×‘×¨×™×ª**:
```markdown
Moishe was the eighth of the ten children of Wolf ×–××‘ and Beile ×‘×™×™×œ× Hochman.
```

**××™×Ÿ ×¦×•×¨×š ×‘-tags ××™×•×—×“×™×** - ×”×“×¤×“×¤×Ÿ ×™×–×”×” ××•×˜×•××˜×™×ª

#### 6.1.6 ×˜×‘×œ××•×ª

**Markdown Table** (×œ× ××•××œ×¥ - ×§×©×” ×œ×§×¨×•×):
```markdown
| # | Name | Hebrew |
|---|------|--------|
| 1 | Shimon Me'ir | ×©××¢×•×Ÿ ×××™×¨ |
| 2 | Haim Yudl | ×—×™×™× ×™×”×•×“×” |
```

**ASCII Art** (××•××œ×¥ - × ×§×™ ×•×§×¨×™×):
```
Wolf & Beile Hochman
â”‚
â”œâ”€ 1. Shimon Me'ir (×©××¢×•×Ÿ ×××™×¨)
â”œâ”€ 2. Haim Yudl (×—×™×™× ×™×”×•×“×”)
â”œâ”€ 3. Avram (××‘×¨×”×)
â””â”€ 10. Yisroel (×™×©×¨××œ)
```

**×©×™××• ×œ×‘**: ASCII art ×¦×¨×™×š ×œ×”×™×•×ª ×‘×ª×•×š ` ```code block``` ` ×›×“×™ ×œ×©××•×¨ ×¢×œ ×”×¤×•×¨××˜

#### 6.1.7 Line Breaks - ×—×©×•×‘ ×××•×“!

**×‘×¢×™×” × ×¤×•×¦×”**: ×©×•×¨×•×ª ×¨×¦×•×¤×•×ª ××ª××–×’×•×ª ×œ×©×•×¨×” ××—×ª

**×¤×ª×¨×•×Ÿ**:
```markdown
<!-- ×œ× ×˜×•×‘ - ×™×ª××–×’ ×œ×©×•×¨×” ××—×ª -->
*×¢×œ ×©×œ×©×” ×“×‘×¨×™× ×”×¢×•×œ× ×¢×•××“:*
*×¢×œ ×”×ª×•×¨×”, ×•×¢×œ ×”×¢×‘×•×“×”, ×•×¢×œ ×’××™×œ×•×ª ×—×¡×“×™×*

<!-- ×˜×•×‘ - ×©×ª×™ ×¨×•×•×—×™× ×‘×¡×•×£ ×”×©×•×¨×” -->
*×¢×œ ×©×œ×©×” ×“×‘×¨×™× ×”×¢×•×œ× ×¢×•××“:*  
*×¢×œ ×”×ª×•×¨×”, ×•×¢×œ ×”×¢×‘×•×“×”, ×•×¢×œ ×’××™×œ×•×ª ×—×¡×“×™×*

<!-- ××•: ×©×•×¨×” ×¨×™×§×” (×™×•×¦×¨ ×¤×¡×§×” ×—×“×©×”) -->
*×¢×œ ×©×œ×©×” ×“×‘×¨×™× ×”×¢×•×œ× ×¢×•××“:*

*×¢×œ ×”×ª×•×¨×”, ×•×¢×œ ×”×¢×‘×•×“×”, ×•×¢×œ ×’××™×œ×•×ª ×—×¡×“×™×*
```

**×›×œ×œ ×–×”×‘**: ×× ×¨×•×¦×™× line break (×™×¨×™×“×ª ×©×•×¨×”) ×‘×œ×™ ×¤×¡×§×” ×—×“×©×” - **×©×ª×™ ×¨×•×•×—×™× ×‘×¡×•×£ ×”×©×•×¨×”**!

### 6.2 ×“×•×’××” ××œ××”

```markdown
# MOSHE HOCHMAN Introduction

My grandfather Moishe was never one to keep documents...

## Moishe and Tubb'l Hochman ××©×” ×•×™×•× ×” ×”×•×›×××Ÿ

*×¢×œ ×©×œ×©×” ×“×‘×¨×™× ×”×¢×•×œ× ×¢×•××“:*  
*×¢×œ ×”×ª×•×¨×”, ×•×¢×œ ×”×¢×‘×•×“×”, ×•×¢×œ ×’××™×œ×•×ª ×—×¡×“×™×*

*×¤×¨×§×™ ××‘×•×ª*

Moishe was born in 1884 in Savran...

![[Pasted image 20251022123649.png]]
**_SAVRAN in THE UKRAINE (present day frontiers)._**

His father, Wolf was timber merchant.

> _"You are not in Russia here..."_
>
> _"I have a case in the Warsaw paper..."_

<div class="citation-box">

**Sunday Times, April 1942**

_A well known Perth publican..._

      </div>
      
<div class="info-box">

**Comment:** The Russo-Japanese war started on 5.2.1904...

      </div>
```

### 6.3 ×›×ª×™×‘×ª ×¤×¨×§×™× ×‘×‘×™×•×’×¨×¤×™×•×ª ××•×¨×—×‘×•×ª - Guidelines

#### 6.3.1 ×¢×§×¨×•× ×•×ª ×›×œ×œ×™×™×

×›××©×¨ ×›×•×ª×‘×™× ×‘×™×•×’×¨×¤×™×” ××•×¨×—×‘×ª ×¢× ×¤×¨×§×™× (`bios/{ID}/`), ×›×œ ×¤×¨×§ ×¦×¨×™×š ×œ×¢××•×“ ×‘×¡×˜× ×“×¨×˜×™× ×¢×™×¦×•×‘×™×™× ××—×™×“×™× ×›×“×™ ×œ×™×¦×•×¨ ×—×•×•×™×” ×§×¨×™××” ×¢×§×‘×™×ª ×•××§×¦×•×¢×™×ª.

**××‘× ×” ×ª×™×§×™×™×”**:
```
bios/
  I10/
    I10.md              # Introduction + Table of Contents
    01-in_russia.md     # Chapter 1
    02-savran_pogrom.md # Chapter 2
    03-trans_siberian.md # Chapter 3
    04-savran-to-fremantle.md # Chapter 4
    img_savran_ukraine.png # Images for chapters
    img_moishe_1909.png
```

#### 6.3.2 ××‘× ×” ×¤×¨×§

×›×œ ×¤×¨×§ ×¦×¨×™×š ×œ×”×ª×—×™×œ ×‘-**×›×•×ª×¨×ª ×¨××©×™×ª ×‘×¨××” 2** (`##`):

```markdown
## Chapter Title Here

First paragraph of content...
```

**××œ ×ª×©×ª××©×• ×‘-**:
- âŒ `#` (×¨××” 1) - ×©××•×¨ ×¨×§ ×œ×›×•×ª×¨×ª ×”×¢××•×“ ×”×¨××©×™×ª
- âŒ `####` ×•××¢×œ×” (×¨××•×ª 4+) - ×§×©×” ×œ×§×¨×™××”, ×”×©×ª××©×• ×¨×§ ×‘-`##` ×•-`###`

**×ª×ª×™-×›×•×ª×¨×•×ª**:
```markdown
## Main Chapter Title

Content...

### Subsection Title

More content...

### Another Subsection

Even more content...
```

#### 6.3.3 ×›×™×ª×•×‘×™ ×ª××•× ×•×ª - ×¤×•×¨××˜ ××—×™×“

**×›×œ ×›×™×ª×•×‘ ×ª××•× ×” ×—×™×™×‘ ×œ×”×™×•×ª ×‘×¤×•×¨××˜**: `**_TEXT_**` (bold + italic)

**×“×•×’××” × ×›×•× ×”**:
```markdown
![[img_savran_ukraine.png]]
**_SAVRAN in THE UKRAINE (present day frontiers)._**

![[img_moishe_1909.png]]
**_1909 Moishe (on the right in the dark uniform) with a fellow soldier._**
```

**×“×•×’×××•×ª ×©×’×•×™×•×ª**:
```markdown
âŒ ![[img.png]]_Caption_              # ×¨×§ italic - ×œ× ××¡×¤×™×§
âŒ ![[img.png]]**Caption**            # ×¨×§ bold - ×œ× ××¡×¤×™×§
âŒ ![[img.png]]**_Caption_            # ×—×¡×¨ ** ×‘×¡×•×£
âŒ ![[img.png]]
   _Caption_                          # ×¨×•×•×—×™× ××™×•×ª×¨×™× ×‘×”×ª×—×œ×”
```

**×—×•×§ ×–×”×‘**: ×›×™×ª×•×‘ ×ª××•× ×” = `**_TEXT_**` ×ª××™×“!

#### 6.3.4 ×¨×•×•×—×™× ×•×ª×–××•×Ÿ

**×”×¡×¨×ª ×¨×•×•×—×™× ××™×•×ª×¨×™×**:
```markdown
âŒ ×œ× ×˜×•×‘:
   The Trans-Siberian Railroad was...     # ×¨×•×•×—×™× ×‘×”×ª×—×œ×”
     On the upper deck...                  # ×¨×•×•×—×™× ×‘×”×ª×—×œ×”

âœ… ×˜×•×‘:
The Trans-Siberian Railroad was...
On the upper deck...
```

**×¨×•×•×—×™× ×‘×™×Ÿ ××œ×× ×˜×™×**:
```markdown
## Chapter Title
                              # ×©×•×¨×” ×¨×™×§×” ××—×ª
First paragraph...
                              # ×©×•×¨×” ×¨×™×§×” ××—×ª
Second paragraph...
                              # ×©×•×¨×” ×¨×™×§×” ××—×ª
![[image.png]]
**_Image caption_**
                              # ×©×•×¨×” ×¨×™×§×” ××—×ª
Next paragraph...
```

**×›×œ×œ**: ×©×•×¨×” ×¨×™×§×” **××—×ª** ×‘×™×Ÿ ×¤×¡×§××•×ª, ×›×•×ª×¨×•×ª, ×ª××•× ×•×ª.

#### 6.3.5 ×§×•×•×™ ×”×¤×¨×“×” (Separators)

**×¤×•×¨××˜ × ×›×•×Ÿ**:
```markdown
Content before separator...

---

Content after separator...
```

**×¤×•×¨××˜×™× ×©×’×•×™×™×**:
```markdown
âŒ **------------------------------------------------------------------------**
âŒ ***
âŒ ___
âŒ    ---    # ×¨×•×•×—×™× ××™×•×ª×¨×™×
```

**×›×œ×œ**: ×”×©×ª××©×• ×¨×§ ×‘-`---` (×ª×§×Ÿ Markdown).

#### 6.3.6 ×§×™×©×•×¨×™×

**×§×™×©×•×¨×™× ×—×™×¦×•× ×™×™×**:
```markdown
âœ… ×˜×•×‘:
[https://example.com](https://example.com)
**Reference**: [Article Title](https://example.com)

âŒ ×œ× ×˜×•×‘:
[**https://example.com**](https://example.com)**C**  # ×›×•×›×‘×™×•×ª ××™×•×ª×¨×•×ª
```

**×§×™×©×•×¨×™× ×¤× ×™××™×™× ×œ×¤×¨×§×™×** (×‘×ª×•×š Introduction):
```markdown
## Chapters

1. [[01-in_russia|Moshe Hoffman In Russia]]
2. [[02-savran_progrom|1917 Savran Pogrom]]
3. [[03-trans_siberian|Trans Siberian Railway]]
```

**×©×™××• ×œ×‘**: ×”×©×ª××©×• ×¨×§ ×‘×©× ×”×§×•×‘×¥ (×œ×œ× `bios/I10/`).

#### 6.3.7 ×¦×™×˜×•×˜×™× ××¢×™×ª×•× ×™× ×•××§×•×¨×•×ª

**Citation Box** (×œ××××¨×™×, ××§×•×¨×•×ª ×”×™×¡×˜×•×¨×™×™×):
```markdown
### This article came in from Lane Igoudin:

<div class="citation-box">

After 1905, the position of the Jewish soldiers in the army became precarious...

The 1912 Statute had little impact on some 300,000 Jews who served...

</div>

#### Source:
> [https://yivoencyclopedia.org/article.aspx/military_service_in_russia](...)
```

**Info Box** (×œ×”×¢×¨×•×ª ×•×”×¡×‘×¨×™×):
```markdown
<div class="info-box">

**Comment:** The Russo-Japanese war started on 5.2.1904. The last major engagement was the naval battle of Tsushima on 27.5.1905.

</div>
```

#### 6.3.8 × ×™×§×•×™ Metadata

**×”×¡×™×¨×• metadata ××™×•×ª×¨** ××‘×œ×•×’×™× ××• ××ª×¨×™× ××—×¨×™×:

```markdown
âŒ ×œ× ×˜×•×‘:
Posted by Euphman at 7:18 AM comments
Last updated: 2023-05-15
Tags: history, family

âœ… ×˜×•×‘:
[×”×§×¤×™×¦×• ×™×©×™×¨×•×ª ×œ×ª×•×›×Ÿ ×‘×œ×™ metadata]
```

**×¨×§ ×× ×™×© ××§×•×¨ ×—×©×•×‘** - ×ª× ×• ×§×¨×“×™×˜ ×‘×ª×—×ª×™×ª:
```markdown
**Revised on 27.6.2024 PETER HOFFMAN**
```

#### 6.3.9 ×©×™××•×© ×‘-Bold ×•-Italic

**Italic** (`_text_` ××• `*text*`):
- ×¦×™×˜×•×˜×™× ×§×¦×¨×™×: `_"related to Peter"_`
- ×”×¢×¨×•×ª ××™×©×™×•×ª: `_Moishe did not eat pork._`
- ××™×“×¢ ××”×¢×‘×¨: `_The Scharnhorst of 8,130 tons was built..._`

**Bold** (`**text**`):
- ×©××•×ª ××•×¡×“×•×ª: `**Society for Adjustment of Jewish Emigration**`
- ××•× ×—×™× ×—×©×•×‘×™×: `**Comment:**`, `**Source:**`
- ×›×•×ª×¨×•×ª ××©× ×” ×‘×ª×•×š ×¤×¡×§××•×ª

**Bold + Italic** (`**_text_**`):
- ×›×™×ª×•×‘×™ ×ª××•× ×•×ª (×ª××™×“!)
- ×”×“×’×©×” ×—×–×§×” ×‘××™×•×—×“

#### 6.3.10 ×¨×©×™××•×ª ×•××¡×¤×•×¨

**×¨×©×™××” ×××•×¡×¤×¨×ª**:
```markdown
1. First item
2. Second item
3. Third item
```

**×¨×©×™××” ×¢× bullets**:
```markdown
- First point
- Second point
- Third point
```

**Code Block** (×œ×¢×¦×™ ××©×¤×—×” ASCII):
```markdown
```
Wolf & Beile Hochman
â”‚
â”œâ”€ 1. Shimon Me'ir (×©××¢×•×Ÿ ×××™×¨)
â”œâ”€ 2. Haim Yudl (×—×™×™× ×™×”×•×“×”)
â””â”€ 10. Yisroel (×™×©×¨××œ)
``` (×œ×œ× ×¨×•×•×— ×œ×¤× ×™ ×”-```)
```

#### 6.3.11 ×“×•×’××” ××œ××” ×œ×¤×¨×§

```markdown
## MOSHE HOCHMAN - SAVRAN to FREMANTLE

![[img_moishe.jpg]]

On leaving, Moishe gave his uniform to his brother Sholem (who subsequently migrated to Pittsburgh, Pennsylvania).

**_related to Peter_**

_Since he took his uniform home he was clearly in the Army reserves liable to be called upon in time of emergency._

Moishe's character â€“ duty, selflessness, hard work, Jewish values â€“ was formed in the crucible of Savran.

In his years as a soldier he learned to be self sufficient, independent, and to seize opportunity as it presented itself.

_From 1895 to 1917, all Jewish emigration was handled in Kiev by the **Society for Adjustment of Jewish Emigration**. Its records survived and have recently been opened for study._

---

![[img_odessa_harbour.png]]
**_ODESSA HARBOUR_**

Moishe's 17 years-old nephew Wolfe had been entrusted to his care and travelled with them.

![[img_ndl_scharnhorst.png]]
**_NDL SCHARNHORST_**

They went to Port Said and boarded the _Scharnhorst_ (Norddeutscher Lloyd), a German vessel bound for Australia.

**Revised on 27.6.2024 PETER HOFFMAN**
```

#### 6.3.12 Checklist ×œ×‘×“×™×§×ª ×¤×¨×§

×œ×¤× ×™ ×©××¡×™×™××™× ×œ×›×ª×•×‘ ×¤×¨×§, ×‘×“×§×•:

- âœ… ×›×•×ª×¨×ª ×¨××©×™×ª (`##`) ×§×™×™××ª ×•× ×›×•× ×”
- âœ… ×›×œ ×›×™×ª×•×‘×™ ×”×ª××•× ×•×ª ×‘×¤×•×¨××˜ `**_TEXT_**`
- âœ… ××™×Ÿ ×¨×•×•×—×™× ××™×•×ª×¨×™× ×‘×ª×—×™×œ×ª ×©×•×¨×•×ª
- âœ… ×§×•×•×™ ×”×¤×¨×“×” ×”× `---` (×•×œ× ×›×•×›×‘×™×•×ª)
- âœ… ×©×•×¨×•×ª ×¨×™×§×•×ª ×‘×™×Ÿ ×¤×¡×§××•×ª (××—×ª ×‘×œ×‘×“)
- âœ… ×¦×™×˜×•×˜×™× ×‘-`<div class="citation-box">` ××• `<div class="info-box">`
- âœ… ×§×™×©×•×¨×™× × ×§×™×™× (×œ×œ× ×›×•×›×‘×™×•×ª ××™×•×ª×¨×•×ª)
- âœ… ×”×•×¡×¨ metadata ××™×•×ª×¨ ××‘×œ×•×’×™×
- âœ… ×©×™××•×© × ×›×•×Ÿ ×‘-bold/italic/bold+italic
- âœ… ×¢×§×‘×™×•×ª ×¢× ×©××¨ ×”×¤×¨×§×™×

---

## 7. ×¨×›×™×‘×™× ××•×ª×××™× ××™×©×™×ª (Custom Components)

### 7.1 NavBar

**×§×•×‘×¥**: `site/quartz/components/NavBar.tsx`

**×ª×›×•× ×•×ª**:
- Top navigation bar
- Links: Home, All Profiles, Profiles of Interest, About
- Responsive: hamburger menu on mobile
- Styling: inline SCSS

**×¢×™×¦×•×‘**:
- Background: white
- Links: #1a1a1a, no underline
- Hover: tertiary color
- Mobile: hamburger icon, slide-in menu

### 7.2 ProfileTabs

**×§×•×‘×¥**: `site/quartz/components/ProfileTabs.tsx`

**×ª×›×•× ×•×ª**:
- Two main tabs: Biography, Gallery
- Gallery tab hidden if no media
- Content loaded dynamically from `media-index.json` and `chapters-index.json`
- Re-initializes on SPA navigation (event `"nav"`)

**Extended Biography with Chapters**:
- If profile has chapters (in `bios/{ID}/` directory):
  - Adds "Biography" heading (h2) above chapter tabs
  - Creates nested chapter tabs inside Biography tab
  - First tab: "ğŸ“– Introduction" (from `{ID}.md`)
  - Additional tabs: "ğŸ“„ Chapter Name" (from `##-chapter.md` files)
  - Chapter content loaded dynamically on tab click
  - Supports browser back/forward navigation between chapters
  - Parses Markdown to HTML (headings, bold, italic, images, code blocks, lists)
  - Supports wikilinks `[[chapter-slug|Display Text]]` for internal chapter navigation
  - Supports `<div class="citation-box">` and `<div class="info-box">` for special content

**Logic**:
1. `afterDOMLoaded`: runs on initial page load
2. Event listener for `"nav"`: runs on SPA navigation
3. `moveProfileTabsToArticle()`: moves tabs component into article
4. `moveContentToBiographyTab()`: moves profile info and diagrams into Biography tab
5. `loadChaptersIndex()`: fetches chapters-index.json if exists
6. `createChapterTabs()`: creates nested chapter tabs dynamically
7. `loadChapter()`: fetches and parses chapter Markdown content
8. `displayChapter()`: renders chapter HTML with wikilinks as clickable chapter navigation
9. `switchToChapter()`: manages chapter tab activation and URL hash updates
10. `popstate` event listener: handles browser back/forward buttons
11. `loadMedia()`: loads gallery images from media-index.json
12. Switches between main tabs (Biography/Gallery) on click

### 7.3 ArticleTitle

**×§×•×‘×¥**: `site/quartz/components/ArticleTitle.tsx`

**×ª×›×•× ×•×ª**:
- Shows page title
- Only visible on profile pages (`type: profile` in frontmatter)
- Hidden on other pages

### 7.4 PageTitle

**×§×•×‘×¥**: `site/quartz/components/PageTitle.tsx`

**×ª×›×•× ×•×ª**:
- Site title: "Family History"
- Links to homepage
- Styled: bold, colored (secondary)

### 7.5 ContentMeta

**×§×•×‘×¥**: `site/quartz/components/ContentMeta.tsx`

**×ª×›×•× ×•×ª**:
- Shows metadata (date, reading time)
- **Disabled**: `showReadingTime: false` in `quartz.layout.ts`
- **Removed**: from `defaultContentPageLayout` and `defaultListPageLayout`

### 7.6 Footer

**×§×•×‘×¥**: `site/quartz/components/Footer.tsx`

**×ª×›×•× ×•×ª**:
- Footer with links
- Links: Home, All Profiles, Profiles of Interest, About
- Copyright notice

---

## 8. Cache Busting & SPA Navigation

### 8.1 ×”×‘×¢×™×”
Quartz ×”×•× SPA (Single Page Application) - × ×™×•×•×˜ ×‘×™×Ÿ ×“×¤×™× ×œ× ×¢×•×©×” full page reload, ××œ× ×˜×•×¢×Ÿ ×ª×•×›×Ÿ ×“×™× ××™×ª. ×–×” ×™×›×•×œ ×œ×’×¨×•× ×œ×‘×¢×™×•×ª cache ×©×‘×”×Ÿ ×ª×•×›×Ÿ ×™×©×Ÿ × ×©××¨.

### 8.2 ×”×¤×ª×¨×•×Ÿ

**×§×•×‘×¥**: `site/quartz/components/scripts/util.ts`

**×©×™× ×•×™**: ×”×•×¡×¤×ª cache busting ×œ-`fetchCanonical()`

```typescript
export async function fetchCanonical(url: string): Promise<string> {
  // Add cache busting
  const cacheBuster = `_t=${Date.now()}`
  const separator = url.includes('?') ? '&' : '?'
  const urlWithCacheBuster = `${url}${separator}${cacheBuster}`
  
  const response = await fetch(urlWithCacheBuster, {
    cache: 'no-store',
    headers: {
      'Cache-Control': 'no-cache'
    }
  })
  
  return await response.text()
}
```

**×ª×•×¦××”**: ×ª×•×›×Ÿ ×ª××™×“ ×˜×¨×™, ×œ×œ× cache ×™×©×Ÿ

### 8.3 ProfileTabs Re-initialization

**×‘×¢×™×”**: Gallery ×œ× × ×˜×¢×Ÿ ×‘× ×™×•×•×˜ SPA

**×¤×ª×¨×•×Ÿ**: 
1. ×¢×˜×™×¤×ª ×›×œ ×”×œ×•×’×™×§×” ×‘-`initProfileTabs()`
2. ×”×•×¡×¤×ª event listener ×œ-`"nav"` event
3. ×§×¨×™××” ×œ-`initProfileTabs()` ×‘×›×œ × ×™×•×•×˜

**×§×•×“**: `site/quartz/components/ProfileTabs.tsx`

```typescript
document.addEventListener("nav", () => {
  initProfileTabs()
})
```

---

## 9. Git & Deployment

### 9.1 .gitignore

**×§×‘×¦×™× ×©×œ× × ×›× ×¡×™× ×œ-Git (×¢×œ main branch)**:
```
# Generated content
site/content/profiles/*.md
site/content/pages/all-profiles.md
site/content/pages/profiles-of-interest.md
site/content/*.png
site/content/*.jpg

# Build outputs
site/public/              # â† ×¢×•×œ×” ×¨×§ ×¢×œ production branch!
site/.quartz-cache/

# Generated data
site/quartz/static/family-data.json
site/quartz/static/media-index.json
site/quartz/static/documents/
site/quartz/static/chapters/
site/quartz/static/chapters-index.json
```

**×§×‘×¦×™× ×©×›×Ÿ × ×›× ×¡×™× ×œ-Git**:
- `data/tree.ged` (GEDCOM source)
- `bios/*.md` (biographies and chapters)
- `bios/**/*.png`, `bios/**/*.jpg` (images in bios subdirectories)
- `documents/` (media files)
- `content/index.md`, `content/pages/` (static pages)
- `site/quartz/` (Quartz code, components, styles)
- `scripts/doit.py` (build script)
- `.github/workflows/deploy.yml` (GitHub Actions workflow)

### 9.2 Deployment Strategy - Two Branch Model

#### 9.2.1 Architecture Overview

×”×¤×¨×•×™×§×˜ ××©×ª××© ×‘××¡×˜×¨×˜×’×™×™×ª **×©× ×™ branches**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LOCAL MACHINE (C:\projects\V4)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [main branch]                                              â”‚
â”‚  â”œâ”€ data/tree.ged          â† GEDCOM source                 â”‚
â”‚  â”œâ”€ bios/*.md              â† Biography markdown files       â”‚
â”‚  â”œâ”€ bios/I10/*.jpg         â† Images in subdirectories      â”‚
â”‚  â”œâ”€ scripts/doit.py        â† Content generator             â”‚
â”‚  â”œâ”€ site/quartz/           â† Quartz source code            â”‚
â”‚  â””â”€ site/content/          â† Generated content (tracked)   â”‚
â”‚                                                             â”‚
â”‚  [production branch]                                        â”‚
â”‚  â””â”€ site/public/           â† Built website (tracked)       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ git push
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GITHUB (github.com/moshehoff/FamilyHistory)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [main branch]          â† Development work                  â”‚
â”‚  â”œâ”€ All source files                                        â”‚
â”‚  â””â”€ NOT deployed                                            â”‚
â”‚                                                             â”‚
â”‚  [production branch]    â† Ready for deployment             â”‚
â”‚  â”œâ”€ All source files                                        â”‚
â”‚  â”œâ”€ site/public/ (built website)                           â”‚
â”‚  â””â”€ âœ… Triggers GitHub Actions                             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ GitHub Actions
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GITHUB PAGES                                               â”‚
â”‚  https://moshehoff.github.io/FamilyHistory/                â”‚
â”‚                                                             â”‚
â”‚  âœ… Live website served to users                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 9.2.2 Branch Roles

| Branch | Purpose | Contains `site/public/`? | Triggers Deploy? |
|--------|---------|-------------------------|------------------|
| `main` | Development work, WIP commits | âŒ No | âŒ No |
| `production` | Release-ready code | âœ… Yes (forced) | âœ… Yes |

**Why Two Branches?**
1. **Control**: You decide exactly when to publish
2. **Safety**: Never accidentally deploy broken code
3. **Flexibility**: Make many commits without affecting live site
4. **Testing**: Always test locally before publishing

#### 9.2.3 Daily Development Workflow

**Scenario 1: Regular Development (No Deploy)**

```powershell
# Work on main branch as usual
git checkout main

# Edit files (GEDCOM, bios, code, etc.)
# Make as many commits as you want

git add .
git commit -m "WIP: working on new feature"
git push origin main  # â† Does NOT deploy to live site
```

**Scenario 2: Ready to Publish**

```powershell
# 1. Ensure you're on main and up-to-date
git checkout main
git pull

# 2. Build the site
cd scripts
python doit.py
cd ../site
npx quartz build

# 3. Test locally (CRITICAL!)
npx quartz build --serve
# Open http://localhost:8080
# Verify everything works correctly
# Press Ctrl+C when done

# 4. Commit build results
cd C:\projects\V4
git add .
git commit -m "build: ready for production $(Get-Date -Format 'yyyy-MM-dd')"
git push origin main

# 5. Merge to production
git checkout production
git merge main -m "deploy: describe your changes here"

# 6. Force-add the public directory (normally ignored)
git add -f site/public/
git commit --amend --no-edit

# 7. Push to production - this triggers deployment!
git push origin production

# 8. Return to main for continued work
git checkout main

# 9. Check deployment status
# Go to: https://github.com/moshehoff/FamilyHistory/actions
# Wait 30-60 seconds for completion
# Visit: https://moshehoff.github.io/FamilyHistory/
```

**Scenario 3: Hotfix After Deploy**

```powershell
# Fix on main
git checkout main
# Make your fix...
cd scripts && python doit.py
cd ../site && npx quartz build
cd C:\projects\V4

git add .
git commit -m "hotfix: description"
git push origin main

# Quick redeploy
git checkout production
git merge main
git add -f site/public/
git commit --amend --no-edit
git push origin production

git checkout main
```

#### 9.2.4 GitHub Actions Workflow

**File**: `.github/workflows/deploy.yml`

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - production  # Only deploy when pushing to production

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout production branch
        uses: actions/checkout@v4
        with:
          ref: production
      
      - name: Verify site/public exists
        run: |
          if [ ! -d "site/public" ]; then
            echo "ERROR: site/public not found!"
            exit 1
          fi
      
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: site/public
      
      - name: Deploy to GitHub Pages
        uses: actions/deploy-pages@v4
```

**How It Works:**
1. Workflow triggers only on push to `production` branch
2. Checks that `site/public/` exists (verification)
3. Uploads `site/public/` directory as artifact
4. Deploys to GitHub Pages
5. Site live at: https://moshehoff.github.io/FamilyHistory/

**Deployment Time**: ~30-60 seconds

#### 9.2.5 GitHub Pages Configuration

**Repository Settings** (one-time setup):
1. Go to: https://github.com/moshehoff/FamilyHistory/settings/pages
2. Under "Build and deployment" â†’ Source: **GitHub Actions**
3. Done! No other configuration needed.

#### 9.2.6 Quartz Configuration

**File**: `site/quartz.config.ts`

```typescript
const config: QuartzConfig = {
  configuration: {
    baseUrl: "moshehoff.github.io/FamilyHistory",  // â† GitHub Pages URL
    // ... rest of config
  },
}
```

**Important**: The `baseUrl` must match your GitHub Pages URL for:
- Correct asset paths (CSS, JS, images)
- Proper internal links
- SPA routing

#### 9.2.7 Troubleshooting

**Problem: Deployment Failed**
```powershell
# Check GitHub Actions log:
# https://github.com/moshehoff/FamilyHistory/actions

# Common causes:
# 1. site/public/ not found â†’ forgot to build before pushing
# 2. Permission denied â†’ check Pages settings
```

**Problem: Wrong Version Deployed**
```powershell
# Rollback to previous version
git checkout production
git reset --hard HEAD~1
git push -f origin production
git checkout main
```

**Problem: Need to Update production without deploying**
```powershell
# Merge code changes but don't add site/public/
git checkout production
git merge main --no-ff
# Don't run: git add -f site/public/
git push origin production  # â† Won't deploy (no site/public/)
git checkout main
```

**Problem: Clear All Caches**
```powershell
cd C:\projects\V4\site
Remove-Item -Recurse -Force .quartz-cache
Remove-Item -Recurse -Force public
npx quartz build
```

#### 9.2.8 Emergency Procedures

**Take Site Offline Immediately**
1. Go to: https://github.com/moshehoff/FamilyHistory/settings/pages
2. Under "Source" â†’ Select "None"
3. Site will be offline within minutes

**Rollback to Known Good Version**
```powershell
# Find the commit hash
git log production --oneline

# Reset to that commit
git checkout production
git reset --hard [commit-hash]
git push -f origin production
git checkout main
```

#### 9.2.9 Deployment Checklist

**Before Every Deploy:**
- [ ] Built site locally: `doit.py` + `quartz build`
- [ ] Tested locally: `npx quartz build --serve`
- [ ] Verified all images load
- [ ] Checked console for errors (F12)
- [ ] Navigation works correctly
- [ ] Chapter tabs function properly
- [ ] Links are not broken

**After Deploy:**
- [ ] Check Actions: https://github.com/moshehoff/FamilyHistory/actions
- [ ] Visit site: https://moshehoff.github.io/FamilyHistory/
- [ ] Test key features
- [ ] Verify no 404 errors in browser console

#### 9.2.10 Documentation

**Full deployment guide**: See `DEPLOYMENT.md` for:
- Detailed workflows
- Common scenarios
- Complete troubleshooting guide
- Emergency procedures

**Live Site**: https://moshehoff.github.io/FamilyHistory/

#### 9.2.11 Initial Setup - Completed âœ…

**Status**: Deployment infrastructure fully implemented (November 10, 2025)

**What was completed:**

1. **âœ… GitHub Actions Workflow**
   - Created `.github/workflows/deploy.yml`
   - Configured to trigger on `production` branch pushes
   - Verifies `site/public` exists before deploying
   - Deploys to GitHub Pages automatically

2. **âœ… Quartz Configuration**
   - Updated `site/quartz.config.ts` with correct `baseUrl`
   - Set to: `"moshehoff.github.io/FamilyHistory"`

3. **âœ… Production Branch**
   - Created `production` branch
   - Built site with `doit.py` + `quartz build`
   - Force-added `site/public/` directory
   - Pushed to GitHub successfully
   - First deployment triggered

4. **âœ… Documentation**
   - Created comprehensive `DEPLOYMENT.md` guide
   - Updated `README.md` with deployment section
   - Updated this specification with full deployment details

5. **â³ Pending: GitHub Pages Settings**
   - Need to verify repository settings at:
     https://github.com/moshehoff/FamilyHistory/settings/pages
   - Ensure "Source" is set to: **GitHub Actions**
   - Wait for first deployment to complete (~30-60 seconds)
   - Verify site is live at: https://moshehoff.github.io/FamilyHistory/

**Next Steps for User:**
1. Visit: https://github.com/moshehoff/FamilyHistory/actions
2. Check that the "Deploy to GitHub Pages" workflow is running/completed
3. If needed, go to repository Settings â†’ Pages and set Source to "GitHub Actions"
4. Once deployed, test the live site at: https://moshehoff.github.io/FamilyHistory/

**Files Created/Modified:**
- `.github/workflows/deploy.yml` (new)
- `DEPLOYMENT.md` (new)
- `README.md` (updated)
- `site/quartz.config.ts` (updated)
- `FAMILY_HISTORY_SPECIFICATION_DETAILED.md` (this file, updated)

---

## 10. ××‘× ×” ×§×•×“ ××¤×•×¨×˜

### 10.1 scripts/doit.py

#### Functions Overview

**Parsing**:
- `parse_gedcom_file(path)` - ×§×•×¨× GEDCOM ×œ-dictionaries
- `norm_individual(iid, d)` - ×× ×¨××œ individual record
- `norm_family(fid, d)` - ×× ×¨××œ family record

**Building**:
- `build_obsidian_notes(individuals, families, out_dir, bios_dir)` - ×™×•×¦×¨ profiles
- `build_family_tree_diagram(p, individuals, families)` - Nuclear family diagram
- `build_ancestors_diagram(p, individuals, families, generations=2)` - Ancestors diagram
- `build_descendants_diagram(p, individuals, families, generations=2)` - Descendants diagram

**Helpers**:
- `wl_place_html(place)` - ×™×•×¦×¨ HTML link ×œ××§×•× (Wikipedia)
- `person_link_to_html(wikilink)` - ×××™×¨ `[[Name]]` ×œ-HTML `<a>` tag
- `safe_filename(name)` - ×× ×§×” ×©× ×œ×©×™××•×© ×‘-filename/URL

**Indexes**:
- `write_people_index(people_dir, pages_dir)` - ×™×•×¦×¨ `all-profiles.md`
- `write_bios_index(people_dir, pages_dir, bios_dir)` - ×™×•×¦×¨ `profiles-of-interest.md`

**Media**:
- `create_media_index(documents_dir, static_dir)` - ×™×•×¦×¨ `media-index.json`
- `copy_image_files(bios_dir, site_content_dir)` - ××¢×ª×™×§ ×ª××•× ×•×ª ×-bios/

**Utilities**:
- `copy_source_content(src_content_dir, dst_content_dir)` - ××¢×ª×™×§ content/
- `clean_project()` - ×× ×§×” ×§×‘×¦×™× ×’× ×¨×™×™×
- `generate_family_data_json(individuals, families, out_file)` - ×™×•×¦×¨ family-data.json

#### Key Data Structures

**individuals dictionary**:
```python
{
  "@I10@": {
    "NAME": "Moshe /Hoffman/",
    "BIRT": {"DATE": "circa 1884", "PLAC": "Savran, Podolia..."},
    "DEAT": {"DATE": "April 7, 1973", "PLAC": "Perth, Australia"},
    "OCCU": "wheelwright, publican, businessman",
    "FAMS": ["@F1@", "@F2@"],
    "FAMC": "@F0@",
    ...
  }
}
```

**normalized person**:
```python
{
  "id": "@I10@",
  "name": "Moshe ××©×” Hoffman",
  "birth_date": "circa 1884",
  "birth_place": "Savran, Podolia, Odessa oblast, Ukraine",
  "death_date": "April 7, 1973",
  "death_place": "Perth, Australia",
  "occupation": "wheelwright, publican, businessman",
  "notes": "Created by: https://...",
  "famc": "@F0@",
  "fams": ["@F1@"]
}
```

### 10.2 Place Mappings

**××™×§×•×**: Hardcoded in `doit.py`

```python
place_to_wiki = {
    "Savran, Podolia, Odessa oblast, Ukraine": "Savran",
    "Perth, Australia": "Perth",
    "Subiaco, Perth, Western Australia, Australia": "Subiaco,_Western_Australia",
    ...
}
```

**×©×™××•×©**: `wl_place_html()` ××©×ª××© ×‘××™×¤×•×™ ×œ×™×¦×™×¨×ª ×§×™×©×•×¨×™ Wikipedia

---

## 11. ×¢×™×¦×•×‘ ××ª×§×“× (Advanced Styling)

### 11.1 CSS Specificity & Overrides

**×‘×¢×™×”**: Quartz ×™×© CSS ××©×œ×• ×©×œ×¢×™×ª×™× ×“×•×¨×¡ ××ª ×”×¡×’× ×•× ×•×ª ×”××•×ª×××™×

**×¤×ª×¨×•×Ÿ**: ×©×™××•×© ×‘-`!important` ×‘××§×•××•×ª × ×“×¨×©×™×

**×“×•×’×××•×ª**:
```scss
// Navbar links - override global link styles
.navbar-menu a {
  color: #1a1a1a !important;
  text-decoration: none !important;
  background-color: transparent !important;
}

// Explorer links - override global link styles
.explorer-content ul li > a {
  color: #1a1a1a !important;
  opacity: 1 !important;
  text-decoration: none !important;
}
```

### 11.2 CSS Grid for Profile Info

**××˜×¨×”**: ×¢×™××•×“ ×¢×§×‘×™ ×©×œ ×¤×¨×˜×™ ×”×¤×¨×•×¤×™×œ, ×’× ×›×©×”×˜×§×¡×˜ ×¢×•×˜×£ ×œ×©×•×¨×” ×”×‘××”

**×¤×ª×¨×•×Ÿ**: CSS Grid ×¢× 2 columns

```scss
.profile-info-list {
  display: grid;
  grid-template-columns: auto 1fr; // Label auto-width, value fills rest
  gap: 0.5rem 1rem; // Row gap, column gap
  
  dt {
    color: #666;
    font-weight: 600;
    text-align: left;
    white-space: nowrap; // Labels don't wrap
  }
  
  dd {
    margin: 0;
    color: #000;
    word-wrap: break-word; // Values wrap if needed
    overflow-wrap: break-word;
  }
}
```

**×ª×•×¦××”**:
```
Birth:        circa 1884 at Savran, Podolia, Odessa oblast, Ukraine
Death:        April 7, 1973 at Perth, Australia
Occupation:   wheelwright, publican, businessman
Parents:      â€”
Siblings:     â€”
Spouse:       Tobl Hochman (Hoffman)
Children:     Aaron Harry ××”×¨×•×Ÿ Hoffman, Bella Hoffman, Hyman Judah Hoffman,
              Wolf Hoffman, Alyce Breazeale, Jack Hoffman
```

### 11.3 Mermaid Diagram Styling

**×§×•×“**: `scripts/doit.py`

```python
classDef current fill:#bbdefb,stroke:#1976d2,stroke-width:3px
class {current_id} current
```

**×ª×•×¦××”**: ×”×¤×¨×•×¤×™×œ ×”× ×•×›×—×™ ××•×“×’×© ×‘×›×—×•×œ ×‘×”×™×¨

**Links**: ×›×œ node ×§×œ×™×§ ×•×× ×•×•×˜ ×œ×¤×¨×•×¤×™×œ

```python
click {node_id} "/profiles/{encoded_name}" "Person Name"
```

---

## 12. ×‘×¢×™×•×ª × ×¤×•×¦×•×ª ×•×¤×ª×¨×•× ×•×ª

### 12.1 Gallery ×œ× × ×˜×¢×Ÿ ×‘× ×™×•×•×˜ SPA

**×ª×¡××™× ×™×**: Gallery ××•×¤×™×¢ ×¨×§ ××—×¨×™ F5, × ×¢×œ× ×‘× ×™×•×•×˜

**×¡×™×‘×”**: `afterDOMLoaded` ×œ× ×¨×¥ ×‘× ×™×•×•×˜ SPA

**×¤×ª×¨×•×Ÿ**: 
1. Cache busting ×‘-`util.ts`
2. Re-initialization ×‘-`ProfileTabs.tsx` ×¢×œ event `"nav"`

### 12.2 Links ×‘×¤×¨×•×¤×™×œ ×œ× ×¢×•×‘×“×™×

**×ª×¡××™× ×™×**: ×§×™×©×•×¨×™× ×œ-persons/places ×œ× ×§×œ×™×§×™×

**×¡×™×‘×”**: Markdown wikilinks ×‘×ª×•×š HTML structure

**×¤×ª×¨×•×Ÿ**: ×™×¦×™×¨×ª HTML `<a>` tags ×™×©×™×¨×•×ª ×‘-`doit.py`

```python
def person_link_to_html(wikilink):
    name = wikilink.replace("[[", "").replace("]]", "")
    encoded_name = urllib.parse.quote(name)
    return f'<a href="/profiles/{encoded_name}">{name}</a>'
```

### 12.3 Navbar/Explorer links ××¤×•×¨×™×

**×ª×¡××™× ×™×**: ×§×™×©×•×¨×™× ×‘navbar/explorer × ×¨××™× ××¤×•×¨×™×

**×¡×™×‘×”**: Global link styles ×“×•×¨×¡×™×

**×¤×ª×¨×•×Ÿ**: `!important` ×¢×œ ×”×¦×‘×¢

```scss
.navbar-menu a {
  color: #1a1a1a !important;
}
```

### 12.4 ×©×•×¨×•×ª ××¨×•×›×•×ª ×‘×‘×™×•×’×¨×¤×™×”

**×ª×¡××™× ×™×**: ×˜×§×¡×˜ ×¨×¥ ×œ×›×œ ×¨×•×—×‘ ×”××¡×š

**×¡×™×‘×”**: ××™×Ÿ ×”×’×‘×œ×ª ×¨×•×—×‘

**×¤×ª×¨×•×Ÿ**: ~~`max-width` ×¢×œ `article`~~ (×œ× ×”×•×˜××¢ ×›×¨×’×¢)

### 12.5 Line breaks ×œ× ×¢×•×‘×“×™×

**×ª×¡××™× ×™×**: ×©×•×¨×•×ª ×¨×¦×•×¤×•×ª ××ª××–×’×•×ª ×œ×©×•×¨×” ××—×ª

**×¡×™×‘×”**: Markdown ××ª××–×’ ×©×•×¨×•×ª ×¨×¦×•×¤×•×ª

**×¤×ª×¨×•×Ÿ**: ×©×ª×™ ×¨×•×•×—×™× ×‘×¡×•×£ ×”×©×•×¨×”

```markdown
Line 1  
Line 2
```

### 12.6 Image captions ×××•×¨×›×–×™× ×‘×˜×¢×•×ª

**×ª×¡××™× ×™×**: ×˜×§×¡×˜ ×¨×’×™×œ (italic) ×××•×¨×›×– ×›××™×œ×• ×”×•× caption

**×¡×™×‘×”**: CSS selector ×¨×—×‘ ××“×™

**×¤×ª×¨×•×Ÿ**: selector ×¡×¤×¦×™×¤×™ `strong > em:only-child` - ×¨×§ `**_caption_**` ×××•×¨×›×–

---

## 13. ×ª×›×•× ×•×ª ×©×œ× ×”×•×˜××¢×•

### 13.1 ××¢×¨×›×ª ×ª×’×•×‘×•×ª
**×”×—×œ×˜×”**: ×œ× ×œ×”×˜××™×¢ - ××ª×¨ ×¡×˜×˜×™, ××™×Ÿ backend

### 13.2 ×ª××™×›×” ×¨×‘-×œ×©×•× ×™×ª (Multi-language)
**×”×—×œ×˜×”**: ×”×•×˜××¢ ×•××– ×”×•×¡×¨ - ×™×•×ª×¨ ××“×™ ××•×¨×›×‘, ×œ× × ×“×¨×©

**×¢×§×¨×•×Ÿ × ×•×›×—×™**: GUI ×‘×× ×’×œ×™×ª, ×ª×•×›×Ÿ ×œ×¤×™ ×”××§×•×¨

### 13.3 ×¢×¥ ××©×¤×—×ª×™ ×’×“×•×œ ××™× ×˜×¨××§×˜×™×‘×™
**×¡×˜×˜×•×¡**: `family-data.json` × ×•×¦×¨, ××‘×œ ××™×Ÿ ×¨×›×™×‘ ×©××©×ª××© ×‘×• ×›×¨×’×¢

### 13.4 ×¢××•×“×™ ××©× ×” (Sub-pages) ×œ×‘×™×•×’×¨×¤×™×•×ª
**×¡×˜×˜×•×¡**: ×”×•×˜××¢ ×•××– ×”×•×¡×¨ - ×œ× × ×“×¨×© ×›×¨×’×¢

**×”×¢×¨×”**: ×”×§×•×“ ×§×™×™× ×‘-history, ××¤×©×¨ ×œ×”×—×–×™×¨ ×‘×¢×ª×™×“

---

## 14. ××¤×ª ×“×¨×›×™× ×¢×ª×™×“×™×ª (Future Roadmap)

### 14.1 ×ª×›×•× ×•×ª ××¤×©×¨×™×•×ª
- [ ] ×¢×¥ ××©×¤×—×ª×™ ×’×“×•×œ ××™× ×˜×¨××§×˜×™×‘×™ (×©×™××•×© ×‘-`family-data.json`)
- [ ] ×—×™×¤×•×© ××ª×§×“× (Quartz ×›×‘×¨ ××¡×¤×§ ×—×™×¤×•×© ×‘×¡×™×¡×™)
- [ ] ×¢××•×“×™ ××©× ×” ×œ×‘×™×•×’×¨×¤×™×•×ª (sub-pages)
- [ ] ×ª××•× ×•×ª ×¤×¨×•×¤×™×œ (profile photos)
- [ ] Timeline visualization
- [ ] Export to PDF
- [ ] Print-friendly styling

### 14.2 ×©×™×¤×•×¨×™× ××¤×©×¨×™×™×
- [ ] Lazy loading ×œ×ª××•× ×•×ª
- [ ] Progressive Web App (PWA)
- [ ] Dark mode (Quartz ×›×‘×¨ ×ª×•××š)
- [ ] Accessibility improvements
- [ ] SEO optimization
- [ ] Social media preview images (OG images - Quartz ×›×‘×¨ ×™×•×¦×¨)

---

## 15. ××¡××›×™× × ×•×¡×¤×™×

### 15.1 ×§×‘×¦×™× ×§×©×•×¨×™×
- `README.md` - ××“×¨×™×š ×”×ª×§× ×” ×•×”×¨×¦×”
- `scripts/doit.py` - ×§×•×“ ××ª×•×¢×“
- `site/quartz.config.ts` - ×ª×¦×•×¨×ª Quartz
- `site/quartz.layout.ts` - ×¤×¨×™×¡×ª ×“×¤×™×

### 15.2 ××©××‘×™× ×—×™×¦×•× ×™×™×
- [Quartz Documentation](https://quartz.jzhao.xyz/)
- [Mermaid Documentation](https://mermaid.js.org/)
- [GEDCOM Specification](https://gedcom.io/)
- [Markdown Guide](https://www.markdownguide.org/)

---

## 16. ×”×™×¡×˜×•×¨×™×™×ª ×’×¨×¡××•×ª

### v3.1 (× ×•×‘××‘×¨ 2025) - Current
- âœ… **GitHub Pages Deployment** with two-branch strategy
- âœ… Smooth scroll to chapter heading when switching tabs
- âœ… Typography: Segoe UI 14px
- âœ… Explorer: 14px font
- âœ… Line breaks fix in Hebrew quotes
- âœ… Image captions with `**_caption_**` format
- âœ… ASCII art for children list
- âœ… Blockquotes, citation boxes, info boxes styling
- âœ… Extended biography chapters system with navigation

### v3.0 (× ×•×‘××‘×¨ 2025)
- âœ… Biography chapters with tabs
- âœ… Image handling from subdirectories
- âœ… Chapter navigation with internal links
- âœ… Blue links in biography content
- âœ… Colored headings in chapters

### v2.0 (××•×§×˜×•×‘×¨ 2025)
- âœ… Top navigation bar
- âœ… Profile tabs (Biography, Gallery)
- âœ… Cache busting for SPA
- âœ… Profile info with CSS Grid
- âœ… Mermaid diagrams with clickable links
- âœ… Media index system

### v1.0 (×¡×¤×˜××‘×¨ 2025)
- âœ… Basic GEDCOM parsing
- âœ… Profile generation
- âœ… Quartz integration
- âœ… Basic styling

---

**×¡×•×£ ×”××¡××š**
